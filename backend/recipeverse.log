2025-07-05 23:21:06,680 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:21:07,214 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:21:07,214 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:21:07,247 - INFO - Successfully tested SQLite connection
2025-07-05 23:21:07,248 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:21:07,254 - INFO - Database initialized with user and recipe tables
2025-07-05 23:21:11,124 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:21:11,758 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:21:11,759 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:21:11,760 - INFO - Successfully tested SQLite connection
2025-07-05 23:21:11,760 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:21:11,762 - INFO - Database initialized with user and recipe tables
2025-07-05 23:21:20,913 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:21:29,267 - DEBUG - Google callback: google_id=100159459859503273137, email=earthstonecraftshop@gmail.com, username=Michael
2025-07-05 23:21:29,282 - ERROR - Google callback error: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
2025-07-05 23:23:34,712 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:23:35,612 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:23:35,613 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:23:35,614 - INFO - Successfully tested SQLite connection
2025-07-05 23:23:35,614 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:23:35,618 - INFO - Database initialized with user and recipe tables
2025-07-05 23:23:51,329 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:23:52,215 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:23:52,216 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:23:52,218 - INFO - Successfully tested SQLite connection
2025-07-05 23:23:52,219 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:23:52,230 - INFO - Database initialized with user and recipe tables
2025-07-05 23:24:12,969 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:24:13,528 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:24:13,529 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:24:13,530 - INFO - Successfully tested SQLite connection
2025-07-05 23:24:13,530 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:24:13,532 - INFO - Database initialized with user and recipe tables
2025-07-05 23:25:14,474 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:25:20,038 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:25:25,039 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:26:13,951 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:26:14,478 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:26:14,478 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:26:14,480 - INFO - Successfully tested SQLite connection
2025-07-05 23:26:14,480 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:26:14,482 - INFO - Database initialized with user and recipe tables
2025-07-05 23:26:19,687 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:26:20,214 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:26:20,215 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:26:20,216 - INFO - Successfully tested SQLite connection
2025-07-05 23:26:20,216 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:26:20,218 - INFO - Database initialized with user and recipe tables
2025-07-05 23:26:25,208 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:26:32,364 - DEBUG - Google callback: google_id=109658376252870367793, email=entcorpinternational@gmail.com, username=Michael Kennedy
2025-07-05 23:26:32,370 - ERROR - Google callback error: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
2025-07-05 23:33:41,457 - DEBUG - Initialized db with app, db instance: 2554263435792, app: 2554263430752
2025-07-05 23:33:41,467 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:33:42,596 - DEBUG - Registered payment blueprint, db instance: 2554263435792
2025-07-05 23:33:42,597 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:33:42,598 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:33:42,607 - INFO - Successfully tested SQLite connection
2025-07-05 23:33:42,607 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:33:42,614 - INFO - Database initialized with user and recipe tables
2025-07-05 23:33:47,962 - DEBUG - Initialized db with app, db instance: 1842925992464, app: 1842925987424
2025-07-05 23:33:47,966 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:33:48,493 - DEBUG - Registered payment blueprint, db instance: 1842925992464
2025-07-05 23:33:48,494 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:33:48,494 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:33:48,495 - INFO - Successfully tested SQLite connection
2025-07-05 23:33:48,495 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:33:48,497 - INFO - Database initialized with user and recipe tables
2025-07-05 23:34:12,406 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:34:12,898 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:34:12,899 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:34:12,900 - INFO - Successfully tested SQLite connection
2025-07-05 23:34:12,900 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:34:12,902 - INFO - Database initialized with user and recipe tables
2025-07-05 23:36:39,709 - DEBUG - Initialized db with app, db instance: 2656087865872, app: 2656087860832
2025-07-05 23:36:39,713 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:36:40,425 - DEBUG - Registered payment blueprint, db instance: 2656087865872, app: 2656087860832
2025-07-05 23:36:40,426 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:36:40,427 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:36:40,429 - INFO - Successfully tested SQLite connection
2025-07-05 23:36:40,429 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:36:40,432 - INFO - Database initialized with user and recipe tables
2025-07-05 23:36:50,565 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:36:51,626 - INFO - Ensured instance directory exists: C:\Users\leebu\Desktop\recipeverse\backend\instance
2025-07-05 23:36:51,628 - INFO - Resolved SQLite database path: C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:36:51,632 - INFO - Successfully tested SQLite connection
2025-07-05 23:36:51,633 - INFO - Database URI: sqlite:///C:\Users\leebu\Desktop\recipeverse\backend\instance\recipeverse.db
2025-07-05 23:36:51,641 - INFO - Database initialized with user and recipe tables
2025-07-05 23:52:56,060 - DEBUG - Initialized db with app, db instance: 2574129133760, app: 2574129128720
2025-07-05 23:52:56,066 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:54:52,858 - DEBUG - Initialized db with app, db instance: 2845252090048, app: 2845252085008
2025-07-05 23:54:52,862 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:54:58,943 - DEBUG - Initialized db with app, db instance: 2116958271680, app: 2116958266640
2025-07-05 23:54:58,949 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:55:11,203 - DEBUG - Initialized db with app, db instance: 2117032119824, app: 2117032117584
2025-07-05 23:55:11,205 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:55:35,625 - DEBUG - google_callback: db instance: 2116958271680, app: 2116958266640, current_app: 2116910327760, session: {'_fresh': False, '_state_google_nLFqX7cwnawm2KxStrA7psdX4TbjP5': {'data': {'nonce': 'U4Z6qc6WZ1Y8z8MnqJDt', 'redirect_uri': 'http://127.0.0.1:5000/google/callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle%2Fcallback&scope=openid+email+profile&state=nLFqX7cwnawm2KxStrA7psdX4TbjP5&nonce=U4Z6qc6WZ1Y8z8MnqJDt'}, 'exp': 1751759727.9395058}}
2025-07-05 23:55:36,063 - DEBUG - Google callback: google_id=104032329201519720434, email=detroitprojectmusic@gmail.com, username=Detroit Project
2025-07-05 23:55:36,077 - ERROR - Google callback error: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
2025-07-05 23:57:37,290 - DEBUG - Initialized db with app, db instance: 2067176405184, app: 2067176400144
2025-07-05 23:57:37,295 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:57:42,437 - DEBUG - Initialized db with app, db instance: 2067250187792, app: 2067250185552
2025-07-05 23:57:42,439 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-05 23:57:54,624 - DEBUG - google_callback: db instance: 2067176405184, app: 2067176400144, current_app: 2067128330192, session: {'_fresh': False, '_state_google_ZMMQswcfQog8RHEhqXC8oHCBhuEpX8': {'data': {'nonce': 'kr92NxYuBoF9A7ojqubu', 'redirect_uri': 'http://127.0.0.1:5000/google/callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle%2Fcallback&scope=openid+email+profile&state=ZMMQswcfQog8RHEhqXC8oHCBhuEpX8&nonce=kr92NxYuBoF9A7ojqubu'}, 'exp': 1751759871.2329257}}
2025-07-05 23:57:54,985 - DEBUG - Google callback: google_id=105346857467561032846, email=futrbit@gmail.com, username=Michael's at work
2025-07-05 23:57:54,991 - ERROR - Google callback error: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
2025-07-06 00:01:24,087 - DEBUG - Initialized db with app, db instance: 2217656744128, app: 2217656739088
2025-07-06 00:01:24,091 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:01:43,227 - DEBUG - Initialized db with app, db instance: 1634104096960, app: 1634104091920
2025-07-06 00:01:43,231 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:02:39,903 - DEBUG - google_callback: db instance: 1634104096960, app: 1634104091920, current_app: 1634055890896, session: {'_fresh': False, '_state_google_dtf7TyRUHwnPjQJxtrEpKqnP9VRFxB': {'data': {'nonce': 'mF9MXVnAskYbXs5autNI', 'redirect_uri': 'http://127.0.0.1:5000/google/callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle%2Fcallback&scope=openid+email+profile&state=dtf7TyRUHwnPjQJxtrEpKqnP9VRFxB&nonce=mF9MXVnAskYbXs5autNI'}, 'exp': 1751760156.9648726}}
2025-07-06 00:02:40,305 - DEBUG - Google callback: google_id=103348751947873777032, email=mangiftuk@gmail.com, username=Manvscoin
2025-07-06 00:02:40,308 - ERROR - Google callback error: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
2025-07-06 00:02:54,486 - DEBUG - Login attempt: identifier=k3ndo
2025-07-06 00:02:54,487 - ERROR - Login error: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
2025-07-06 00:06:45,556 - DEBUG - google_callback: db instance: 1634104096960, app: 1634104091920, current_app: 1634055890896, session: {'_fresh': False}
2025-07-06 00:06:45,557 - ERROR - Google callback error: mismatching_state: CSRF Warning! State not equal in request and response.
2025-07-06 00:07:27,644 - DEBUG - google_callback: db instance: 1634104096960, app: 1634104091920, current_app: 1634055890896, session: {'_fresh': False, '_state_google_QgsWxw9R1nDjYEKLJHoEysTwlliGc5': {'data': {'nonce': 'MM7pXuahNcqIbI5Ehx3W', 'redirect_uri': 'http://127.0.0.1:5000/google/callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle%2Fcallback&scope=openid+email+profile&state=QgsWxw9R1nDjYEKLJHoEysTwlliGc5&nonce=MM7pXuahNcqIbI5Ehx3W'}, 'exp': 1751760445.2096896}}
2025-07-06 00:07:27,843 - DEBUG - Google callback: google_id=109658376252870367793, email=entcorpinternational@gmail.com, username=Michael Kennedy
2025-07-06 00:07:27,845 - ERROR - Google callback error: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
2025-07-06 00:10:22,884 - DEBUG - Initialized db with app, db instance: 2238016567488, app: 2238016562448
2025-07-06 00:10:22,888 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:10:38,417 - DEBUG - google_callback: db instance: 2238016567488, app: 2238016562448, current_app: 2237968279936, session: {'_fresh': False, '_state_google_Wdm8aLINi4ZVCLYQvot0oH6YTdNXs5': {'data': {'nonce': 'EOIWLsyFL0fPqZFwgK6o', 'redirect_uri': 'http://127.0.0.1:5000/google/callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle%2Fcallback&scope=openid+email+profile&state=Wdm8aLINi4ZVCLYQvot0oH6YTdNXs5&nonce=EOIWLsyFL0fPqZFwgK6o'}, 'exp': 1751760635.108371}}
2025-07-06 00:10:38,824 - DEBUG - Google callback: google_id=109658376252870367793, email=entcorpinternational@gmail.com, username=Michael Kennedy
2025-07-06 00:10:38,827 - ERROR - Google callback error: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
2025-07-06 00:12:28,437 - DEBUG - Initialized db with app, db instance: 2159905192128, app: 2159905187088
2025-07-06 00:12:28,441 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:12:32,505 - DEBUG - Initialized db with app, db instance: 1227290540224, app: 1227290535184
2025-07-06 00:12:32,509 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:12:42,834 - DEBUG - google_callback: db instance: 1227290540224, app: 1227290535184, current_app: 1227242531200, session: {'_fresh': False, '_state_google_whL0ecbHslUuMXkuFNeYVvuKf40C9W': {'data': {'nonce': 'lpG5ie8EksPlKIFpSf38', 'redirect_uri': 'http://127.0.0.1:5000/google/callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle%2Fcallback&scope=openid+email+profile&state=whL0ecbHslUuMXkuFNeYVvuKf40C9W&nonce=lpG5ie8EksPlKIFpSf38'}, 'exp': 1751760759.798461}}
2025-07-06 00:12:43,609 - DEBUG - Google callback: google_id=109658376252870367793, email=entcorpinternational@gmail.com, username=Michael Kennedy
2025-07-06 00:12:43,613 - ERROR - Google callback error: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
2025-07-06 00:13:24,772 - DEBUG - Initialized db with app, db instance: 2272767097024, app: 2272767091984
2025-07-06 00:13:24,776 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:13:28,757 - DEBUG - Initialized db with app, db instance: 2360838748352, app: 2360838743312
2025-07-06 00:13:28,761 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:13:38,131 - DEBUG - google_callback: db instance: 2360838748352, app: 2360838743312, current_app: 2360790608256, session: {'_fresh': False, '_state_google_Uvc6sP5Rh1HrRaRo3UFSbtE8ztiVwD': {'data': {'nonce': 'uUyhd77vZTmmWSu8bssj', 'redirect_uri': 'http://127.0.0.1:5000/google/callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle%2Fcallback&scope=openid+email+profile&state=Uvc6sP5Rh1HrRaRo3UFSbtE8ztiVwD&nonce=uUyhd77vZTmmWSu8bssj'}, 'exp': 1751760815.1394289}}
2025-07-06 00:13:38,521 - DEBUG - Google callback: google_id=100159459859503273137, email=earthstonecraftshop@gmail.com, username=Michael
2025-07-06 00:13:38,524 - ERROR - Google callback error: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
2025-07-06 00:19:38,137 - DEBUG - Initialized db with app, db instance: 2749543931184, app: 2749560287792
2025-07-06 00:19:38,141 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:29:24,311 - DEBUG - Initialized db with app, db instance: 2380969073968, app: 2380985496112
2025-07-06 00:29:24,316 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:29:28,358 - DEBUG - Initialized db with app, db instance: 2448254426416, app: 2448270783024
2025-07-06 00:29:28,362 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:40:12,409 - DEBUG - Initialized db with app, db instance: 2098990538032, app: 2099006960176
2025-07-06 00:40:12,413 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:40:16,228 - DEBUG - Initialized db with app, db instance: 2294295878960, app: 2294312301104
2025-07-06 00:40:16,234 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:41:22,198 - ERROR - Google callback error: OpenIDMixin.parse_id_token() missing 1 required positional argument: 'nonce'
2025-07-06 00:43:19,230 - DEBUG - Initialized db with app, db instance: 2154179190064, app: 2154195546672
2025-07-06 00:43:19,235 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:43:33,489 - ERROR - Google callback error: invalid_claim: Invalid claim 'nonce'
2025-07-06 00:48:31,960 - ERROR - Google callback error: invalid_claim: Invalid claim 'nonce'
2025-07-06 00:50:55,276 - DEBUG - Initialized db with app, db instance: 2255635733808, app: 2255652155952
2025-07-06 00:50:55,281 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:51:18,857 - DEBUG - Initialized db with app, db instance: 1948022136112, app: 1948038558256
2025-07-06 00:51:18,861 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:51:23,487 - DEBUG - Initialized db with app, db instance: 2089821658416, app: 2089838080560
2025-07-06 00:51:23,490 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:51:27,102 - ERROR - Google callback error: invalid_claim: Invalid claim 'nonce'
2025-07-06 00:51:32,169 - ERROR - Google callback error: invalid_claim: Invalid claim 'nonce'
2025-07-06 00:53:58,462 - DEBUG - Initialized db with app, db instance: 1757196246320, app: 1757212668464
2025-07-06 00:53:58,467 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:54:06,665 - DEBUG - Initialized db with app, db instance: 1369821666608, app: 1369838088752
2025-07-06 00:54:06,669 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:54:13,843 - ERROR - Google callback error: OpenIDMixin.parse_id_token() missing 1 required positional argument: 'nonce'
2025-07-06 00:56:53,444 - DEBUG - Initialized db with app, db instance: 2671854738736, app: 2671871095344
2025-07-06 00:56:53,448 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:57:08,387 - DEBUG - Initialized db with app, db instance: 2087137369392, app: 2087153726000
2025-07-06 00:57:08,391 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:57:17,214 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': 'VcghBOjCVcGNehR3_yz55A', 'nonce': 'K24DDuPb4ZWXWYHCCWgu', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751759838, 'exp': 1751763438}
2025-07-06 00:57:17,235 - ERROR - Google callback error: (sqlite3.OperationalError) no such table: user
[SQL: SELECT user.id AS user_id, user.username AS user_username, user.email AS user_email, user.password AS user_password, user.google_id AS user_google_id, user.stripe_customer_id AS user_stripe_customer_id, user.subscription_id AS user_subscription_id, user.subscription_status AS user_subscription_status, user.credits AS user_credits, user.api_calls AS user_api_calls, user.last_reset AS user_last_reset 
FROM user 
WHERE user.google_id = ?
 LIMIT ? OFFSET ?]
[parameters: ('104032329201519720434', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-07-06 00:58:51,996 - DEBUG - Initialized db with app, db instance: 1498269329328, app: 1498285833392
2025-07-06 00:58:52,000 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 00:59:14,014 - DEBUG - Initialized db with app, db instance: 1880145110960, app: 1880161615024
2025-07-06 00:59:14,018 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:05:22,101 - DEBUG - Initialized db with app, db instance: 2499890358192, app: 2499906796720
2025-07-06 01:05:22,106 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:06:27,311 - DEBUG - Initialized db with app, db instance: 1707132823472, app: 1707149327536
2025-07-06 01:06:27,315 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:06:57,114 - DEBUG - Initialized db with app, db instance: 2258075035568, app: 2258091539632
2025-07-06 01:06:57,117 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:07:17,369 - DEBUG - Initialized db with app, db instance: 2650405250992, app: 2650421689520
2025-07-06 01:07:17,372 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:08:47,188 - DEBUG - Initialized db with app, db instance: 1810432436144, app: 1810448874672
2025-07-06 01:08:47,193 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:09:22,584 - DEBUG - Initialized db with app, db instance: 2594605279152, app: 2594621717680
2025-07-06 01:09:22,588 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:09:36,534 - DEBUG - Initialized db with app, db instance: 1837297215408, app: 1837313719472
2025-07-06 01:09:36,538 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:13:09,211 - DEBUG - Initialized db with app, db instance: 2728315758512, app: 2728332262576
2025-07-06 01:13:09,214 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:13:29,567 - DEBUG - Initialized db with app, db instance: 2131075377072, app: 2131091881136
2025-07-06 01:13:29,572 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:16:02,674 - DEBUG - Initialized db with app, db instance: 2665995675568, app: 2666012114096
2025-07-06 01:16:02,678 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:16:06,776 - DEBUG - Initialized db with app, db instance: 1702037989296, app: 1702054427824
2025-07-06 01:16:06,780 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:16:25,823 - DEBUG - Initialized db with app, db instance: 1869046261680, app: 1869062765744
2025-07-06 01:16:25,827 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:17:18,179 - DEBUG - Initialized db with app, db instance: 1913212099888, app: 1913228522032
2025-07-06 01:17:18,183 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:17:22,374 - DEBUG - Initialized db with app, db instance: 1444234190128, app: 1444250546736
2025-07-06 01:17:22,379 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:17:30,466 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': 'Tcat6L-X6enx8GvUbWJnkQ', 'nonce': 'sUnB7IdTBeVAeayaf85S', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751761051, 'exp': 1751764651}
2025-07-06 01:17:30,496 - INFO - Created new Google user: Detroit Project, email=detroitprojectmusic@gmail.com
2025-07-06 01:17:30,505 - ERROR - Google callback error: 'User' object has no attribute 'is_active'
2025-07-06 01:17:33,862 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': 'UC7RDvJ65-6CD5Bc8mzOHQ', 'nonce': '9H1lQRrfBUEVwm2oV8js', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751761054, 'exp': 1751764654}
2025-07-06 01:17:33,868 - ERROR - Google callback error: 'User' object has no attribute 'is_active'
2025-07-06 01:17:37,701 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': '1q-EaQnBBliIbVkArac09g', 'nonce': '0xizzvhVpzqomrE9mgLA', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751761058, 'exp': 1751764658}
2025-07-06 01:17:37,706 - ERROR - Google callback error: 'User' object has no attribute 'is_active'
2025-07-06 01:18:59,655 - DEBUG - Initialized db with app, db instance: 2690362498352, app: 2690378854960
2025-07-06 01:18:59,659 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:19:13,951 - DEBUG - Initialized db with app, db instance: 2966361333040, app: 2966377755184
2025-07-06 01:19:13,955 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:19:23,243 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': 'WKK7KGx3V03ivOBMsbUqkg', 'nonce': '1prdwMq5JWHty4rX7R8E', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751761164, 'exp': 1751764764}
2025-07-06 01:19:23,272 - INFO - User Detroit Project logged in via Google, session: {'_fresh': True, '_user_id': '1', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Detroit Project', '_permanent': True}
2025-07-06 01:19:23,284 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:19:23,289 - DEBUG - User loaded: Detroit Project
2025-07-06 01:19:26,440 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:19:26,442 - DEBUG - User loaded: Detroit Project
2025-07-06 01:19:26,443 - INFO - User logged out
2025-07-06 01:19:30,531 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': 'o8VSohgRMPYJM_NzZmituw', 'nonce': '66WeBZCHN5tkVj89NLy6', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751761171, 'exp': 1751764771}
2025-07-06 01:19:30,535 - INFO - User Detroit Project logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '1', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Detroit Project'}
2025-07-06 01:19:30,547 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:19:30,550 - DEBUG - User loaded: Detroit Project
2025-07-06 01:19:34,230 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:19:34,232 - DEBUG - User loaded: Detroit Project
2025-07-06 01:19:34,232 - INFO - User logged out
2025-07-06 01:19:39,316 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': 'uVRqZWDVE5I8X-0wwHDaIQ', 'nonce': 'hwV0uKogsXfiTb8UheVV', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751761180, 'exp': 1751764780}
2025-07-06 01:19:39,319 - INFO - User Detroit Project logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '1', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Detroit Project'}
2025-07-06 01:19:39,333 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:19:39,336 - DEBUG - User loaded: Detroit Project
2025-07-06 01:21:03,353 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:21:03,356 - DEBUG - User loaded: Detroit Project
2025-07-06 01:21:03,357 - INFO - User logged out
2025-07-06 01:21:05,455 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': 'MD4L6hSqoVWjjjfInK-33Q', 'nonce': 'gJmgD0VEXCRQldwjH2Dn', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751761266, 'exp': 1751764866}
2025-07-06 01:21:05,458 - INFO - User Detroit Project logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '1', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Detroit Project'}
2025-07-06 01:21:05,470 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:21:05,473 - DEBUG - User loaded: Detroit Project
2025-07-06 01:21:07,809 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:21:07,811 - DEBUG - User loaded: Detroit Project
2025-07-06 01:21:07,811 - INFO - User logged out
2025-07-06 01:22:08,498 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '105346857467561032846', 'email': 'futrbit@gmail.com', 'email_verified': True, 'at_hash': 'xwjGea-5kDZ_X30dboxUrg', 'nonce': '2SXXWerN4sJxU1e65YbI', 'name': "Michael's at work", 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKSOqFwKzTn6NWEhsA1uNjIoP9xRhXM7TKHJLnRF_HXZ8HJYQMt=s96-c', 'given_name': "Michael's", 'family_name': 'at work', 'iat': 1751761329, 'exp': 1751764929}
2025-07-06 01:22:08,514 - INFO - Created new Google user: Michael's at work, email=futrbit@gmail.com
2025-07-06 01:22:08,540 - INFO - User Michael's at work logged in via Google, session: {'_user_id': '2', '_fresh': True, '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': "Michael's at work", '_permanent': True}
2025-07-06 01:22:08,567 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:22:08,572 - DEBUG - User loaded: Michael's at work
2025-07-06 01:22:11,680 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:22:11,683 - DEBUG - User loaded: Michael's at work
2025-07-06 01:22:41,690 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:22:41,693 - DEBUG - User loaded: Michael's at work
2025-07-06 01:22:41,694 - DEBUG - Received /generate request: {'ingredients': ['Zucchini', 'Bell Pepper', 'Turmeric', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}, IP: 127.0.0.1, Authenticated: True, Session: {'_fresh': True, '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', '_permanent': True, '_user_id': '2', 'logged_in': True, 'username': "Michael's at work"}
2025-07-06 01:22:41,694 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:22:41,697 - DEBUG - User loaded: Michael's at work
2025-07-06 01:22:41,698 - DEBUG - User Michael's at work used 1 credit, remaining: 6
2025-07-06 01:22:41,702 - DEBUG - Rate limit applied: 1 per day for key 2
2025-07-06 01:22:41,703 - DEBUG - Sending request to OpenAI with ingredients: Zucchini, Bell Pepper, Turmeric, Quinoa, dietary: None
2025-07-06 01:22:47,947 - DEBUG - OpenAI raw response: {
    "title": "Turmeric Quinoa Stuffed Zucchini Boats",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Zucchini", "quantity": "2 medium"},
        {"name": "Bell Pepper", "quantity": "1 large, diced"},
        {"name": "Turmeric", "quantity": "1 tsp"},
        {"name": "Quinoa", "quantity": "1/2 cup, cooked"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Onion", "quantity": "1/2 medium, diced"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Paprika", "quantity": "1/2 tsp"},
        {"name": "Fresh Parsley", "quantity": "2 tbsp, chopped"}
    ],
    "instructions": [
        "Preheat the oven to 375°F (190°C).",
        "Cut the zucchinis in half lengthwise and scoop out the seeds to create 'boats'.",
        "In a pan, heat olive oil over medium heat. Add garlic, onion, and bell pepper. Sauté until vegetables are tender.",
        "Stir in turmeric, cooked quinoa, salt, black pepper, and paprika. Cook for another 2 minutes, allowing the flavors to meld.",
        "Fill each zucchini boat with the quinoa mixture.",
        "Place the stuffed zucchinis on a baking sheet and bake for 15-20 minutes until the zucchinis are tender.",
        "Garnish with fresh parsley before serving.",
        "Enjoy your delicious Turmeric Quinoa Stuffed Zucchini Boats!"
    ],
    "nutrition": {
        "calories": 215,
        "protein": 5,
        "fat": 9,
        "carbs": 30
    }
}
2025-07-06 01:22:47,949 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 01:22:47,950 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 01:22:47,951 - DEBUG - Matched ingredient 'turmeric' to 'Turmeric'
2025-07-06 01:22:47,952 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-06 01:22:47,953 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 01:22:47,954 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 01:22:47,955 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 01:22:47,956 - WARNING - No match found for ingredient: 'salt'
2025-07-06 01:22:47,956 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 01:22:47,957 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 01:22:47,958 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-06 01:22:47,974 - INFO - Recipe saved for user Michael's at work: Turmeric Quinoa Stuffed Zucchini Boats
2025-07-06 01:22:55,111 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:22:55,114 - DEBUG - User loaded: Michael's at work
2025-07-06 01:22:55,115 - DEBUG - Received /generate request: {'ingredients': ['Zucchini', 'Bell Pepper', 'Turmeric', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}, IP: 127.0.0.1, Authenticated: True, Session: {'_fresh': True, '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', '_permanent': True, '_user_id': '2', 'logged_in': True, 'username': "Michael's at work"}
2025-07-06 01:22:55,116 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:22:55,119 - DEBUG - User loaded: Michael's at work
2025-07-06 01:22:55,121 - DEBUG - User Michael's at work used 1 credit, remaining: 6
2025-07-06 01:22:55,124 - WARNING - Rate limit error: 429 Too Many Requests: 1 per 1 day. Continuing with session-based check.
2025-07-06 01:22:55,126 - DEBUG - Sending request to OpenAI with ingredients: Zucchini, Bell Pepper, Turmeric, Quinoa, dietary: None
2025-07-06 01:23:02,369 - DEBUG - OpenAI raw response: {
    "title": "Turmeric Quinoa Stuffed Zucchini Boats",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Zucchini", "quantity": "2 medium"},
        {"name": "Bell Pepper", "quantity": "1 large, diced"},
        {"name": "Turmeric", "quantity": "1 tsp"},
        {"name": "Quinoa", "quantity": "1/2 cup, uncooked"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Onion", "quantity": "1 small, diced"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Vegetable Broth", "quantity": "1 cup"},
        {"name": "Paprika", "quantity": "1/2 tsp"},
        {"name": "Cumin", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"}
    ],
    "instructions": [
        "Preheat the oven to 375°F (190°C).",
        "Cut the zucchinis in half lengthwise and scoop out the seeds to create 'boats'.",
        "Place the zucchini boats on a baking dish, drizzle with 1 tbsp of olive oil, season with salt and black pepper, and bake for 15 minutes.",
        "In a pan, heat the remaining olive oil over medium heat. Add the diced onion, minced garlic, and diced bell pepper. Cook until softened.",
        "Add turmeric, paprika, and cumin to the pan. Stir well to combine with the vegetables.",
        "Add quinoa and vegetable broth to the pan. Bring to a simmer, cover, and cook for about 15 minutes or until the quinoa is cooked and the liquid is absorbed.",
        "Once the quinoa mixture is ready, spoon it into the baked zucchini boats.",
        "Place the stuffed zucchinis back in the oven and bake for an additional 10 minutes.",
        "Serve hot and enjoy!"
    ],
    "nutrition": {
        "calories": 290,
        "protein": 7,
        "fat": 11,
        "carbs": 41
    }
}
2025-07-06 01:23:02,371 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 01:23:02,371 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 01:23:02,372 - DEBUG - Matched ingredient 'turmeric' to 'Turmeric'
2025-07-06 01:23:02,372 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-06 01:23:02,373 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 01:23:02,373 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 01:23:02,374 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 01:23:02,374 - WARNING - No match found for ingredient: 'vegetable broth'
2025-07-06 01:23:02,375 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 01:23:02,375 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 01:23:02,376 - WARNING - No match found for ingredient: 'salt'
2025-07-06 01:23:02,377 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 01:23:02,388 - INFO - Recipe saved for user Michael's at work: Turmeric Quinoa Stuffed Zucchini Boats
2025-07-06 01:23:07,895 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:23:07,898 - DEBUG - User loaded: Michael's at work
2025-07-06 01:23:33,086 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:23:33,088 - DEBUG - User loaded: Michael's at work
2025-07-06 01:23:36,467 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:23:36,471 - DEBUG - User loaded: Michael's at work
2025-07-06 01:23:45,225 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:23:45,228 - DEBUG - User loaded: Michael's at work
2025-07-06 01:23:45,229 - DEBUG - Received /generate request: {'ingredients': ['Oregano', 'Onion', 'Fish', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 5, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}, IP: 127.0.0.1, Authenticated: True, Session: {'_fresh': True, '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', '_permanent': True, '_user_id': '2', 'logged_in': True, 'username': "Michael's at work"}
2025-07-06 01:23:45,230 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:23:45,233 - DEBUG - User loaded: Michael's at work
2025-07-06 01:23:45,235 - DEBUG - User Michael's at work used 1 credit, remaining: 6
2025-07-06 01:23:45,237 - WARNING - Rate limit error: 429 Too Many Requests: 1 per 1 day. Continuing with session-based check.
2025-07-06 01:23:45,238 - DEBUG - Sending request to OpenAI with ingredients: Oregano, Onion, Fish, Potatoes, dietary: None
2025-07-06 01:23:50,805 - DEBUG - OpenAI raw response: {
    "title": "Herb-Crusted Baked Fish with Garlic Potatoes",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Fish Fillets", "quantity": "2 fillets"},
        {"name": "Potatoes", "quantity": "2 medium"},
        {"name": "Onion", "quantity": "1 medium"},
        {"name": "Oregano", "quantity": "1 tsp"},
        {"name": "Garlic Powder", "quantity": "1 tsp"},
        {"name": "Salt", "quantity": "1/2 tsp"},
        {"name": "Black Pepper", "quantity": "1/4 tsp"},
        {"name": "Olive Oil", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "Preheat the oven to 400°F (200°C) and line a baking tray with parchment paper.",
        "Peel and dice the potatoes into small cubes, slice the onions, and place them on the prepared baking tray.",
        "Drizzle 1 tablespoon of olive oil over the potatoes and onions, then sprinkle with garlic powder, salt, and black pepper. Toss to coat evenly.",
        "Bake in the preheated oven for 15 minutes, or until the potatoes are tender and lightly golden.",
        "In a small bowl, mix the oregano with the remaining 1 tablespoon of olive oil to create a herb paste.",
        "Season the fish fillets with salt and pepper, then spread the herb paste over the top of each fillet.",
        "Place the herb-crusted fish fillets on the baking tray with the cooked potatoes and onions.",
        "Bake for another 10-12 minutes, or until the fish is cooked through and flakes easily with a fork.",
        "Serve the herb-crusted baked fish with garlic potatoes hot and enjoy!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 25,
        "fat": 12,
        "carbs": 38
    }
}
2025-07-06 01:23:50,807 - DEBUG - Matched ingredient 'fish fillets' to 'Fish'
2025-07-06 01:23:50,807 - DEBUG - Matched ingredient 'potatoes' to 'Potatoes'
2025-07-06 01:23:50,808 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 01:23:50,809 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 01:23:50,809 - DEBUG - Matched ingredient 'garlic powder' to 'Garlic'
2025-07-06 01:23:50,810 - WARNING - No match found for ingredient: 'salt'
2025-07-06 01:23:50,810 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 01:23:50,811 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 01:23:50,826 - INFO - Recipe saved for user Michael's at work: Herb-Crusted Baked Fish with Garlic Potatoes
2025-07-06 01:23:55,682 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:23:55,685 - DEBUG - User loaded: Michael's at work
2025-07-06 01:24:02,350 - DEBUG - load_user: db instance: 2966361333040, app: 2966377755184, current_app: 2966259629744
2025-07-06 01:24:02,353 - DEBUG - User loaded: Michael's at work
2025-07-06 01:32:06,895 - DEBUG - Initialized db with app, db instance: 2360982691120, app: 2360999064112
2025-07-06 01:32:06,899 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:33:10,093 - DEBUG - Initialized db with app, db instance: 1636554169648, app: 1636570591792
2025-07-06 01:33:10,098 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:33:18,009 - DEBUG - Initialized db with app, db instance: 2840552070448, app: 2840568508976
2025-07-06 01:33:18,014 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:33:27,520 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '103348751947873777032', 'email': 'mangiftuk@gmail.com', 'email_verified': True, 'at_hash': '3eMOWyl1s8g6b3Q5iBd53Q', 'nonce': '47ei11SvlyBFyEDU1uzm', 'name': 'Manvscoin', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJxgbjW5AcPCZ6AvpGS5vPHw7zcFYj7J4dVTYy3ztSDaCcah9A=s96-c', 'given_name': 'Manvscoin', 'iat': 1751762008, 'exp': 1751765608}
2025-07-06 01:33:27,545 - INFO - Created new Google user: Manvscoin, email=mangiftuk@gmail.com
2025-07-06 01:33:27,558 - INFO - User Manvscoin logged in via Google, session: {'_fresh': True, '_state_google_2xkAMVovwaC5ELEDg6LupDqMdfdgX6': {'data': {'nonce': 'vMW2VWJ0bqobTFOto0p3', 'redirect_uri': 'http://127.0.0.1:5000/google-callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle-callback&scope=openid+email+profile&state=2xkAMVovwaC5ELEDg6LupDqMdfdgX6&nonce=vMW2VWJ0bqobTFOto0p3'}, 'exp': 1751762038.0850022}, '_state_google_90k5fOh4YHSElFMAkWeHkPqx6j2fef': {'data': {'nonce': 'ANWYJRwRJRVU1amECMDp', 'redirect_uri': 'http://127.0.0.1:5000/google-callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle-callback&scope=openid+email+profile&state=90k5fOh4YHSElFMAkWeHkPqx6j2fef&nonce=ANWYJRwRJRVU1amECMDp'}, 'exp': 1751762009.2210016}, '_user_id': '3', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Manvscoin', '_permanent': True}
2025-07-06 01:33:27,573 - DEBUG - load_user: db instance: 2840552070448, app: 2840568508976, current_app: 2840449971872
2025-07-06 01:33:27,581 - DEBUG - User loaded: Manvscoin
2025-07-06 01:33:40,254 - DEBUG - load_user: db instance: 2840552070448, app: 2840568508976, current_app: 2840449971872
2025-07-06 01:33:40,255 - DEBUG - User loaded: Manvscoin
2025-07-06 01:33:40,256 - DEBUG - Received /generate request: {'ingredients': ['Couscous', 'Thyme', 'Bell Pepper', 'Pork'], 'dietary': [], 'mood': 'fun', 'spice_level': 5, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}, IP: 127.0.0.1, Authenticated: True, Session: {'_fresh': True, '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', '_permanent': True, '_state_google_2xkAMVovwaC5ELEDg6LupDqMdfdgX6': {'data': {'nonce': 'vMW2VWJ0bqobTFOto0p3', 'redirect_uri': 'http://127.0.0.1:5000/google-callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle-callback&scope=openid+email+profile&state=2xkAMVovwaC5ELEDg6LupDqMdfdgX6&nonce=vMW2VWJ0bqobTFOto0p3'}, 'exp': 1751762038.0850022}, '_state_google_90k5fOh4YHSElFMAkWeHkPqx6j2fef': {'data': {'nonce': 'ANWYJRwRJRVU1amECMDp', 'redirect_uri': 'http://127.0.0.1:5000/google-callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle-callback&scope=openid+email+profile&state=90k5fOh4YHSElFMAkWeHkPqx6j2fef&nonce=ANWYJRwRJRVU1amECMDp'}, 'exp': 1751762009.2210016}, '_user_id': '3', 'logged_in': True, 'username': 'Manvscoin'}
2025-07-06 01:33:40,257 - DEBUG - load_user: db instance: 2840552070448, app: 2840568508976, current_app: 2840449971872
2025-07-06 01:33:40,258 - DEBUG - User loaded: Manvscoin
2025-07-06 01:33:40,264 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 01:33:40,265 - DEBUG - User Manvscoin used 1 credit, remaining: 2, API calls: 1
2025-07-06 01:33:40,266 - DEBUG - Rate limit applied: 1 per day for key 3
2025-07-06 01:33:40,267 - DEBUG - Sending request to OpenAI with ingredients: Couscous, Thyme, Bell Pepper, Pork, dietary: None
2025-07-06 01:33:45,948 - DEBUG - OpenAI raw response: {
    "title": "Spicy Pork and Couscous Stir-Fry",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Pork Loin", "quantity": "8 oz, thinly sliced"},
        {"name": "Couscous", "quantity": "1 cup, uncooked"},
        {"name": "Bell Pepper", "quantity": "1, sliced"},
        {"name": "Thyme", "quantity": "1 tsp, dried"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"},
        {"name": "Soy Sauce", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Red Chili Flakes", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"}
    ],
    "instructions": [
        "Cook the couscous according to package instructions and set aside.",
        "In a large skillet or wok, heat vegetable oil over medium-high heat.",
        "Add the sliced pork loin and stir-fry until browned, about 5-7 minutes.",
        "Add the sliced bell pepper, minced garlic, dried thyme, and red chili flakes to the skillet. Cook for an additional 3-4 minutes.",
        "Stir in the cooked couscous and soy sauce. Season with salt and black pepper to taste. Cook for another 2-3 minutes, stirring constantly.",
        "Adjust seasoning if needed. Serve hot and enjoy the spicy pork and couscous stir-fry!"
    ],
    "nutrition": {
        "calories": 550,
        "protein": 32,
        "fat": 18,
        "carbs": 60
    }
}
2025-07-06 01:33:45,949 - DEBUG - Matched ingredient 'pork loin' to 'Pork'
2025-07-06 01:33:45,949 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 01:33:45,949 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 01:33:45,949 - DEBUG - Matched ingredient 'thyme' to 'Thyme'
2025-07-06 01:33:45,950 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 01:33:45,950 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 01:33:45,950 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 01:33:45,951 - DEBUG - Matched ingredient 'red chili flakes' to 'Chili Flakes'
2025-07-06 01:33:45,951 - WARNING - No match found for ingredient: 'salt'
2025-07-06 01:33:45,951 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 01:33:45,960 - INFO - Recipe saved for user Manvscoin: Spicy Pork and Couscous Stir-Fry
2025-07-06 01:33:59,653 - DEBUG - load_user: db instance: 2840552070448, app: 2840568508976, current_app: 2840449971872
2025-07-06 01:33:59,655 - DEBUG - User loaded: Manvscoin
2025-07-06 01:34:04,469 - DEBUG - load_user: db instance: 2840552070448, app: 2840568508976, current_app: 2840449971872
2025-07-06 01:34:04,472 - DEBUG - User loaded: Manvscoin
2025-07-06 01:34:07,847 - DEBUG - load_user: db instance: 2840552070448, app: 2840568508976, current_app: 2840449971872
2025-07-06 01:34:07,850 - DEBUG - User loaded: Manvscoin
2025-07-06 01:34:46,961 - DEBUG - Initialized db with app, db instance: 2101970459952, app: 2101986832944
2025-07-06 01:34:46,965 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:34:51,170 - DEBUG - Initialized db with app, db instance: 2042009279792, app: 2042025718320
2025-07-06 01:34:51,175 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:34:51,679 - DEBUG - load_user: db instance: 2042009279792, app: 2042025718320, current_app: 2041907394112
2025-07-06 01:34:51,687 - DEBUG - User loaded: Manvscoin
2025-07-06 01:34:51,688 - INFO - User logged out
2025-07-06 01:34:59,838 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '100159459859503273137', 'email': 'earthstonecraftshop@gmail.com', 'email_verified': True, 'at_hash': 'KQ-xEPgjxGIOmkqQAXv5Dw', 'nonce': 'lUmhDZgtZkAU0LgOuEMj', 'name': 'Michael', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJKLq-gARK3TCRipcR6YTs9q_U7ghimnqnKGM_wy1jmGttfeA=s96-c', 'given_name': 'Michael', 'iat': 1751762100, 'exp': 1751765700}
2025-07-06 01:34:59,854 - INFO - Created new Google user: Michael, email=earthstonecraftshop@gmail.com
2025-07-06 01:34:59,874 - INFO - User Michael logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '4', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Michael'}
2025-07-06 01:34:59,888 - DEBUG - load_user: db instance: 2042009279792, app: 2042025718320, current_app: 2041907394112
2025-07-06 01:34:59,891 - DEBUG - User loaded: Michael
2025-07-06 01:40:48,235 - DEBUG - Initialized db with app, db instance: 1920160095536, app: 1920176534064
2025-07-06 01:40:48,240 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:40:52,360 - DEBUG - Initialized db with app, db instance: 2270354201904, app: 2270370640432
2025-07-06 01:40:52,364 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:40:53,082 - DEBUG - load_user: db instance: 2270354201904, app: 2270370640432, current_app: 2270252578368
2025-07-06 01:40:53,100 - DEBUG - User loaded: Michael
2025-07-06 01:40:56,813 - DEBUG - load_user: db instance: 2270354201904, app: 2270370640432, current_app: 2270252578368
2025-07-06 01:40:56,817 - DEBUG - User loaded: Michael
2025-07-06 01:47:52,584 - DEBUG - Initialized db with app, db instance: 2093761502512, app: 2093777973808
2025-07-06 01:47:52,588 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:47:59,679 - DEBUG - load_user: db instance: 2093761502512, app: 2093777973808, current_app: 2093659389472
2025-07-06 01:47:59,691 - DEBUG - User loaded: Michael
2025-07-06 01:47:59,692 - INFO - User logged out
2025-07-06 01:48:07,663 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '100159459859503273137', 'email': 'earthstonecraftshop@gmail.com', 'email_verified': True, 'at_hash': 'Q6AfAQkh1CxqfwlbVtD_hA', 'nonce': '3mSRfpP0w7OjVy66n0Dm', 'name': 'Michael', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJKLq-gARK3TCRipcR6YTs9q_U7ghimnqnKGM_wy1jmGttfeA=s96-c', 'given_name': 'Michael', 'iat': 1751762888, 'exp': 1751766488}
2025-07-06 01:48:07,674 - INFO - User Michael logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '4', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Michael'}
2025-07-06 01:48:07,690 - DEBUG - load_user: db instance: 2093761502512, app: 2093777973808, current_app: 2093659389472
2025-07-06 01:48:07,692 - DEBUG - User loaded: Michael
2025-07-06 01:48:23,192 - DEBUG - load_user: db instance: 2093761502512, app: 2093777973808, current_app: 2093659389472
2025-07-06 01:48:23,194 - DEBUG - User loaded: Michael
2025-07-06 01:48:23,194 - DEBUG - Received /generate request: {'ingredients': ['Potatoes', 'Thyme', 'Tomato', 'Tofu'], 'dietary': [], 'mood': 'fun', 'spice_level': 5, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}, IP: 127.0.0.1, Authenticated: True, Session: {'_fresh': True, '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', '_permanent': True, '_user_id': '4', 'logged_in': True, 'username': 'Michael'}
2025-07-06 01:48:23,195 - DEBUG - load_user: db instance: 2093761502512, app: 2093777973808, current_app: 2093659389472
2025-07-06 01:48:23,197 - DEBUG - User loaded: Michael
2025-07-06 01:48:23,202 - INFO - User Michael's credits and API calls reset for the new day.
2025-07-06 01:48:23,203 - DEBUG - User Michael used 1 credit, remaining: 2, API calls: 1
2025-07-06 01:48:23,207 - DEBUG - Rate limit applied: 1 per day for key 4
2025-07-06 01:48:23,207 - DEBUG - Sending prompt to OpenAI: Generate a detailed recipe with title, ingredients (quantities), and step-by-step instructions. Use only the following ingredients: Potatoes, Thyme, Tomato, Tofu.
2025-07-06 01:48:27,718 - DEBUG - Received response from OpenAI.
2025-07-06 01:48:27,742 - INFO - Recipe 'Herb-Roasted Potato Stacks with Tomato Tofu Drizzle' generated and saved for user Michael
2025-07-06 01:48:51,273 - DEBUG - Initialized db with app, db instance: 2059210972464, app: 2059227410992
2025-07-06 01:48:51,277 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:48:53,383 - DEBUG - load_user: db instance: 2059210972464, app: 2059227410992, current_app: 2059109021248
2025-07-06 01:48:53,404 - DEBUG - User loaded: Michael
2025-07-06 01:48:53,406 - DEBUG - Received /generate request: {'ingredients': ['Potatoes', 'Thyme', 'Tomato', 'Tofu', 'Couscous'], 'dietary': [], 'mood': 'fun', 'spice_level': 5, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}, IP: 127.0.0.1, Authenticated: True, Session: {'_fresh': True, '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', '_permanent': True, '_user_id': '4', 'logged_in': True, 'username': 'Michael'}
2025-07-06 01:48:53,407 - DEBUG - load_user: db instance: 2059210972464, app: 2059227410992, current_app: 2059109021248
2025-07-06 01:48:53,416 - DEBUG - User loaded: Michael
2025-07-06 01:48:53,419 - INFO - User Michael's credits and API calls reset for the new day.
2025-07-06 01:48:53,420 - DEBUG - User Michael used 1 credit, remaining: 2, API calls: 1
2025-07-06 01:48:53,422 - DEBUG - Rate limit applied: 1 per day for key 4
2025-07-06 01:48:53,422 - DEBUG - Sending request to OpenAI with ingredients: Potatoes, Thyme, Tomato, Tofu, Couscous, dietary: None
2025-07-06 01:49:01,096 - DEBUG - OpenAI raw response: {
    "title": "Herbed Tofu Stuffed Potatoes with Tomato Couscous",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Potatoes", "quantity": "2 large"},
        {"name": "Thyme", "quantity": "1 tbsp, fresh"},
        {"name": "Tomato", "quantity": "1 large, diced"},
        {"name": "Tofu", "quantity": "200g, crumbled"},
        {"name": "Couscous", "quantity": "1/2 cup"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black pepper", "quantity": "to taste"},
        {"name": "Paprika", "quantity": "1/2 tsp"},
        {"name": "Garlic powder", "quantity": "1/2 tsp"},
        {"name": "Olive oil", "quantity": "2 tbsp"},
        {"name": "Water", "quantity": "1 cup"}
    ],
    "instructions": [
        "Preheat the oven to 200°C (400°F).",
        "Wash the potatoes, prick them with a fork, and bake them in the oven for about 30 minutes or until tender.",
        "In a skillet, heat 1 tbsp of olive oil over medium heat. Add crumbled tofu, thyme, salt, pepper, paprika, and garlic powder. Cook until tofu is slightly golden.",
        "Add diced tomatoes to the tofu mixture and cook for another 2-3 minutes. Remove from heat.",
        "In a separate pot, bring 1 cup of water to a boil. Add couscous, cover, and let it sit for 5 minutes. Fluff with a fork.",
        "Cut the baked potatoes in half, scoop out some of the flesh to create a hollow. Mash the scooped out potato flesh and mix it with the tofu and tomato mixture.",
        "Stuff the potato shells with the tofu and tomato mixture.",
        "Serve the stuffed potatoes on a bed of tomato couscous.",
        "Enjoy your herbed tofu stuffed potatoes with tomato couscous!"
    ],
    "nutrition": {
        "calories": 420,
        "protein": 20,
        "fat": 15,
        "carbs": 55
    }
}
2025-07-06 01:49:01,101 - DEBUG - Matched ingredient 'potatoes' to 'Potatoes'
2025-07-06 01:49:01,102 - DEBUG - Matched ingredient 'thyme' to 'Thyme'
2025-07-06 01:49:01,103 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 01:49:01,103 - DEBUG - Matched ingredient 'tofu' to 'Tofu'
2025-07-06 01:49:01,104 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 01:49:01,104 - WARNING - No match found for ingredient: 'salt'
2025-07-06 01:49:01,105 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 01:49:01,106 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 01:49:01,107 - DEBUG - Matched ingredient 'garlic powder' to 'Garlic'
2025-07-06 01:49:01,107 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 01:49:01,108 - WARNING - No match found for ingredient: 'water'
2025-07-06 01:49:01,124 - INFO - Recipe saved for user Michael: Herbed Tofu Stuffed Potatoes with Tomato Couscous
2025-07-06 01:49:07,085 - DEBUG - load_user: db instance: 2059210972464, app: 2059227410992, current_app: 2059109021248
2025-07-06 01:49:07,088 - DEBUG - User loaded: Michael
2025-07-06 01:49:11,193 - DEBUG - load_user: db instance: 2059210972464, app: 2059227410992, current_app: 2059109021248
2025-07-06 01:49:11,199 - DEBUG - User loaded: Michael
2025-07-06 01:50:06,273 - DEBUG - Initialized db with app, db instance: 2488964488496, app: 2488981942832
2025-07-06 01:50:06,277 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:50:10,815 - DEBUG - Initialized db with app, db instance: 2081837948208, app: 2081854419504
2025-07-06 01:50:10,821 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:50:13,820 - DEBUG - load_user: db instance: 2081837948208, app: 2081854419504, current_app: 2081735507440
2025-07-06 01:50:13,850 - DEBUG - User loaded: Michael
2025-07-06 01:50:25,189 - DEBUG - load_user: db instance: 2081837948208, app: 2081854419504, current_app: 2081735507440
2025-07-06 01:50:25,192 - DEBUG - User loaded: Michael
2025-07-06 01:50:25,193 - DEBUG - Received /generate request: {'ingredients': ['Turmeric', 'Cumin', 'Bell Pepper', 'Onion', 'Spinach'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}, IP: 127.0.0.1, Authenticated: True, Session: {'_fresh': True, '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', '_permanent': True, '_user_id': '4', 'logged_in': True, 'username': 'Michael'}
2025-07-06 01:50:25,194 - DEBUG - load_user: db instance: 2081837948208, app: 2081854419504, current_app: 2081735507440
2025-07-06 01:50:25,196 - DEBUG - User loaded: Michael
2025-07-06 01:50:25,201 - INFO - User Michael's credits and API calls reset for the new day.
2025-07-06 01:50:25,203 - DEBUG - User Michael used 1 credit, remaining: 2, API calls: 1
2025-07-06 01:50:25,205 - DEBUG - Rate limit applied: 1 per day for key 4
2025-07-06 01:50:25,206 - DEBUG - Sending prompt to OpenAI: Generate a detailed recipe with title, ingredients (quantities), and step-by-step instructions. Use only the following ingredients: Turmeric, Cumin, Bell Pepper, Onion, Spinach.
2025-07-06 01:50:30,599 - DEBUG - Received response from OpenAI.
2025-07-06 01:50:30,620 - INFO - Recipe 'Vegan Turmeric Spinach Stir-Fry' generated and saved for user Michael
2025-07-06 01:51:06,564 - DEBUG - load_user: db instance: 2081837948208, app: 2081854419504, current_app: 2081735507440
2025-07-06 01:51:06,567 - DEBUG - User loaded: Michael
2025-07-06 01:57:53,255 - DEBUG - Initialized db with app, db instance: 1950310391088, app: 1950326862384
2025-07-06 01:57:53,259 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 01:57:59,708 - DEBUG - load_user: db instance: 1950310391088, app: 1950326862384, current_app: 1950208624000
2025-07-06 01:57:59,719 - DEBUG - User loaded: Michael
2025-07-06 01:58:05,164 - DEBUG - load_user: db instance: 1950310391088, app: 1950326862384, current_app: 1950208624000
2025-07-06 01:58:05,168 - DEBUG - User loaded: Michael
2025-07-06 01:58:16,562 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 145
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGnKHQ.ycnnKjjW7M95M_GKu_YyIPGDYVY


2025-07-06 01:58:16,564 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Basil","Onion","Tomato"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 01:58:16,565 - DEBUG - Incoming /generate request.json: {'ingredients': ['Basil', 'Onion', 'Tomato'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 01:58:16,566 - DEBUG - load_user: db instance: 1950310391088, app: 1950326862384, current_app: 1950208624000
2025-07-06 01:58:16,568 - DEBUG - User loaded: Michael
2025-07-06 01:58:16,573 - INFO - User Michael's credits and API calls reset for the new day.
2025-07-06 01:58:16,574 - DEBUG - User Michael - Credits: 2, API calls: 1 committed.
2025-07-06 01:58:16,576 - DEBUG - Rate limit applied: 1 per day for key 4
2025-07-06 01:58:16,577 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Basil, Onion, Tomato. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 01:58:23,369 - DEBUG - OpenAI raw response: {
    "title": "Caprese Stuffed Chicken",
    "cuisine": "Italian",
    "dietary": [],
    "ingredients": [
        {"name": "Chicken Breasts", "quantity": "2 medium"},
        {"name": "Fresh Basil Leaves", "quantity": "1/4 cup, chopped"},
        {"name": "Tomato", "quantity": "1 large, sliced"},
        {"name": "Onion", "quantity": "1/2 medium, sliced"},
        {"name": "Mozzarella Cheese", "quantity": "1/2 cup, shredded"},
        {"name": "Garlic Powder", "quantity": "1 tsp"},
        {"name": "Dried Oregano", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "1/2 tsp"},
        {"name": "Black Pepper", "quantity": "1/4 tsp"},
        {"name": "Olive Oil", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "Preheat the oven to 400°F (200°C).",
        "Butterfly the chicken breasts and season both sides with garlic powder, dried oregano, salt, and black pepper.",
        "Layer each chicken breast with basil leaves, tomato slices, onion slices, and mozzarella cheese.",
        "Carefully fold the chicken breasts in half and secure with toothpicks to prevent fillings from falling out.",
        "Heat olive oil in an oven-safe skillet over medium-high heat. Sear the chicken for 2-3 minutes per side until golden brown.",
        "Transfer the skillet to the preheated oven and bake for 20-25 minutes or until the chicken is cooked through and the cheese is melted.",
        "Remove toothpicks before serving. Enjoy your delicious Caprese Stuffed Chicken!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 45,
        "fat": 18,
        "carbs": 6
    }
}
2025-07-06 01:58:23,372 - DEBUG - Matched ingredient 'chicken breasts' to 'Chicken'
2025-07-06 01:58:23,373 - DEBUG - Matched ingredient 'fresh basil leaves' to 'Basil'
2025-07-06 01:58:23,374 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 01:58:23,375 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 01:58:23,375 - WARNING - No match found for ingredient: 'mozzarella cheese'
2025-07-06 01:58:23,376 - DEBUG - Matched ingredient 'garlic powder' to 'Garlic'
2025-07-06 01:58:23,377 - DEBUG - Matched ingredient 'dried oregano' to 'Oregano'
2025-07-06 01:58:23,378 - WARNING - No match found for ingredient: 'salt'
2025-07-06 01:58:23,379 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 01:58:23,379 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 01:58:23,380 - ERROR - An unexpected error occurred during recipe generation (after limit check) for user Michael: name 'Recipe' is not defined
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 917, in generate
    new_recipe = Recipe(
                 ^^^^^^
NameError: name 'Recipe' is not defined
2025-07-06 01:58:23,387 - INFO - Reverted limits for user Michael due to unexpected error.
2025-07-06 02:07:21,858 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 145
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGnKLw.U62sjCS7VRlMR6OHHso6kgpKLBo


2025-07-06 02:07:21,859 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Basil","Onion","Tomato"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 02:07:21,860 - DEBUG - Incoming /generate request.json: {'ingredients': ['Basil', 'Onion', 'Tomato'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 02:07:21,861 - DEBUG - load_user: db instance: 1950310391088, app: 1950326862384, current_app: 1950208624000
2025-07-06 02:07:21,866 - DEBUG - User loaded: Michael
2025-07-06 02:07:21,867 - INFO - User Michael's credits and API calls reset for the new day.
2025-07-06 02:07:21,868 - DEBUG - User Michael - Credits: 2, API calls: 1 committed.
2025-07-06 02:07:21,871 - WARNING - Rate limit error from Flask-Limiter for 4: 429 Too Many Requests: 1 per 1 day. If user reached limit, this is expected.
2025-07-06 02:07:21,872 - INFO - Reverted limits for user Michael due to Flask-Limiter.
2025-07-06 02:07:39,945 - DEBUG - load_user: db instance: 1950310391088, app: 1950326862384, current_app: 1950208624000
2025-07-06 02:07:39,947 - DEBUG - User loaded: Michael
2025-07-06 02:07:39,948 - INFO - User logged out
2025-07-06 02:07:47,201 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '100159459859503273137', 'email': 'earthstonecraftshop@gmail.com', 'email_verified': True, 'at_hash': 'fWvfuWcMUnsmAlZF4EfMog', 'nonce': '2LmVnwQxyJFlopmq14ke', 'name': 'Michael', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJKLq-gARK3TCRipcR6YTs9q_U7ghimnqnKGM_wy1jmGttfeA=s96-c', 'given_name': 'Michael', 'iat': 1751764068, 'exp': 1751767668}
2025-07-06 02:07:47,210 - INFO - User Michael logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '4', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Michael'}
2025-07-06 02:07:47,227 - DEBUG - load_user: db instance: 1950310391088, app: 1950326862384, current_app: 1950208624000
2025-07-06 02:07:47,230 - DEBUG - User loaded: Michael
2025-07-06 02:08:04,853 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 165
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGnMYw.j-D85EcAK_BjRNirAwyczYQJojo


2025-07-06 02:08:04,855 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Fish","Bell Pepper","Basil","Rice","Ginger"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 02:08:04,855 - DEBUG - Incoming /generate request.json: {'ingredients': ['Fish', 'Bell Pepper', 'Basil', 'Rice', 'Ginger'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 02:08:04,856 - DEBUG - load_user: db instance: 1950310391088, app: 1950326862384, current_app: 1950208624000
2025-07-06 02:08:04,859 - DEBUG - User loaded: Michael
2025-07-06 02:08:04,860 - INFO - User Michael's credits and API calls reset for the new day.
2025-07-06 02:08:04,861 - DEBUG - User Michael - Credits: 2, API calls: 1 committed.
2025-07-06 02:08:04,864 - WARNING - Rate limit error from Flask-Limiter for 4: 429 Too Many Requests: 1 per 1 day. If user reached limit, this is expected.
2025-07-06 02:08:04,864 - INFO - Reverted limits for user Michael due to Flask-Limiter.
2025-07-06 02:08:15,250 - DEBUG - load_user: db instance: 1950310391088, app: 1950326862384, current_app: 1950208624000
2025-07-06 02:08:15,252 - DEBUG - User loaded: Michael
2025-07-06 02:08:15,254 - INFO - User logged out
2025-07-06 02:08:21,994 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '109658376252870367793', 'email': 'entcorpinternational@gmail.com', 'email_verified': True, 'at_hash': '54Pk76QfypHWvgJc0XRnTQ', 'nonce': 'Bd0PRjFmEzwpdqH6jUQX', 'name': 'Michael Kennedy', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocIZTnQeuaaryZ5GB3tPJey3jrAcWxKd_pPlLCXOXgz5IuAjYw=s96-c', 'given_name': 'Michael', 'family_name': 'Kennedy', 'iat': 1751764103, 'exp': 1751767703}
2025-07-06 02:08:22,003 - INFO - Created new Google user: Michael Kennedy, email=entcorpinternational@gmail.com
2025-07-06 02:08:22,023 - INFO - User Michael Kennedy logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '5', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Michael Kennedy'}
2025-07-06 02:08:22,039 - DEBUG - load_user: db instance: 1950310391088, app: 1950326862384, current_app: 1950208624000
2025-07-06 02:08:22,040 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:08:42,001 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 177
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnMhg.9vvP4v_tVXeiyagkg9QUFpFn6eE


2025-07-06 02:08:42,003 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Bell Pepper","Zucchini","Cauliflower","Quinoa"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 02:08:42,003 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Bell Pepper', 'Zucchini', 'Cauliflower', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 02:08:42,004 - DEBUG - load_user: db instance: 1950310391088, app: 1950326862384, current_app: 1950208624000
2025-07-06 02:08:42,007 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:08:42,008 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 02:08:42,009 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 02:08:42,012 - WARNING - Rate limit error from Flask-Limiter for 5: 429 Too Many Requests: 1 per 1 day. If user reached limit, this is expected.
2025-07-06 02:08:42,013 - INFO - Reverted limits for user Michael Kennedy due to Flask-Limiter.
2025-07-06 02:16:39,858 - DEBUG - Initialized db with app, db instance: 1564812090672, app: 1564828578352
2025-07-06 02:16:39,863 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:16:51,040 - DEBUG - load_user: db instance: 1564812090672, app: 1564828578352, current_app: 1564710392912
2025-07-06 02:16:51,051 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:16:59,015 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 155
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnOgw.RGzZo7WNs15T0XlN4adneWvIRJg


2025-07-06 02:16:59,016 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Turmeric","Quinoa","Chili Flakes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 02:16:59,016 - DEBUG - Incoming /generate request.json: {'ingredients': ['Turmeric', 'Quinoa', 'Chili Flakes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 02:16:59,017 - DEBUG - load_user: db instance: 1564812090672, app: 1564828578352, current_app: 1564710392912
2025-07-06 02:16:59,021 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:16:59,026 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 02:16:59,027 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 02:16:59,029 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 02:16:59,030 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Turmeric, Quinoa, Chili Flakes. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 02:17:05,038 - DEBUG - OpenAI raw response: {
    "title": "Golden Turmeric Quinoa Bowl",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Quinoa", "quantity": "1 cup"},
        {"name": "Water", "quantity": "2 cups"},
        {"name": "Turmeric powder", "quantity": "1 tsp"},
        {"name": "Chili flakes", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "1/2 tsp"}
    ],
    "instructions": [
        "1. Rinse the quinoa under cold water. In a saucepan, combine quinoa, water, turmeric, chili flakes, and salt.",
        "2. Bring the mixture to a boil over medium-high heat. Once boiling, reduce heat to low, cover, and simmer for 15-20 minutes or until quinoa is cooked and fluffy.",
        "3. Fluff the quinoa with a fork and let it sit covered for 5 minutes to steam.",
        "4. Divide the turmeric quinoa into bowls and top with your favorite veggies, protein, or a drizzle of olive oil for added flavor.",
        "5. Enjoy your nourishing Golden Turmeric Quinoa Bowl!"
    ],
    "nutrition": {
        "calories": 220,
        "protein": 8,
        "fat": 2,
        "carbs": 40
    }
}
2025-07-06 02:17:05,040 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-06 02:17:05,041 - WARNING - No match found for ingredient: 'water'
2025-07-06 02:17:05,042 - DEBUG - Matched ingredient 'turmeric powder' to 'Turmeric'
2025-07-06 02:17:05,042 - DEBUG - Matched ingredient 'chili flakes' to 'Chili Flakes'
2025-07-06 02:17:05,043 - WARNING - No match found for ingredient: 'salt'
2025-07-06 02:17:05,044 - ERROR - An unexpected error occurred during recipe generation (after limit check) for user Michael Kennedy: name 'Recipe' is not defined
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 924, in generate
    new_recipe = Recipe(
                 ^^^^^^
NameError: name 'Recipe' is not defined
2025-07-06 02:17:05,048 - INFO - Reverted limits for user Michael Kennedy due to unexpected error.
2025-07-06 02:21:15,060 - DEBUG - Initialized db with app, db instance: 2129502444848, app: 2129518869344
2025-07-06 02:21:15,064 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:21:25,315 - DEBUG - load_user: db instance: 2129502444848, app: 2129518869344, current_app: 2129370137984
2025-07-06 02:21:25,332 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:21:39,889 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 170
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnPlQ.Ej00aS0gvgJQnuJhAhukRGFrmsI


2025-07-06 02:21:39,891 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Zucchini","Cumin","Turmeric","Couscous","Carrot"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 02:21:39,891 - DEBUG - Incoming /generate request.json: {'ingredients': ['Zucchini', 'Cumin', 'Turmeric', 'Couscous', 'Carrot'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 02:21:39,892 - DEBUG - load_user: db instance: 2129502444848, app: 2129518869344, current_app: 2129370137984
2025-07-06 02:21:39,894 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:21:39,930 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 02:21:39,930 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 02:21:39,932 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 02:21:39,932 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Zucchini, Cumin, Turmeric, Couscous, Carrot. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 02:21:44,882 - DEBUG - OpenAI raw response: {
    "title": "Turmeric Zucchini Couscous Bowl",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Zucchini", "quantity": "1 medium"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Turmeric", "quantity": "1/2 tsp"},
        {"name": "Couscous", "quantity": "1/2 cup"},
        {"name": "Carrot", "quantity": "1 medium"}
    ],
    "instructions": [
        "1. Prepare the couscous according to package instructions.",
        "2. Cut the zucchini and carrot into small cubes.",
        "3. In a pan, heat some oil over medium heat.",
        "4. Add the zucchini and carrot cubes to the pan and sauté for 5-7 minutes until slightly tender.",
        "5. Sprinkle cumin and turmeric over the vegetables, stir well to coat evenly, and cook for another 2-3 minutes.",
        "6. Serve the cooked couscous in bowls and top with the turmeric-spiced zucchini and carrot mixture.",
        "7. Enjoy your flavorful Turmeric Zucchini Couscous Bowl!"
    ],
    "nutrition": {
        "calories": 250,
        "protein": 8,
        "fat": 2,
        "carbs": 50
    }
}
2025-07-06 02:21:44,883 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 02:21:44,884 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 02:21:44,884 - DEBUG - Matched ingredient 'turmeric' to 'Turmeric'
2025-07-06 02:21:44,885 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 02:21:44,886 - DEBUG - Matched ingredient 'carrot' to 'Carrot'
2025-07-06 02:21:44,887 - ERROR - An unexpected error occurred during recipe generation (after limit check) for user Michael Kennedy: 'date_generated' is an invalid keyword argument for Recipe
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 927, in generate
    new_recipe = Recipe(
        user_id=current_user.id,
    ...<6 lines>...
        date_generated=datetime.utcnow()
    )
  File "<string>", line 4, in __init__
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2173, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'date_generated' is an invalid keyword argument for Recipe
2025-07-06 02:21:44,940 - INFO - Reverted limits for user Michael Kennedy due to unexpected error.
2025-07-06 02:24:29,003 - DEBUG - Initialized db with app, db instance: 1621437553968, app: 1621454044000
2025-07-06 02:24:29,006 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:25:56,356 - DEBUG - Initialized db with app, db instance: 2206604369200, app: 2206620859232
2025-07-06 02:25:56,359 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:26:09,412 - DEBUG - load_user: db instance: 2206604369200, app: 2206620859232, current_app: 2206502262080
2025-07-06 02:26:09,433 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:26:20,992 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 178
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnQsQ.fO0L0VACH6tpmNGOs8t1qvunSaU


2025-07-06 02:26:20,993 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Oregano","Cumin","Turmeric","Potatoes","Onion","Spinach"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 02:26:20,994 - DEBUG - Incoming /generate request.json: {'ingredients': ['Oregano', 'Cumin', 'Turmeric', 'Potatoes', 'Onion', 'Spinach'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 02:26:20,994 - DEBUG - load_user: db instance: 2206604369200, app: 2206620859232, current_app: 2206502262080
2025-07-06 02:26:20,997 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:26:21,036 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 02:26:21,037 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 02:26:21,038 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 02:26:21,038 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Oregano, Cumin, Turmeric, Potatoes, Onion, Spinach. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 02:26:27,009 - DEBUG - OpenAI raw response: {
    "title": "Spiced Potato and Spinach Medley",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Potatoes", "quantity": "2 medium, diced"},
        {"name": "Onion", "quantity": "1 large, chopped"},
        {"name": "Spinach", "quantity": "2 cups, chopped"},
        {"name": "Oregano", "quantity": "1 tsp"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Turmeric", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "In a large skillet, heat vegetable oil over medium heat.",
        "Add the chopped onions and sauté until translucent.",
        "Stir in the diced potatoes, oregano, cumin, turmeric, salt, and black pepper. Cook until the potatoes are golden brown and cooked through, about 15-20 minutes.",
        "Add the chopped spinach to the skillet and cook until wilted, about 3-5 minutes.",
        "Adjust seasoning if needed and serve the spiced potato and spinach medley hot.",
    {
    "nutrition": {
        "calories": 280,
        "protein": 5,
        "fat": 7,
        "carbs": 50
    }
}    ],
    "cook_time": "30 mins",
    "difficulty": "Easy",
    "servings": 2
}
2025-07-06 02:26:27,011 - DEBUG - Matched ingredient 'potatoes' to 'Potatoes'
2025-07-06 02:26:27,011 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 02:26:27,012 - DEBUG - Matched ingredient 'spinach' to 'Spinach'
2025-07-06 02:26:27,013 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 02:26:27,013 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 02:26:27,014 - DEBUG - Matched ingredient 'turmeric' to 'Turmeric'
2025-07-06 02:26:27,015 - WARNING - No match found for ingredient: 'salt'
2025-07-06 02:26:27,016 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 02:26:27,016 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 02:26:27,033 - INFO - Recipe saved for user Michael Kennedy: Spiced Potato and Spinach Medley
2025-07-06 02:35:06,899 - DEBUG - Initialized db with app, db instance: 2303965338928, app: 2303981747040
2025-07-06 02:35:06,903 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:35:38,249 - DEBUG - Initialized db with app, db instance: 2179391266096, app: 2179407756128
2025-07-06 02:35:38,255 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:37:42,376 - DEBUG - Initialized db with app, db instance: 3060600708400, app: 3060617198432
2025-07-06 02:37:42,380 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:37:47,934 - DEBUG - load_user: db instance: 3060600708400, app: 3060617198432, current_app: 3060499060032
2025-07-06 02:37:47,950 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:38:01,326 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 167
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnTbA.8LZNhGmj0gF-lnVh648wyQSsKxE


2025-07-06 02:38:01,327 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Tofu","Cauliflower","Tomato","Thyme"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 02:38:01,328 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Tofu', 'Cauliflower', 'Tomato', 'Thyme'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 02:38:01,328 - DEBUG - load_user: db instance: 3060600708400, app: 3060617198432, current_app: 3060499060032
2025-07-06 02:38:01,331 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:38:01,336 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 02:38:01,337 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 02:38:01,339 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 02:38:01,339 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Tofu, Cauliflower, Tomato, Thyme. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 02:38:06,488 - DEBUG - OpenAI raw response: {
    "title": "Savory Shrimp and Tofu Stir-Fry with Cauliflower Rice",
    "cuisine": "Fusion",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "10 large, peeled and deveined"},
        {"name": "Tofu", "quantity": "8 oz, cubed"},
        {"name": "Cauliflower", "quantity": "1/2 head, riced"},
        {"name": "Tomato", "quantity": "1 medium, diced"},
        {"name": "Thyme", "quantity": "1 tsp, dried"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Soy sauce", "quantity": "2 tbsp"},
        {"name": "Vegetable oil", "quantity": "2 tbsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black pepper", "quantity": "to taste"},
        {"name": "Red pepper flakes", "quantity": "1/2 tsp"}
    ],
    "instructions": [
        "In a large skillet, heat vegetable oil over medium heat.",
        "Add minced garlic and sauté for 1-2 minutes until fragrant.",
        "Add the shrimp to the skillet and cook for 2-3 minutes until they start to turn pink.",
        "Push the shrimp to one side of the skillet and add the tofu cubes. Cook for 3-4 minutes until lightly browned.",
        "Stir in the diced tomato, cauliflower rice, dried thyme, soy sauce, salt, black pepper, and red pepper flakes. Cook for another 5-7 minutes, stirring occasionally.",
        "Adjust seasoning if needed and ensure shrimp is fully cooked.",
        "Serve the savory shrimp and tofu stir-fry hot, garnished with fresh thyme leaves if desired.",
        "Enjoy your delicious meal!"
    ],
    "nutrition": {
        "calories": 320,
        "protein": 28,
        "fat": 16,
        "carbs": 20
    }
}
2025-07-06 02:38:06,489 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 02:38:06,490 - DEBUG - Matched ingredient 'tofu' to 'Tofu'
2025-07-06 02:38:06,491 - DEBUG - Matched ingredient 'cauliflower' to 'Cauliflower'
2025-07-06 02:38:06,492 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 02:38:06,492 - DEBUG - Matched ingredient 'thyme' to 'Thyme'
2025-07-06 02:38:06,493 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 02:38:06,493 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 02:38:06,494 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 02:38:06,494 - WARNING - No match found for ingredient: 'salt'
2025-07-06 02:38:06,495 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 02:38:06,495 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 02:38:06,510 - INFO - Recipe saved for user Michael Kennedy: Savory Shrimp and Tofu Stir-Fry with Cauliflower Rice
2025-07-06 02:38:15,231 - DEBUG - load_user: db instance: 3060600708400, app: 3060617198432, current_app: 3060499060032
2025-07-06 02:38:15,233 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:38:21,247 - DEBUG - load_user: db instance: 3060600708400, app: 3060617198432, current_app: 3060499060032
2025-07-06 02:38:21,249 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:38:22,826 - DEBUG - load_user: db instance: 3060600708400, app: 3060617198432, current_app: 3060499060032
2025-07-06 02:38:22,828 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:43:31,982 - DEBUG - Initialized db with app, db instance: 1518644600448, app: 1518661088128
2025-07-06 02:43:31,986 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:43:39,200 - DEBUG - load_user: db instance: 1518644600448, app: 1518661088128, current_app: 1518543159408
2025-07-06 02:43:39,214 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:43:41,975 - DEBUG - load_user: db instance: 1518644600448, app: 1518661088128, current_app: 1518543159408
2025-07-06 02:43:41,978 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:44:16,647 - DEBUG - Initialized db with app, db instance: 2830994480432, app: 2831010970464
2025-07-06 02:44:16,653 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:53:57,797 - DEBUG - Initialized db with app, db instance: 1817948822832, app: 1817965312864
2025-07-06 02:53:57,802 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:54:02,370 - DEBUG - Initialized db with app, db instance: 2051368262960, app: 2051384752992
2025-07-06 02:54:02,374 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 02:54:02,939 - DEBUG - load_user: db instance: 2051368262960, app: 2051384752992, current_app: 2051267073344
2025-07-06 02:54:02,951 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:54:10,326 - DEBUG - load_user: db instance: 2051368262960, app: 2051384752992, current_app: 2051267073344
2025-07-06 02:54:10,329 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:54:29,285 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 147
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnXQg.S3LNJQAnHku4jOzvfallgupNAis


2025-07-06 02:54:29,287 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Quinoa","Broccoli","Eggs"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 02:54:29,288 - DEBUG - Incoming /generate request.json: {'ingredients': ['Quinoa', 'Broccoli', 'Eggs'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 02:54:29,288 - DEBUG - load_user: db instance: 2051368262960, app: 2051384752992, current_app: 2051267073344
2025-07-06 02:54:29,291 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:54:29,295 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 02:54:29,295 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 02:54:29,298 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 02:54:29,299 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Quinoa, Broccoli, Eggs. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 02:54:33,313 - DEBUG - OpenAI raw response: {
    "title": "Savory Quinoa Broccoli Egg Skillet",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Quinoa", "quantity": "1/2 cup"},
        {"name": "Broccoli florets", "quantity": "1 cup"},
        {"name": "Eggs", "quantity": "4"},
        {"name": "Olive oil", "quantity": "2 tablespoons"},
        {"name": "Garlic, minced", "quantity": "2 cloves"},
        {"name": "Onion, chopped", "quantity": "1/2"},
        {"name": "Paprika", "quantity": "1 teaspoon"},
        {"name": "Salt", "quantity": "1/2 teaspoon"},
        {"name": "Black pepper", "quantity": "1/4 teaspoon"},
        {"name": "Red pepper flakes", "quantity": "1/4 teaspoon"},
        {"name": "Fresh parsley, chopped", "quantity": "2 tablespoons"}
    ],
    "instructions": [
        "1. Cook quinoa according to package instructions and set aside.",
        "2. In a large skillet, heat olive oil over medium heat. Add garlic and onion, sauté until translucent.",
        "3. Add broccoli florets to the skillet and cook for about 5 minutes until slightly tender.",
        "4. Push the broccoli to the side of the skillet and crack the eggs into the empty space. Scramble the eggs until cooked through.",
        "5. Mix the cooked quinoa into the skillet with the broccoli and eggs.",
        "6. Season with paprika, salt, black pepper, and red pepper flakes. Stir well to combine all ingredients.",
        "7. Cook for another 2-3 minutes until everything is heated through.",
        "8. Remove from heat and sprinkle with fresh parsley before serving.",
        "9. Enjoy the savory quinoa broccoli egg skillet hot!",
    "nutrition"  ] 
}

               
2025-07-06 02:54:33,315 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-06 02:54:33,315 - DEBUG - Matched ingredient 'broccoli florets' to 'Broccoli'
2025-07-06 02:54:33,316 - DEBUG - Matched ingredient 'eggs' to 'Eggs'
2025-07-06 02:54:33,316 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 02:54:33,316 - DEBUG - Matched ingredient 'garlic, minced' to 'Garlic'
2025-07-06 02:54:33,317 - DEBUG - Matched ingredient 'onion, chopped' to 'Onion'
2025-07-06 02:54:33,318 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 02:54:33,318 - WARNING - No match found for ingredient: 'salt'
2025-07-06 02:54:33,319 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 02:54:33,319 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 02:54:33,320 - WARNING - No match found for ingredient: 'fresh parsley, chopped'
2025-07-06 02:54:33,341 - INFO - Recipe saved for user Michael Kennedy: Savory Quinoa Broccoli Egg Skillet
2025-07-06 02:54:47,698 - DEBUG - load_user: db instance: 2051368262960, app: 2051384752992, current_app: 2051267073344
2025-07-06 02:54:47,701 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:56:33,209 - DEBUG - load_user: db instance: 2051368262960, app: 2051384752992, current_app: 2051267073344
2025-07-06 02:56:33,211 - DEBUG - User loaded: Michael Kennedy
2025-07-06 02:56:35,688 - DEBUG - load_user: db instance: 2051368262960, app: 2051384752992, current_app: 2051267073344
2025-07-06 02:56:35,689 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:05:24,996 - DEBUG - Initialized db with app, db instance: 1589541969200, app: 1589558393696
2025-07-06 03:05:24,999 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:08:13,337 - DEBUG - Initialized db with app, db instance: 1533443759408, app: 1533460249440
2025-07-06 03:08:13,340 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:08:23,721 - DEBUG - Initialized db with app, db instance: 2045042875696, app: 2045059300192
2025-07-06 03:08:23,725 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:08:24,234 - DEBUG - load_user: db instance: 2045042875696, app: 2045059300192, current_app: 2044940915504
2025-07-06 03:08:24,243 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:08:26,620 - DEBUG - load_user: db instance: 2045042875696, app: 2045059300192, current_app: 2044940915504
2025-07-06 03:08:26,624 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:08:42,392 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 156
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnamA.7KJL-_I0dHWfJ5lgyHfTyvKdNzU


2025-07-06 03:08:42,393 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Turmeric","Zucchini","Bell Pepper"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 03:08:42,394 - DEBUG - Incoming /generate request.json: {'ingredients': ['Turmeric', 'Zucchini', 'Bell Pepper'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 03:08:42,394 - DEBUG - load_user: db instance: 2045042875696, app: 2045059300192, current_app: 2044940915504
2025-07-06 03:08:42,397 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:08:42,399 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 03:08:42,400 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 03:08:42,403 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 03:08:42,404 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Turmeric, Zucchini, Bell Pepper. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 03:08:47,005 - DEBUG - OpenAI raw response: {
    "title": "Turmeric Infused Zucchini and Bell Pepper Stir-Fry",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Zucchini", "quantity": "2 medium"},
        {"name": "Bell Pepper", "quantity": "1 large"},
        {"name": "Turmeric Powder", "quantity": "1 tsp"},
        {"name": "Salt", "quantity": "1/2 tsp"},
        {"name": "Black Pepper", "quantity": "1/4 tsp"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Soy Sauce", "quantity": "2 tbsp"},
        {"name": "Rice Vinegar", "quantity": "1 tbsp"},
        {"name": "Sesame Seeds", "quantity": "1 tbsp, for garnish"},
        {"name": "Green Onions", "quantity": "2, chopped, for garnish"}
    ],
    "instructions": [
        "1. Heat vegetable oil in a pan over medium heat.",
        "2. Add minced garlic and sauté for 1 minute until fragrant.",
        "3. Add sliced zucchini and bell pepper to the pan. Cook for about 5-7 minutes until slightly tender.",
        "4. Sprinkle turmeric powder, salt, and black pepper over the vegetables. Stir well to coat.",
        "5. Pour soy sauce and rice vinegar into the pan. Stir-fry for another 2-3 minutes.",
        "6. Remove from heat and garnish with sesame seeds and chopped green onions.",
        "7. Serve the Turmeric Infused Zucchini and Bell Pepper Stir-Fry hot over rice or noodles.",
        "8. Enjoy your flavorful and colorful stir-fry!"
    ],
    "nutrition": {
        "calories": 150,
        "protein": 4,
        "fat": 9,
        "carbs": 15
    }
}
2025-07-06 03:08:47,006 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 03:08:47,007 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 03:08:47,007 - DEBUG - Matched ingredient 'turmeric powder' to 'Turmeric'
2025-07-06 03:08:47,007 - WARNING - No match found for ingredient: 'salt'
2025-07-06 03:08:47,008 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 03:08:47,008 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 03:08:47,009 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 03:08:47,009 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 03:08:47,010 - DEBUG - Matched ingredient 'rice vinegar' to 'Rice'
2025-07-06 03:08:47,010 - WARNING - No match found for ingredient: 'sesame seeds'
2025-07-06 03:08:47,010 - DEBUG - Matched ingredient 'green onions' to 'Onion'
2025-07-06 03:08:47,025 - INFO - Recipe saved for user Michael Kennedy: Turmeric Infused Zucchini and Bell Pepper Stir-Fry
2025-07-06 03:12:22,378 - DEBUG - load_user: db instance: 2045042875696, app: 2045059300192, current_app: 2044940915504
2025-07-06 03:12:22,383 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:12:33,507 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 161
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnbhg._05npW2Gzx86z52iPGOY02Af-xg


2025-07-06 03:12:33,508 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Bell Pepper","Zucchini","Quinoa"],"dietary":[],"mood":"fun","spice_level":5,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 03:12:33,508 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Bell Pepper', 'Zucchini', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 5, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 03:12:33,509 - DEBUG - load_user: db instance: 2045042875696, app: 2045059300192, current_app: 2044940915504
2025-07-06 03:12:33,511 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:12:33,513 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 03:12:33,513 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 03:12:33,516 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 03:12:33,516 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Lamb, Bell Pepper, Zucchini, Quinoa. Dietary preferences: None. Spice level: 5/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 03:12:39,133 - DEBUG - OpenAI raw response: {
    "title": "Spicy Lamb and Quinoa Stir-Fry",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Lamb Leg Steaks", "quantity": "2 steaks, thinly sliced"},
        {"name": "Bell Pepper", "quantity": "1, sliced"},
        {"name": "Zucchini", "quantity": "1, sliced"},
        {"name": "Quinoa", "quantity": "1 cup, cooked"},
        {"name": "Vegetable Oil", "quantity": "2 tablespoons"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Ginger", "quantity": "1 teaspoon, minced"},
        {"name": "Soy Sauce", "quantity": "2 tablespoons"},
        {"name": "Chili Flakes", "quantity": "1 teaspoon"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Green Onions", "quantity": "2, chopped (for garnish)"}
    ],
    "instructions": [
        "In a large skillet, heat vegetable oil over medium-high heat.",
        "Add minced garlic and ginger, and sauté for 1-2 minutes until fragrant.",
        "Add the sliced lamb to the skillet and cook until browned, about 5-6 minutes.",
        "Stir in the sliced bell pepper and zucchini, and cook for an additional 3-4 minutes until vegetables are slightly tender.",
        "Add cooked quinoa to the skillet, along with soy sauce, chili flakes, salt, and black pepper. Mix well to combine all the ingredients.",
        "Cook for another 2-3 minutes, allowing the flavors to meld together.",
        "Adjust seasoning if needed.",
        "Serve the spicy lamb and quinoa stir-fry hot, garnished with chopped green onions.",
        "Enjoy your spicy and flavorful meal!"
    ],
    "nutrition": {
        "calories": 480,
        "protein": 32,
        "fat": 22,
        "carbs": 36
    }
}
2025-07-06 03:12:39,135 - DEBUG - Matched ingredient 'lamb leg steaks' to 'Lamb'
2025-07-06 03:12:39,136 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 03:12:39,137 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 03:12:39,138 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-06 03:12:39,138 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 03:12:39,139 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 03:12:39,140 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 03:12:39,141 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 03:12:39,142 - DEBUG - Matched ingredient 'chili flakes' to 'Chili Flakes'
2025-07-06 03:12:39,143 - WARNING - No match found for ingredient: 'salt'
2025-07-06 03:12:39,143 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 03:12:39,144 - DEBUG - Matched ingredient 'green onions' to 'Onion'
2025-07-06 03:12:39,157 - INFO - Recipe saved for user Michael Kennedy: Spicy Lamb and Quinoa Stir-Fry
2025-07-06 03:12:45,151 - DEBUG - load_user: db instance: 2045042875696, app: 2045059300192, current_app: 2044940915504
2025-07-06 03:12:45,154 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:13:00,412 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 172
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnbnQ.TPS_B0Z8xtpBRChVeDLMGkd53b8


2025-07-06 03:13:00,413 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Tofu","Paprika","Chili Flakes","Broccoli"],"dietary":[],"mood":"fun","spice_level":1,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 03:13:00,414 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Tofu', 'Paprika', 'Chili Flakes', 'Broccoli'], 'dietary': [], 'mood': 'fun', 'spice_level': 1, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 03:13:00,414 - DEBUG - load_user: db instance: 2045042875696, app: 2045059300192, current_app: 2044940915504
2025-07-06 03:13:00,417 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:13:00,418 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 03:13:00,419 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 03:13:00,420 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 03:13:00,421 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Tofu, Paprika, Chili Flakes, Broccoli. Dietary preferences: None. Spice level: 1/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 03:13:05,857 - DEBUG - OpenAI raw response: {
    "title": "Spicy Shrimp and Tofu Stir-Fry with Broccoli",
    "cuisine": "Asian",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "10 large, peeled and deveined"},
        {"name": "Tofu", "quantity": "1 block, firm, cubed"},
        {"name": "Paprika", "quantity": "1 tsp"},
        {"name": "Chili Flakes", "quantity": "1/2 tsp"},
        {"name": "Broccoli", "quantity": "2 cups, florets"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"},
        {"name": "Soy Sauce", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Ginger", "quantity": "1 tsp, minced"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Pepper", "quantity": "to taste"},
        {"name": "Cooked Rice", "quantity": "for serving"}
    ],
    "instructions": [
        "In a bowl, mix shrimp with paprika, chili flakes, salt, and pepper. Set aside.",
        "In a wok or large pan, heat vegetable oil over medium heat. Add garlic and ginger, sauté for 1 minute.",
        "Add marinated shrimp to the pan and cook until pink and cooked through, about 2-3 minutes per side. Remove shrimp from the pan.",
        "In the same pan, add cubed tofu and stir-fry until lightly browned, about 5 minutes.",
        "Add broccoli florets to the pan and stir-fry for another 3-4 minutes until slightly tender.",
        "Return the cooked shrimp to the pan. Add soy sauce and toss everything together. Cook for another 2 minutes.",
        "Adjust seasoning with salt and pepper if needed.",
        "Serve the spicy shrimp and tofu stir-fry over cooked rice. Enjoy!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 35,
        "fat": 18,
        "carbs": 22
    }
}
2025-07-06 03:13:05,859 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 03:13:05,860 - DEBUG - Matched ingredient 'tofu' to 'Tofu'
2025-07-06 03:13:05,860 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 03:13:05,861 - DEBUG - Matched ingredient 'chili flakes' to 'Chili Flakes'
2025-07-06 03:13:05,862 - DEBUG - Matched ingredient 'broccoli' to 'Broccoli'
2025-07-06 03:13:05,863 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 03:13:05,864 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 03:13:05,864 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 03:13:05,865 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 03:13:05,866 - WARNING - No match found for ingredient: 'salt'
2025-07-06 03:13:05,867 - WARNING - No match found for ingredient: 'pepper'
2025-07-06 03:13:05,867 - DEBUG - Matched ingredient 'cooked rice' to 'Rice'
2025-07-06 03:13:05,878 - INFO - Recipe saved for user Michael Kennedy: Spicy Shrimp and Tofu Stir-Fry with Broccoli
2025-07-06 03:13:18,621 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 177
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnbsQ.MTPFrWW_KFvTxceTL0rq-CsUpAg


2025-07-06 03:13:18,622 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Tofu","Broccoli","Tomato","Cauliflower","Pork"],"dietary":[],"mood":"fun","spice_level":1,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 03:13:18,623 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Tofu', 'Broccoli', 'Tomato', 'Cauliflower', 'Pork'], 'dietary': [], 'mood': 'fun', 'spice_level': 1, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 03:13:18,623 - DEBUG - load_user: db instance: 2045042875696, app: 2045059300192, current_app: 2044940915504
2025-07-06 03:13:18,624 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:13:18,625 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 03:13:18,626 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 03:13:18,628 - WARNING - Rate limit error from Flask-Limiter for 5: 429 Too Many Requests: 3 per 1 day. If user reached limit, this is expected.
2025-07-06 03:13:18,629 - INFO - Reverted limits for user Michael Kennedy due to Flask-Limiter.
2025-07-06 03:14:13,629 - DEBUG - load_user: db instance: 2045042875696, app: 2045059300192, current_app: 2044940915504
2025-07-06 03:14:13,631 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:29:05,831 - DEBUG - Initialized db with app, db instance: 2763281259824, app: 2763297684320
2025-07-06 03:29:05,836 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:29:10,024 - DEBUG - Initialized db with app, db instance: 1767852858672, app: 1767869348704
2025-07-06 03:29:10,028 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:29:15,315 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:29:15,330 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:29:25,903 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 147
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnfew.r38dFGcyuhoF4PD_gCyixnBvsTE


2025-07-06 03:29:25,904 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tomato","Onion","Spinach"],"dietary":[],"mood":"fun","spice_level":1,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 03:29:25,905 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tomato', 'Onion', 'Spinach'], 'dietary': [], 'mood': 'fun', 'spice_level': 1, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 03:29:25,905 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:29:25,908 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:29:25,911 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 03:29:25,911 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 03:29:25,913 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 03:29:25,913 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Tomato, Onion, Spinach. Dietary preferences: None. Spice level: 1/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 03:29:30,639 - DEBUG - OpenAI raw response: {
    "title": "Savory Tomato Spinach Saute",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Tomato", "quantity": "2 medium"},
        {"name": "Onion", "quantity": "1 medium"},
        {"name": "Spinach", "quantity": "4 cups"},
        {"name": "Olive Oil", "quantity": "2 tablespoons"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Salt", "quantity": "1/2 teaspoon"},
        {"name": "Black Pepper", "quantity": "1/4 teaspoon"}
    ],
    "instructions": [
        "1. Heat olive oil in a pan over medium heat.",
        "2. Add minced garlic and sauté for 1 minute until fragrant.",
        "3. Add chopped onion and cook until translucent, about 3-4 minutes.",
        "4. Stir in diced tomatoes, salt, and black pepper. Cook for another 5-7 minutes until the tomatoes soften.",
        "5. Add spinach to the pan and gently toss until wilted, about 2-3 minutes.",
        "6. Adjust seasoning if needed and serve the savory tomato spinach saute hot.",
        "7. Enjoy your flavorful and nutritious dish!"
    ],
    "nutrition": {
        "calories": 120,
        "protein": 4,
        "fat": 7,
        "carbs": 14
    }
}
2025-07-06 03:29:30,640 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 03:29:30,642 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 03:29:30,643 - DEBUG - Matched ingredient 'spinach' to 'Spinach'
2025-07-06 03:29:30,643 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 03:29:30,643 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 03:29:30,644 - WARNING - No match found for ingredient: 'salt'
2025-07-06 03:29:30,644 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 03:29:30,660 - INFO - Recipe saved for user Michael Kennedy: Savory Tomato Spinach Saute
2025-07-06 03:29:37,735 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:29:37,737 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:29:48,199 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:29:48,201 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:31:24,081 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 177
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnf4Q.pvZWDkS2vpBQ30lwTkwaVjGNUVM


2025-07-06 03:31:24,082 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Eggs","Fish","Ginger","Cauliflower","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 03:31:24,082 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Eggs', 'Fish', 'Ginger', 'Cauliflower', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 03:31:24,083 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:31:24,085 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:31:24,086 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 03:31:24,087 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 03:31:24,090 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 03:31:24,091 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Eggs, Fish, Ginger, Cauliflower, Potatoes. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 03:31:29,512 - DEBUG - OpenAI raw response: {
    "title": "Ginger Shrimp and Fish Stir-Fry with Cauliflower Hash",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "10 large, peeled and deveined"},
        {"name": "White Fish Fillets", "quantity": "2, cut into chunks"},
        {"name": "Eggs", "quantity": "2, beaten"},
        {"name": "Ginger", "quantity": "1 tbsp, minced"},
        {"name": "Cauliflower", "quantity": "2 cups, riced"},
        {"name": "Potatoes", "quantity": "2 medium, diced"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"},
        {"name": "Soy Sauce", "quantity": "2 tbsp"},
        {"name": "Sesame Oil", "quantity": "1 tbsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Green Onions", "quantity": "2, sliced for garnish"}
    ],
    "instructions": [
        "In a large skillet, heat vegetable oil over medium-high heat.",
        "Add diced potatoes and cook until golden and crispy, about 10 minutes. Remove from skillet and set aside.",
        "In the same skillet, add shrimp and fish. Cook until shrimp turns pink and fish is cooked through, about 3-4 minutes. Remove from skillet and set aside.",
        "Add minced ginger to the skillet and sauté for 1 minute.",
        "Add riced cauliflower to the skillet and cook for 5-6 minutes until tender.",
        "Push cauliflower to the side of the skillet and pour beaten eggs into the empty space. Scramble the eggs until cooked.",
        "Return the potatoes, shrimp, and fish to the skillet. Mix everything together.",
        "Add soy sauce, sesame oil, salt, and black pepper. Stir well to combine all flavors.",
        "Garnish with sliced green onions before serving.",
        "Serve hot and enjoy!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 30,
        "fat": 16,
        "carbs": 28
    }
}
2025-07-06 03:31:29,514 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 03:31:29,514 - DEBUG - Matched ingredient 'white fish fillets' to 'Fish'
2025-07-06 03:31:29,515 - DEBUG - Matched ingredient 'eggs' to 'Eggs'
2025-07-06 03:31:29,516 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 03:31:29,517 - DEBUG - Matched ingredient 'cauliflower' to 'Cauliflower'
2025-07-06 03:31:29,517 - DEBUG - Matched ingredient 'potatoes' to 'Potatoes'
2025-07-06 03:31:29,517 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 03:31:29,518 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 03:31:29,519 - WARNING - No match found for ingredient: 'sesame oil'
2025-07-06 03:31:29,519 - WARNING - No match found for ingredient: 'salt'
2025-07-06 03:31:29,520 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 03:31:29,521 - DEBUG - Matched ingredient 'green onions' to 'Onion'
2025-07-06 03:31:29,536 - INFO - Recipe saved for user Michael Kennedy: Ginger Shrimp and Fish Stir-Fry with Cauliflower Hash
2025-07-06 03:33:04,531 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:33:04,534 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:35:32,383 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:35:32,386 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:35:34,300 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:35:34,303 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:36:30,491 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:36:30,493 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:36:33,098 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:36:33,101 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:36:33,395 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:36:33,397 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:36:37,168 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:36:37,171 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:36:39,333 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:36:39,335 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:36:54,187 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 156
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnhNw.7yTa6BX_4E8-z0xwJNtovEUDL1M


2025-07-06 03:36:54,188 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tempeh","Tofu","Shrimp","Zucchini"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 03:36:54,189 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tempeh', 'Tofu', 'Shrimp', 'Zucchini'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 03:36:54,189 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:36:54,191 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:36:54,192 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 03:36:54,193 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 03:36:54,195 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 03:36:54,195 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Tempeh, Tofu, Shrimp, Zucchini. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 03:36:59,237 - DEBUG - OpenAI raw response: {
    "title": "Spicy Tempeh, Tofu, and Shrimp Stir-Fry with Zucchini",
    "cuisine": "Asian",
    "dietary": [],
    "ingredients": [
        {"name": "Tempeh", "quantity": "6 oz, cubed"},
        {"name": "Tofu", "quantity": "6 oz, cubed"},
        {"name": "Shrimp", "quantity": "8 oz, deveined and peeled"},
        {"name": "Zucchini", "quantity": "1 medium, sliced"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"},
        {"name": "Soy Sauce", "quantity": "3 tbsp"},
        {"name": "Garlic", "quantity": "3 cloves, minced"},
        {"name": "Ginger", "quantity": "1 tsp, minced"},
        {"name": "Red Chili Flakes", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Green Onions", "quantity": "2, chopped (for garnish)"}
    ],
    "instructions": [
        "In a large pan or wok, heat vegetable oil over medium-high heat.",
        "Add minced garlic and ginger, and stir-fry for 1 minute until fragrant.",
        "Add tempeh, tofu, and shrimp to the pan. Cook for 5-6 minutes until shrimp is pink and cooked through.",
        "Add zucchini slices, soy sauce, red chili flakes, salt, and black pepper. Stir well to combine.",
        "Cook for another 3-4 minutes until zucchini is tender but still crisp.",
        "Adjust seasoning if needed. If you prefer more spice, add extra red chili flakes.",
        "Garnish with chopped green onions before serving.",
        "Serve the spicy tempeh, tofu, and shrimp stir-fry hot over steamed rice or noodles."
    ],
    "nutrition": {
        "calories": 380,
        "protein": 34,
        "fat": 20,
        "carbs": 18
    }
}
2025-07-06 03:36:59,239 - DEBUG - Matched ingredient 'tempeh' to 'Tempeh'
2025-07-06 03:36:59,239 - DEBUG - Matched ingredient 'tofu' to 'Tofu'
2025-07-06 03:36:59,240 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 03:36:59,240 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 03:36:59,241 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 03:36:59,241 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 03:36:59,241 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 03:36:59,242 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 03:36:59,242 - DEBUG - Matched ingredient 'red chili flakes' to 'Chili Flakes'
2025-07-06 03:36:59,242 - WARNING - No match found for ingredient: 'salt'
2025-07-06 03:36:59,243 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 03:36:59,243 - DEBUG - Matched ingredient 'green onions' to 'Onion'
2025-07-06 03:36:59,252 - INFO - Recipe saved for user Michael Kennedy: Spicy Tempeh, Tofu, and Shrimp Stir-Fry with Zucchini
2025-07-06 03:37:07,829 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:37:07,831 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:37:17,791 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:37:17,794 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:37:28,370 - DEBUG - load_user: db instance: 1767852858672, app: 1767869348704, current_app: 1767751095088
2025-07-06 03:37:28,371 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:43:50,562 - DEBUG - Initialized db with app, db instance: 2497217486128, app: 2497233976160
2025-07-06 03:43:50,566 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:43:51,217 - DEBUG - load_user: db instance: 2497217486128, app: 2497233976160, current_app: 2497116246832
2025-07-06 03:43:51,227 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:43:53,556 - DEBUG - load_user: db instance: 2497217486128, app: 2497233976160, current_app: 2497116246832
2025-07-06 03:43:53,560 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:45:51,449 - DEBUG - Initialized db with app, db instance: 1696092708144, app: 1696109132640
2025-07-06 03:45:51,454 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:46:30,332 - DEBUG - Initialized db with app, db instance: 1919734111536, app: 1919750601568
2025-07-06 03:46:30,335 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:46:35,654 - DEBUG - load_user: db instance: 1919734111536, app: 1919750601568, current_app: 1919633134288
2025-07-06 03:46:35,668 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:46:45,681 - DEBUG - load_user: db instance: 1919734111536, app: 1919750601568, current_app: 1919633134288
2025-07-06 03:46:45,684 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:49:03,810 - DEBUG - Initialized db with app, db instance: 3127952399664, app: 3127968824160
2025-07-06 03:49:03,814 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:49:10,117 - DEBUG - load_user: db instance: 3127952399664, app: 3127968824160, current_app: 3127849655920
2025-07-06 03:49:10,129 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:49:12,651 - DEBUG - load_user: db instance: 3127952399664, app: 3127968824160, current_app: 3127849655920
2025-07-06 03:49:12,653 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:49:15,974 - DEBUG - load_user: db instance: 3127952399664, app: 3127968824160, current_app: 3127849655920
2025-07-06 03:49:15,977 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:53:08,219 - DEBUG - Initialized db with app, db instance: 2720509779248, app: 2720526269280
2025-07-06 03:53:08,224 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:53:14,217 - DEBUG - Initialized db with app, db instance: 3025319288112, app: 3025335712608
2025-07-06 03:53:14,220 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 03:53:14,785 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:53:14,793 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:53:22,393 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:53:22,397 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:53:22,420 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:53:22,422 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:53:25,669 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:53:25,672 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:53:27,189 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:53:27,191 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:53:30,125 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:53:30,129 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:53:30,143 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:53:30,145 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:55:23,497 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; __stripe_sid=45991531-a83b-49f5-ae17-3ba870e5963715c0bf; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnlKg.LwdSXvJNhOu5QxFGn1enH17aNQg


2025-07-06 03:55:23,499 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Beef","Tomato","Basil","Oregano"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 03:55:23,500 - DEBUG - Incoming /generate request.json: {'ingredients': ['Beef', 'Tomato', 'Basil', 'Oregano'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 03:55:23,501 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:55:23,508 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:55:23,522 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 03:55:23,522 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 03:55:23,525 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 03:55:23,525 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Beef, Tomato, Basil, Oregano. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 03:55:28,023 - DEBUG - OpenAI raw response: {
    "title": "Savory Beef Tomato Basil Skillet",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Beef Strips", "quantity": "8 oz"},
        {"name": "Tomato", "quantity": "1 large, diced"},
        {"name": "Basil Leaves", "quantity": "1/4 cup, chopped"},
        {"name": "Oregano", "quantity": "1 tsp"},
        {"name": "Salt", "quantity": "1/2 tsp"},
        {"name": "Black Pepper", "quantity": "1/4 tsp"},
        {"name": "Olive Oil", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "In a skillet, heat olive oil over medium-high heat.",
        "Add beef strips and season with salt, pepper, and oregano. Cook until beef is browned, about 5-7 minutes.",
        "Add diced tomatoes to the skillet and cook for another 5 minutes, allowing the tomatoes to soften.",
        "Stir in chopped basil leaves and cook for an additional 2-3 minutes.",
        "Adjust seasoning if needed and serve hot.",
        "Enjoy your savory beef tomato basil skillet!"
    ],
    "nutrition": {
        "calories": 450,
        "protein": 35,
        "fat": 30,
        "carbs": 8
    }
}
2025-07-06 03:55:28,025 - DEBUG - Matched ingredient 'beef strips' to 'Beef'
2025-07-06 03:55:28,026 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 03:55:28,027 - DEBUG - Matched ingredient 'basil leaves' to 'Basil'
2025-07-06 03:55:28,028 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 03:55:28,029 - WARNING - No match found for ingredient: 'salt'
2025-07-06 03:55:28,030 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 03:55:28,031 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 03:55:28,061 - INFO - Recipe saved for user Michael Kennedy: Savory Beef Tomato Basil Skillet
2025-07-06 03:55:35,012 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:55:35,015 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:55:39,349 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:55:39,352 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:55:52,796 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 197
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; __stripe_sid=45991531-a83b-49f5-ae17-3ba870e5963715c0bf; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnlqw.TWUnnJL_JfkqVWw5E3uCC1e1VMQ


2025-07-06 03:55:52,797 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Bell Pepper","Cumin","Quinoa","Bread","Chili Flakes","Tempeh","Tofu","Eggs"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 03:55:52,798 - DEBUG - Incoming /generate request.json: {'ingredients': ['Bell Pepper', 'Cumin', 'Quinoa', 'Bread', 'Chili Flakes', 'Tempeh', 'Tofu', 'Eggs'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 03:55:52,798 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:55:52,799 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:55:52,801 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 03:55:52,801 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 03:55:52,803 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 03:55:52,804 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Bell Pepper, Cumin, Quinoa, Bread, Chili Flakes, Tempeh, Tofu, Eggs. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 03:55:55,549 - DEBUG - OpenAI raw response: {
    "title": "Spicy Quinoa-Stuffed Bell Peppers with Tempeh and Tofu",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Bell Pepper", "quantity": "2 large"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Quinoa", "quantity": "1/2 cup"},
        {"name": "Bread", "quantity": "2 slices, crumbled"},
        {"name": "Chili Flakes", "quantity": "1/2 tsp"},
        {"name": "Tempeh", "quantity": "100g, crumbled"},
        {"name": "Tofu", "quantity": "100g, crumbled"},
        {"name": "Eggs", "quantity": "2"}
    ],
    "instructions": [
        "1. Preheat the oven to 375°F (190°C).",
        "2. Cook quinoa according to package instructions.",
        "3. In a skillet, sauté crumbled tempeh and tofu with cumin and chili flakes until lightly browned.",
        "4. Cut the tops off the bell peppers and remove the seeds and membranes.",
        "5. In a bowl, mix cooked quinoa, crumbled bread, sautéed tempeh and tofu mixture.",
        "6. Stuff the bell peppers with the quinoa mixture.",
        "7. Place the stuffed bell peppers in a baking dish.",
        "8. Crack an egg on top of each stuffed pepper.",
        "9. Bake in the preheated oven for about 20-25 minutes or until the eggs are set.",
        "10. Serve the spicy quinoa-stuffed bell peppers hot.",
        "11. Enjoy your flavorful and protein-packed meal!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 25,
        "fat": 16,
        "carbs": 32
    }
}
2025-07-06 03:55:55,552 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 03:55:55,552 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 03:55:55,553 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-06 03:55:55,554 - DEBUG - Matched ingredient 'bread' to 'Bread'
2025-07-06 03:55:55,554 - DEBUG - Matched ingredient 'chili flakes' to 'Chili Flakes'
2025-07-06 03:55:55,555 - DEBUG - Matched ingredient 'tempeh' to 'Tempeh'
2025-07-06 03:55:55,556 - DEBUG - Matched ingredient 'tofu' to 'Tofu'
2025-07-06 03:55:55,557 - DEBUG - Matched ingredient 'eggs' to 'Eggs'
2025-07-06 03:55:55,569 - INFO - Recipe saved for user Michael Kennedy: Spicy Quinoa-Stuffed Bell Peppers with Tempeh and Tofu
2025-07-06 03:55:59,546 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:55:59,550 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:56:09,570 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:56:09,572 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:56:16,409 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 175
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; __stripe_sid=45991531-a83b-49f5-ae17-3ba870e5963715c0bf; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnlyQ.odxeSb_HxlIbv6JDf5dmuAhjmuM


2025-07-06 03:56:16,411 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Zucchini","Cauliflower","Broccoli","Turmeric","Thyme"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 03:56:16,412 - DEBUG - Incoming /generate request.json: {'ingredients': ['Zucchini', 'Cauliflower', 'Broccoli', 'Turmeric', 'Thyme'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 03:56:16,413 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:56:16,415 - DEBUG - User loaded: Michael Kennedy
2025-07-06 03:56:16,417 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 03:56:16,418 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 03:56:16,420 - DEBUG - Rate limit applied: 3 per day for key 5
2025-07-06 03:56:16,420 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Zucchini, Cauliflower, Broccoli, Turmeric, Thyme. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 03:56:20,945 - DEBUG - OpenAI raw response: {
    "title": "Golden Veggie Medley with Turmeric and Thyme",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Zucchini", "quantity": "1 medium"},
        {"name": "Cauliflower", "quantity": "1 cup florets"},
        {"name": "Broccoli", "quantity": "1 cup florets"},
        {"name": "Turmeric", "quantity": "1 tsp"},
        {"name": "Thyme", "quantity": "1 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Olive Oil", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "1. Preheat the oven to 400°F (200°C).",
        "2. Cut the zucchini into slices, and chop the cauliflower and broccoli into florets.",
        "3. In a bowl, mix the zucchini, cauliflower, and broccoli with olive oil, turmeric, thyme, salt, and black pepper until well coated.",
        "4. Spread the seasoned vegetables on a baking sheet in a single layer.",
        "5. Roast in the preheated oven for 20-25 minutes or until the veggies are tender and slightly browned.",
        "6. Serve the golden veggie medley hot as a side dish or over quinoa for a complete meal.",
        "7. Enjoy your flavorful and nutritious dish!"
    ],
    "nutrition": {
        "calories": 150,
        "protein": 5,
        "fat": 7,
        "carbs": 20
    }
}
2025-07-06 03:56:20,946 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 03:56:20,947 - DEBUG - Matched ingredient 'cauliflower' to 'Cauliflower'
2025-07-06 03:56:20,948 - DEBUG - Matched ingredient 'broccoli' to 'Broccoli'
2025-07-06 03:56:20,949 - DEBUG - Matched ingredient 'turmeric' to 'Turmeric'
2025-07-06 03:56:20,949 - DEBUG - Matched ingredient 'thyme' to 'Thyme'
2025-07-06 03:56:20,950 - WARNING - No match found for ingredient: 'salt'
2025-07-06 03:56:20,951 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 03:56:20,952 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 03:56:20,967 - INFO - Recipe saved for user Michael Kennedy: Golden Veggie Medley with Turmeric and Thyme
2025-07-06 03:59:34,937 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:59:34,941 - DEBUG - User loaded: Michael's at work
2025-07-06 03:59:45,794 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 03:59:45,796 - DEBUG - User loaded: Michael's at work
2025-07-06 04:02:30,337 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:02:30,340 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:02:49,874 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:02:49,879 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:03:00,531 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:03:00,534 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:03:00,535 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:03:00,536 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:03:00,553 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:03:00,554 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:03:16,909 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:03:16,914 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:03:32,707 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:03:32,710 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:12:15,434 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:12:15,455 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:12:22,764 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:12:22,770 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:12:25,440 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:12:25,446 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:12:32,202 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:12:32,206 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:13:24,262 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 166
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; __stripe_sid=45991531-a83b-49f5-ae17-3ba870e5963715c0bf; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnpoA.tHE7JiktAwRQhIukiB8ZiZi5Q70


2025-07-06 04:13:24,269 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Paprika","Zucchini","Lamb","Potatoes"],"dietary":[],"mood":"fun","spice_level":5,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":"Chinese"}'
2025-07-06 04:13:24,275 - DEBUG - Incoming /generate request.json: {'ingredients': ['Paprika', 'Zucchini', 'Lamb', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 5, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': 'Chinese'}
2025-07-06 04:13:24,277 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:13:24,284 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:13:24,299 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 04:13:24,301 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 04:13:24,320 - WARNING - Rate limit error from Flask-Limiter for 5: 429 Too Many Requests: 3 per 1 day. If user reached limit, this is expected.
2025-07-06 04:13:24,323 - INFO - Reverted limits for user Michael Kennedy due to Flask-Limiter.
2025-07-06 04:13:39,979 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:13:39,983 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:15:00,271 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:15:00,276 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:15:03,722 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:15:03,729 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:15:13,985 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 168
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; __stripe_sid=45991531-a83b-49f5-ae17-3ba870e5963715c0bf; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnqNw.pJwQvebRraeAgh0w8j6XPNrdxBQ


2025-07-06 04:15:13,987 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Zucchini","Paprika","Quinoa","Garlic"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 04:15:13,988 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Zucchini', 'Paprika', 'Quinoa', 'Garlic'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 04:15:13,989 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:15:14,002 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:15:14,005 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 04:15:14,007 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 04:15:14,012 - WARNING - Rate limit error from Flask-Limiter for 5: 429 Too Many Requests: 3 per 1 day. If user reached limit, this is expected.
2025-07-06 04:15:14,014 - INFO - Reverted limits for user Michael Kennedy due to Flask-Limiter.
2025-07-06 04:15:19,920 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 168
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; __stripe_sid=45991531-a83b-49f5-ae17-3ba870e5963715c0bf; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGnqQg.GDjASdOhfzytQNdwRnCf_7pZFdo


2025-07-06 04:15:19,922 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Zucchini","Paprika","Quinoa","Garlic"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 04:15:19,923 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Zucchini', 'Paprika', 'Quinoa', 'Garlic'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 04:15:19,926 - DEBUG - load_user: db instance: 3025319288112, app: 3025335712608, current_app: 3025216216688
2025-07-06 04:15:19,934 - DEBUG - User loaded: Michael Kennedy
2025-07-06 04:15:19,936 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 04:15:19,938 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 04:15:19,943 - WARNING - Rate limit error from Flask-Limiter for 5: 429 Too Many Requests: 3 per 1 day. If user reached limit, this is expected.
2025-07-06 04:15:19,944 - INFO - Reverted limits for user Michael Kennedy due to Flask-Limiter.
2025-07-06 15:50:30,171 - DEBUG - Initialized db with app, db instance: 3068860554544, app: 3068876979040
2025-07-06 15:50:30,177 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 15:50:34,383 - DEBUG - Initialized db with app, db instance: 2758976920880, app: 2758993410912
2025-07-06 15:50:34,386 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 15:50:56,041 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:50:56,069 - DEBUG - User loaded: Michael Kennedy
2025-07-06 15:51:05,211 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:51:05,214 - DEBUG - User loaded: Michael Kennedy
2025-07-06 15:51:05,216 - INFO - User logged out
2025-07-06 15:51:15,189 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '105346857467561032846', 'email': 'futrbit@gmail.com', 'email_verified': True, 'at_hash': 'n3By8kVYVA2lTPUop33qWw', 'nonce': 'BUfuPSVPLCHJhXRqwvwF', 'name': "Michael's at work", 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKSOqFwKzTn6NWEhsA1uNjIoP9xRhXM7TKHJLnRF_HXZ8HJYQMt=s96-c', 'given_name': "Michael's", 'family_name': 'at work', 'iat': 1751813476, 'exp': 1751817076}
2025-07-06 15:51:15,194 - INFO - User Michael's at work logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '2', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': "Michael's at work"}
2025-07-06 15:51:15,207 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:51:15,209 - DEBUG - User loaded: Michael's at work
2025-07-06 15:51:36,826 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 166
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuwkAQhOGroNlkk8U8Pd3cIWew2tPVYAUMGhtlgbh7HEXJ-q-SvqcbrWM9u-PWH3h346zu6FqMQRkonKRaLNQ4IyGoGWsrErhaieJtaFUVMWkgn6c2ECFwkUaQGhKVGkkB5uo1sYH3p6H5wUij92kiH1uGQRJZngaPXIeQye2QO_pVFizbP-2xov_64j643E4n6Dgvf_0nL3LF3j_mdhZc3taDbIevW_90r2-MWEcS.aGqNYw.t5sp4xME8qFJX-Ogr_uMJZywSSE


2025-07-06 15:51:36,837 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Pork","Spinach","Oregano","Thyme","Couscous"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 15:51:36,838 - DEBUG - Incoming /generate request.json: {'ingredients': ['Pork', 'Spinach', 'Oregano', 'Thyme', 'Couscous'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 15:51:36,839 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:51:36,842 - DEBUG - User loaded: Michael's at work
2025-07-06 15:51:36,854 - INFO - User Michael's at work's credits and API calls reset for the new day.
2025-07-06 15:51:36,856 - DEBUG - User Michael's at work - Credits: 2, API calls: 1 committed.
2025-07-06 15:51:36,859 - DEBUG - Rate limit applied: 3 per day for key 2
2025-07-06 15:51:36,859 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Pork, Spinach, Oregano, Thyme, Couscous. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 15:51:43,409 - DEBUG - OpenAI raw response: {
    "title": "Herbed Pork with Spinach Couscous",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Pork Chops", "quantity": "2 thick cuts"},
        {"name": "Spinach", "quantity": "2 cups"},
        {"name": "Oregano", "quantity": "1 tsp"},
        {"name": "Thyme", "quantity": "1 tsp"},
        {"name": "Couscous", "quantity": "1 cup"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Olive Oil", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "Season the pork chops with salt, pepper, oregano, and thyme on both sides.",
        "Heat olive oil in a skillet over medium-high heat.",
        "Add the seasoned pork chops to the skillet and cook for about 4-5 minutes per side until golden brown and cooked through. Remove from the skillet and let them rest.",
        "In the same skillet, add more olive oil if needed and sauté the spinach until wilted. Season with salt and pepper.",
        "Prepare the couscous according to package instructions.",
        "Serve the herbed pork chops on a bed of spinach and couscous.",
        "Enjoy your delicious Herbed Pork with Spinach Couscous!"
    ],
    "nutrition": {
        "calories": 580,
        "protein": 42,
        "fat": 24,
        "carbs": 50
    }
}
2025-07-06 15:51:43,412 - DEBUG - Matched ingredient 'pork chops' to 'Pork'
2025-07-06 15:51:43,412 - DEBUG - Matched ingredient 'spinach' to 'Spinach'
2025-07-06 15:51:43,413 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 15:51:43,413 - DEBUG - Matched ingredient 'thyme' to 'Thyme'
2025-07-06 15:51:43,414 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 15:51:43,414 - WARNING - No match found for ingredient: 'salt'
2025-07-06 15:51:43,415 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 15:51:43,415 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 15:51:43,436 - INFO - Recipe saved for user Michael's at work: Herbed Pork with Spinach Couscous
2025-07-06 15:51:59,176 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:51:59,178 - DEBUG - User loaded: Michael's at work
2025-07-06 15:52:16,930 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:52:16,932 - DEBUG - User loaded: Michael's at work
2025-07-06 15:54:08,579 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:54:08,583 - DEBUG - User loaded: Michael's at work
2025-07-06 15:54:12,329 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:54:12,332 - DEBUG - User loaded: Michael's at work
2025-07-06 15:54:12,333 - INFO - User logged out
2025-07-06 15:54:27,570 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '100159459859503273137', 'email': 'earthstonecraftshop@gmail.com', 'email_verified': True, 'at_hash': 'VPnJkLn35jGJ8KD_XZhDEQ', 'nonce': 'JpjKNfPeOmO3qfeJ03Ei', 'name': 'Michael', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJKLq-gARK3TCRipcR6YTs9q_U7ghimnqnKGM_wy1jmGttfeA=s96-c', 'given_name': 'Michael', 'iat': 1751813669, 'exp': 1751817269}
2025-07-06 15:54:27,573 - INFO - User Michael logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '4', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Michael'}
2025-07-06 15:54:27,586 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:54:27,588 - DEBUG - User loaded: Michael
2025-07-06 15:54:41,168 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 162
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqOIw.gIyQ5kakKfOKl7SvvF9lp9clL2U


2025-07-06 15:54:41,169 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Fish","Onion","Tomato","Oregano","Pasta"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 15:54:41,170 - DEBUG - Incoming /generate request.json: {'ingredients': ['Fish', 'Onion', 'Tomato', 'Oregano', 'Pasta'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 15:54:41,171 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:54:41,174 - DEBUG - User loaded: Michael
2025-07-06 15:54:41,175 - INFO - User Michael's credits and API calls reset for the new day.
2025-07-06 15:54:41,176 - DEBUG - User Michael - Credits: 2, API calls: 1 committed.
2025-07-06 15:54:41,179 - DEBUG - Rate limit applied: 3 per day for key 4
2025-07-06 15:54:41,180 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Fish, Onion, Tomato, Oregano, Pasta. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 15:54:50,408 - DEBUG - OpenAI raw response: {
    "title": "Mediterranean Fish Pasta Delight",
    "cuisine": "Mediterranean",
    "dietary": [],
    "ingredients": [
        {"name": "Fish Fillets", "quantity": "2 fillets"},
        {"name": "Onion", "quantity": "1 medium, sliced"},
        {"name": "Tomato", "quantity": "1 large, diced"},
        {"name": "Oregano", "quantity": "1 tsp"},
        {"name": "Pasta", "quantity": "6 oz"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Olive Oil", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "1. Cook pasta according to package instructions until al dente. Drain and set aside.",
        "2. Season fish fillets with salt, pepper, and oregano on both sides.",
        "3. In a pan, heat olive oil over medium heat. Add seasoned fish fillets and cook for 3-4 minutes per side until cooked through. Remove from pan and set aside.",
        "4. In the same pan, add sliced onions and cook until they are soft and translucent.",
        "5. Add diced tomatoes to the pan and cook for another 2-3 minutes.",
        "6. Add the cooked pasta to the pan and toss to combine with the onions and tomatoes. Season with additional salt, pepper, and oregano to taste.",
        "7. Flake the cooked fish fillets and gently fold them into the pasta mixture.",
        "8. Serve the Mediterranean Fish Pasta hot, garnished with fresh herbs if desired.",
        "Enjoy your Mediterranean Fish Pasta Delight!"
    ],
    "nutrition": {
        "calories": 480,
        "protein": 35,
        "fat": 12,
        "carbs": 55
    }
}
2025-07-06 15:54:50,410 - DEBUG - Matched ingredient 'fish fillets' to 'Fish'
2025-07-06 15:54:50,410 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 15:54:50,411 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 15:54:50,412 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 15:54:50,412 - DEBUG - Matched ingredient 'pasta' to 'Pasta'
2025-07-06 15:54:50,413 - WARNING - No match found for ingredient: 'salt'
2025-07-06 15:54:50,413 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 15:54:50,414 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 15:54:50,425 - INFO - Recipe saved for user Michael: Mediterranean Fish Pasta Delight
2025-07-06 15:54:57,378 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:54:57,380 - DEBUG - User loaded: Michael
2025-07-06 15:55:04,255 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:55:04,257 - DEBUG - User loaded: Michael
2025-07-06 15:56:41,571 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:56:41,575 - DEBUG - User loaded: Michael
2025-07-06 15:56:49,782 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 162
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqOqQ.42YuxsnfDYGD4FvJoVEYnKVLs-o


2025-07-06 15:56:49,783 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tempeh","Cauliflower","Paprika","Quinoa"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 15:56:49,784 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tempeh', 'Cauliflower', 'Paprika', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 15:56:49,785 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:56:49,787 - DEBUG - User loaded: Michael
2025-07-06 15:56:49,789 - INFO - User Michael's credits and API calls reset for the new day.
2025-07-06 15:56:49,791 - DEBUG - User Michael - Credits: 2, API calls: 1 committed.
2025-07-06 15:56:49,793 - DEBUG - Rate limit applied: 3 per day for key 4
2025-07-06 15:56:49,794 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Tempeh, Cauliflower, Paprika, Quinoa. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 15:56:56,490 - DEBUG - OpenAI raw response: {
    "title": "Smoky Tempeh and Cauliflower Quinoa Bowl",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Tempeh", "quantity": "8 oz, cubed"},
        {"name": "Cauliflower", "quantity": "2 cups, chopped"},
        {"name": "Paprika", "quantity": "1 tsp"},
        {"name": "Quinoa", "quantity": "1/2 cup, uncooked"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Garlic Powder", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "1/2 tsp"},
        {"name": "Black Pepper", "quantity": "1/4 tsp"},
        {"name": "Water", "quantity": "1 cup"},
        {"name": "Fresh Parsley", "quantity": "2 tbsp, chopped (for garnish)"}
    ],
    "instructions": [
        "1. In a bowl, mix the tempeh cubes with paprika, garlic powder, salt, and black pepper until coated.",
        "2. Heat olive oil in a pan over medium heat. Add the seasoned tempeh and cook for 5-7 minutes until browned.",
        "3. Add chopped cauliflower to the pan and sauté for another 5 minutes until slightly tender.",
        "4. Rinse quinoa under running water. In a saucepan, combine quinoa and water. Bring to a boil, then reduce heat, cover, and simmer for 15 minutes until quinoa is cooked and water is absorbed.",
        "5. Serve the cooked quinoa in bowls, top with the smoky tempeh and cauliflower mixture.",
        "6. Garnish with fresh parsley before serving.",
        "7. Enjoy your Smoky Tempeh and Cauliflower Quinoa Bowl!"
    ],
    "nutrition": {
        "calories": 430,
        "protein": 24,
        "fat": 18,
        "carbs": 45
    }
}
2025-07-06 15:56:56,492 - DEBUG - Matched ingredient 'tempeh' to 'Tempeh'
2025-07-06 15:56:56,493 - DEBUG - Matched ingredient 'cauliflower' to 'Cauliflower'
2025-07-06 15:56:56,494 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 15:56:56,494 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-06 15:56:56,495 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 15:56:56,496 - DEBUG - Matched ingredient 'garlic powder' to 'Garlic'
2025-07-06 15:56:56,496 - WARNING - No match found for ingredient: 'salt'
2025-07-06 15:56:56,497 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 15:56:56,498 - WARNING - No match found for ingredient: 'water'
2025-07-06 15:56:56,498 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-06 15:56:56,514 - INFO - Recipe saved for user Michael: Smoky Tempeh and Cauliflower Quinoa Bowl
2025-07-06 15:57:18,570 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:57:18,572 - DEBUG - User loaded: Michael
2025-07-06 15:58:00,160 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 183
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqO6Q.tZgToBOaaaxy_qQfOcx9PsiQwtg


2025-07-06 15:58:00,161 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Cauliflower","Paprika","Quinoa","Bell Pepper","Tomato","Tofu"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 15:58:00,162 - DEBUG - Incoming /generate request.json: {'ingredients': ['Cauliflower', 'Paprika', 'Quinoa', 'Bell Pepper', 'Tomato', 'Tofu'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 15:58:00,162 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:58:00,166 - DEBUG - User loaded: Michael
2025-07-06 15:58:00,167 - INFO - User Michael's credits and API calls reset for the new day.
2025-07-06 15:58:00,168 - DEBUG - User Michael - Credits: 2, API calls: 1 committed.
2025-07-06 15:58:00,171 - WARNING - Rate limit error from Flask-Limiter for 4: 429 Too Many Requests: 3 per 1 day. If user reached limit, this is expected.
2025-07-06 15:58:00,173 - INFO - Reverted limits for user Michael due to Flask-Limiter.
2025-07-06 15:58:21,497 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:58:21,499 - DEBUG - User loaded: Michael
2025-07-06 15:58:27,048 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:58:27,051 - DEBUG - User loaded: Michael
2025-07-06 15:58:39,566 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:58:39,568 - DEBUG - User loaded: Michael
2025-07-06 15:58:39,569 - INFO - User logged out
2025-07-06 15:58:48,035 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': '1yRlsIkUGYVXsrvFauzEGQ', 'nonce': 'IjehdLepXfVAii18mv7x', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751813930, 'exp': 1751817530}
2025-07-06 15:58:48,041 - INFO - User Detroit Project logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '1', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Detroit Project'}
2025-07-06 15:58:48,061 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:58:48,068 - DEBUG - User loaded: Detroit Project
2025-07-06 15:59:00,221 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 172
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOGrRF5n4be7WecAucHI466GQWEGGbOKuDsTRbD-q6Tv10zacTuZw-h3fJppEXMwzXsnDCQOtahP1DgiwIkqS0vVcdHkq9Xcigh8EEc2zi0TwXGqjVCLC5SKJwGYi5XACt6fimazknhrw0zWtwhFDaRxzhaxZBfJ7JAr-qWuWMebdr-h__vcPvjZjkfItKyv_pfXesHevzD6toyP776d0YZ5PAECL0a-.aGqPKA.M6tDiFuxXvtIGNGx1ijW-2k_3eM


2025-07-06 15:59:00,222 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Pork","Fish","Onion","Oregano","Ginger","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 15:59:00,223 - DEBUG - Incoming /generate request.json: {'ingredients': ['Pork', 'Fish', 'Onion', 'Oregano', 'Ginger', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 15:59:00,224 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 15:59:00,226 - DEBUG - User loaded: Detroit Project
2025-07-06 15:59:00,227 - INFO - User Detroit Project's credits and API calls reset for the new day.
2025-07-06 15:59:00,228 - DEBUG - User Detroit Project - Credits: 2, API calls: 1 committed.
2025-07-06 15:59:00,230 - WARNING - Rate limit error from Flask-Limiter for 1: 429 Too Many Requests: 3 per 1 day. If user reached limit, this is expected.
2025-07-06 15:59:00,231 - INFO - Reverted limits for user Detroit Project due to Flask-Limiter.
2025-07-06 16:03:49,169 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 16:03:49,177 - DEBUG - User loaded: Detroit Project
2025-07-06 16:04:00,644 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 149
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOGrRF5n4be7WecAucHI466GQWEGGbOKuDsTRbD-q6Tv10zacTuZw-h3fJppEXMwzXsnDCQOtahP1DgiwIkqS0vVcdHkq9Xcigh8EEc2zi0TwXGqjVCLC5SKJwGYi5XACt6fimazknhrw0zWtwhFDaRxzhaxZBfJ7JAr-qWuWMebdr-h__vcPvjZjkfItKyv_pfXesHevzD6toyP776d0YZ5PAECL0a-.aGqQVg.fbNXoxDlOI_y1-gRn4UlG_bp5wQ


2025-07-06 16:04:00,645 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Pork","Bell Pepper","Cumin"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:04:00,645 - DEBUG - Incoming /generate request.json: {'ingredients': ['Pork', 'Bell Pepper', 'Cumin'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:04:00,646 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 16:04:00,649 - DEBUG - User loaded: Detroit Project
2025-07-06 16:04:00,651 - INFO - User Detroit Project's credits and API calls reset for the new day.
2025-07-06 16:04:00,651 - DEBUG - User Detroit Project - Credits: 2, API calls: 1 committed.
2025-07-06 16:04:00,654 - WARNING - Rate limit error from Flask-Limiter for 1: 429 Too Many Requests: 3 per 1 day. If user reached limit, this is expected.
2025-07-06 16:04:00,654 - INFO - Reverted limits for user Detroit Project due to Flask-Limiter.
2025-07-06 16:05:00,065 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 149
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOGrRF5n4be7WecAucHI466GQWEGGbOKuDsTRbD-q6Tv10zacTuZw-h3fJppEXMwzXsnDCQOtahP1DgiwIkqS0vVcdHkq9Xcigh8EEc2zi0TwXGqjVCLC5SKJwGYi5XACt6fimazknhrw0zWtwhFDaRxzhaxZBfJ7JAr-qWuWMebdr-h__vcPvjZjkfItKyv_pfXesHevzD6toyP776d0YZ5PAECL0a-.aGqQYA.IYMYFCer8tCb6CMukrUCExceHqw


2025-07-06 16:05:00,067 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Pork","Bell Pepper","Cumin"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:05:00,068 - DEBUG - Incoming /generate request.json: {'ingredients': ['Pork', 'Bell Pepper', 'Cumin'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:05:00,068 - DEBUG - load_user: db instance: 2758976920880, app: 2758993410912, current_app: 2758875091280
2025-07-06 16:05:00,071 - DEBUG - User loaded: Detroit Project
2025-07-06 16:05:00,072 - INFO - User Detroit Project's credits and API calls reset for the new day.
2025-07-06 16:05:00,073 - DEBUG - User Detroit Project - Credits: 2, API calls: 1 committed.
2025-07-06 16:05:00,077 - WARNING - Rate limit error from Flask-Limiter for 1: 429 Too Many Requests: 3 per 1 day. If user reached limit, this is expected.
2025-07-06 16:05:00,080 - INFO - Reverted limits for user Detroit Project due to Flask-Limiter.
2025-07-06 16:11:54,668 - DEBUG - Initialized db with app, db instance: 1965646011696, app: 1965662501728
2025-07-06 16:11:54,672 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 16:12:01,543 - DEBUG - load_user: db instance: 1965646011696, app: 1965662501728, current_app: 1965544444240
2025-07-06 16:12:01,566 - DEBUG - User loaded: Detroit Project
2025-07-06 16:12:08,847 - DEBUG - load_user: db instance: 1965646011696, app: 1965662501728, current_app: 1965544444240
2025-07-06 16:12:08,851 - DEBUG - User loaded: Detroit Project
2025-07-06 16:12:15,086 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 163
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOGrRF5n4be7WecAucHI466GQWEGGbOKuDsTRbD-q6Tv10zacTuZw-h3fJppEXMwzXsnDCQOtahP1DgiwIkqS0vVcdHkq9Xcigh8EEc2zi0TwXGqjVCLC5SKJwGYi5XACt6fimazknhrw0zWtwhFDaRxzhaxZBfJ7JAr-qWuWMebdr-h__vcPvjZjkfItKyv_pfXesHevzD6toyP776d0YZ5PAECL0a-.aGqSSA.12AGZO8ZhB_ME98QOGjwBgFRww0


2025-07-06 16:12:15,087 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Bell Pepper","Turmeric","Quinoa"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:12:15,089 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Bell Pepper', 'Turmeric', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:12:15,090 - DEBUG - load_user: db instance: 1965646011696, app: 1965662501728, current_app: 1965544444240
2025-07-06 16:12:15,093 - DEBUG - User loaded: Detroit Project
2025-07-06 16:12:15,097 - INFO - User Detroit Project's credits and API calls reset for the new day.
2025-07-06 16:12:15,098 - DEBUG - User Detroit Project - Credits: 2, API calls: 1 committed.
2025-07-06 16:12:15,101 - DEBUG - Rate limit applied: 3 per day for key 1
2025-07-06 16:12:15,101 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Bell Pepper, Turmeric, Quinoa. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 16:12:24,705 - DEBUG - OpenAI raw response: {
    "title": "Turmeric Shrimp Quinoa Bowl",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "12 large, peeled and deveined"},
        {"name": "Bell Pepper", "quantity": "1 large, sliced"},
        {"name": "Turmeric", "quantity": "1 tsp"},
        {"name": "Quinoa", "quantity": "1 cup, cooked"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Salt", "quantity": "1/2 tsp"},
        {"name": "Black Pepper", "quantity": "1/4 tsp"},
        {"name": "Paprika", "quantity": "1/2 tsp"},
        {"name": "Cayenne Pepper", "quantity": "1/4 tsp"},
        {"name": "Lemon Juice", "quantity": "1 tbsp"},
        {"name": "Fresh Parsley", "quantity": "2 tbsp, chopped"}
    ],
    "instructions": [
        "In a bowl, combine shrimp with turmeric, salt, black pepper, paprika, and cayenne pepper. Toss to coat the shrimp evenly.",
        "Heat olive oil in a pan over medium heat. Add minced garlic and sauté for 1 minute until fragrant.",
        "Add seasoned shrimp to the pan and cook for 2-3 minutes per side until pink and cooked through.",
        "Push the shrimp to one side of the pan, add sliced bell pepper, and sauté for 2-3 minutes until slightly tender.",
        "In a serving bowl, layer cooked quinoa, shrimp, and bell peppers. Drizzle with lemon juice and sprinkle with fresh parsley.",
        "Serve the turmeric shrimp quinoa bowl warm and enjoy!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 30,
        "fat": 12,
        "carbs": 35
    }
}
2025-07-06 16:12:24,707 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 16:12:24,708 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 16:12:24,709 - DEBUG - Matched ingredient 'turmeric' to 'Turmeric'
2025-07-06 16:12:24,710 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-06 16:12:24,711 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 16:12:24,712 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 16:12:24,712 - WARNING - No match found for ingredient: 'salt'
2025-07-06 16:12:24,713 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 16:12:24,714 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 16:12:24,714 - WARNING - No match found for ingredient: 'cayenne pepper'
2025-07-06 16:12:24,715 - WARNING - No match found for ingredient: 'lemon juice'
2025-07-06 16:12:24,716 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-06 16:12:24,737 - INFO - Recipe saved for user Detroit Project: Turmeric Shrimp Quinoa Bowl
2025-07-06 16:12:36,370 - DEBUG - load_user: db instance: 1965646011696, app: 1965662501728, current_app: 1965544444240
2025-07-06 16:12:36,373 - DEBUG - User loaded: Detroit Project
2025-07-06 16:12:43,442 - DEBUG - load_user: db instance: 1965646011696, app: 1965662501728, current_app: 1965544444240
2025-07-06 16:12:43,444 - DEBUG - User loaded: Detroit Project
2025-07-06 16:12:56,616 - DEBUG - load_user: db instance: 1965646011696, app: 1965662501728, current_app: 1965544444240
2025-07-06 16:12:56,618 - DEBUG - User loaded: Detroit Project
2025-07-06 16:20:54,156 - DEBUG - Initialized db with app, db instance: 2142851882288, app: 2142868372320
2025-07-06 16:20:54,160 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 16:21:04,256 - DEBUG - load_user: db instance: 2142851882288, app: 2142868372320, current_app: 2142750642512
2025-07-06 16:21:04,278 - DEBUG - User loaded: Detroit Project
2025-07-06 16:21:10,841 - DEBUG - load_user: db instance: 2142851882288, app: 2142868372320, current_app: 2142750642512
2025-07-06 16:21:10,844 - DEBUG - User loaded: Detroit Project
2025-07-06 16:21:10,845 - INFO - User logged out
2025-07-06 16:21:23,133 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '103348751947873777032', 'email': 'mangiftuk@gmail.com', 'email_verified': True, 'at_hash': 'gSu9anq4m9rUYnbnXpLBag', 'nonce': 'zBMIDQLaZPz1w9HKLAk1', 'name': 'Manvscoin', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJxgbjW5AcPCZ6AvpGS5vPHw7zcFYj7J4dVTYy3ztSDaCcah9A=s96-c', 'given_name': 'Manvscoin', 'iat': 1751815284, 'exp': 1751818884}
2025-07-06 16:21:23,141 - INFO - User Manvscoin logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '3', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Manvscoin'}
2025-07-06 16:21:23,154 - DEBUG - load_user: db instance: 2142851882288, app: 2142868372320, current_app: 2142750642512
2025-07-06 16:21:23,156 - DEBUG - User loaded: Manvscoin
2025-07-06 16:21:39,269 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 162
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqUcw.TYlt9d8s31YmAN6zBHUjJtByYQA


2025-07-06 16:21:39,270 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Zucchini","Turmeric","Couscous"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:21:39,271 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Zucchini', 'Turmeric', 'Couscous'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:21:39,271 - DEBUG - load_user: db instance: 2142851882288, app: 2142868372320, current_app: 2142750642512
2025-07-06 16:21:39,273 - DEBUG - User loaded: Manvscoin
2025-07-06 16:21:39,277 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 16:21:39,281 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 16:21:39,283 - DEBUG - Rate limit applied: 3 per day for key 3
2025-07-06 16:21:39,284 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Zucchini, Turmeric, Couscous. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 16:21:44,889 - DEBUG - OpenAI raw response: {
    "title": "Turmeric Shrimp with Zucchini Couscous",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "10 large, peeled and deveined"},
        {"name": "Zucchini", "quantity": "1 medium, diced"},
        {"name": "Turmeric", "quantity": "1 tsp"},
        {"name": "Couscous", "quantity": "1 cup"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Vegetable Broth", "quantity": "1 1/2 cups"},
        {"name": "Lemon", "quantity": "1, juiced"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Paprika", "quantity": "1/2 tsp"},
        {"name": "Cilantro", "quantity": "for garnish"}
    ],
    "instructions": [
        "In a bowl, season the shrimp with turmeric, salt, black pepper, and paprika. Set aside.",
        "In a pan, heat 1 tbsp of olive oil over medium heat. Add the shrimp and cook for 2-3 minutes per side until pink and cooked through. Remove from pan and set aside.",
        "In the same pan, add the remaining olive oil. Saute the garlic until fragrant.",
        "Add the diced zucchini to the pan and cook for 3-4 minutes until slightly tender.",
        "Stir in the couscous and toast for 1-2 minutes.",
        "Pour in the vegetable broth, lemon juice, and season with salt and pepper. Bring to a simmer, then cover and cook for 5 minutes or until the liquid is absorbed.",
        "Fluff the couscous with a fork and serve topped with the turmeric shrimp.",
        "Garnish with fresh cilantro and enjoy!"
    ],
    "nutrition": {
        "calories": 410,
        "protein": 30,
        "fat": 10,
        "carbs": 50
    }
}
2025-07-06 16:21:44,890 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 16:21:44,891 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 16:21:44,892 - DEBUG - Matched ingredient 'turmeric' to 'Turmeric'
2025-07-06 16:21:44,892 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 16:21:44,893 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 16:21:44,893 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 16:21:44,894 - WARNING - No match found for ingredient: 'vegetable broth'
2025-07-06 16:21:44,895 - WARNING - No match found for ingredient: 'lemon'
2025-07-06 16:21:44,895 - WARNING - No match found for ingredient: 'salt'
2025-07-06 16:21:44,896 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 16:21:44,896 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 16:21:44,897 - WARNING - No match found for ingredient: 'cilantro'
2025-07-06 16:21:44,918 - INFO - Recipe saved for user Manvscoin: Turmeric Shrimp with Zucchini Couscous
2025-07-06 16:21:48,616 - DEBUG - load_user: db instance: 2142851882288, app: 2142868372320, current_app: 2142750642512
2025-07-06 16:21:48,619 - DEBUG - User loaded: Manvscoin
2025-07-06 16:21:53,635 - DEBUG - load_user: db instance: 2142851882288, app: 2142868372320, current_app: 2142750642512
2025-07-06 16:21:53,637 - DEBUG - User loaded: Manvscoin
2025-07-06 16:21:57,925 - DEBUG - load_user: db instance: 2142851882288, app: 2142868372320, current_app: 2142750642512
2025-07-06 16:21:57,928 - DEBUG - User loaded: Manvscoin
2025-07-06 16:23:42,802 - DEBUG - Initialized db with app, db instance: 2145558650160, app: 2145575074656
2025-07-06 16:23:42,808 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 16:23:49,263 - DEBUG - Initialized db with app, db instance: 1979521424688, app: 1979537914720
2025-07-06 16:23:49,267 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 16:23:50,740 - DEBUG - load_user: db instance: 1979521424688, app: 1979537914720, current_app: 1979419726304
2025-07-06 16:23:50,769 - DEBUG - User loaded: Manvscoin
2025-07-06 16:23:56,725 - DEBUG - load_user: db instance: 1979521424688, app: 1979537914720, current_app: 1979419726304
2025-07-06 16:23:56,730 - DEBUG - User loaded: Manvscoin
2025-07-06 16:24:02,741 - DEBUG - load_user: db instance: 1979521424688, app: 1979537914720, current_app: 1979419726304
2025-07-06 16:24:02,743 - DEBUG - User loaded: Manvscoin
2025-07-06 16:29:45,477 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 179
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqVEg.e8NUUJFRVoz_co_MmA543mh7iNI


2025-07-06 16:29:45,478 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Bell Pepper","Tomato","Spinach","Carrot","Onion"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:29:45,479 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Bell Pepper', 'Tomato', 'Spinach', 'Carrot', 'Onion'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:29:45,480 - DEBUG - load_user: db instance: 1979521424688, app: 1979537914720, current_app: 1979419726304
2025-07-06 16:29:45,483 - DEBUG - User loaded: Manvscoin
2025-07-06 16:29:45,487 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 16:29:45,488 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 16:29:45,490 - DEBUG - Rate limit applied: 3 per day for key 3
2025-07-06 16:29:45,491 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Bell Pepper, Tomato, Spinach, Carrot, Onion. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 16:29:53,630 - DEBUG - OpenAI raw response: {
    "title": "Spicy Shrimp and Vegetable Stir-Fry",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "10 large, peeled and deveined"},
        {"name": "Bell Pepper", "quantity": "1, sliced"},
        {"name": "Tomato", "quantity": "1, diced"},
        {"name": "Spinach", "quantity": "1 cup, chopped"},
        {"name": "Carrot", "quantity": "1, julienned"},
        {"name": "Onion", "quantity": "1, sliced"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Ginger", "quantity": "1 tsp, minced"},
        {"name": "Soy Sauce", "quantity": "2 tbsp"},
        {"name": "Sriracha Sauce", "quantity": "1 tbsp"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Cooked Rice", "quantity": "1 cup, for serving"}
    ],
    "instructions": [
        "In a bowl, mix the shrimp with soy sauce, sriracha sauce, garlic, ginger, salt, and black pepper. Let it marinate for 10 minutes.",
        "In a large pan or wok, heat vegetable oil over medium-high heat. Add the marinated shrimp and cook for 2-3 minutes until pink and cooked through. Remove shrimp from the pan and set aside.",
        "In the same pan, add a bit more oil if needed. Saute onion, bell pepper, carrot, and tomato for 3-4 minutes until slightly tender.",
        "Add the chopped spinach to the pan and cook for another 1-2 minutes until wilted.",
        "Return the cooked shrimp to the pan and toss everything together for a minute to combine and heat through.",
        "Serve the spicy shrimp and vegetable stir-fry over cooked rice.",
        "Enjoy your flavorful and spicy dish!"
    ],
    "nutrition": {
        "calories": 320,
        "protein": 25,
        "fat": 10,
        "carbs": 30
    }
}
2025-07-06 16:29:53,631 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 16:29:53,631 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 16:29:53,632 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 16:29:53,633 - DEBUG - Matched ingredient 'spinach' to 'Spinach'
2025-07-06 16:29:53,633 - DEBUG - Matched ingredient 'carrot' to 'Carrot'
2025-07-06 16:29:53,633 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 16:29:53,635 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 16:29:53,637 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 16:29:53,638 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 16:29:53,639 - WARNING - No match found for ingredient: 'sriracha sauce'
2025-07-06 16:29:53,640 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 16:29:53,640 - WARNING - No match found for ingredient: 'salt'
2025-07-06 16:29:53,641 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 16:29:53,641 - DEBUG - Matched ingredient 'cooked rice' to 'Rice'
2025-07-06 16:29:53,658 - INFO - Recipe saved for user Manvscoin: Spicy Shrimp and Vegetable Stir-Fry
2025-07-06 16:30:20,753 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 206
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqWcQ.8cQAXU35L3h2f3YLxwQOxL1Y7i0


2025-07-06 16:30:20,754 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Bell Pepper","Tomato","Spinach","Carrot","Onion","Zucchini","Cumin","Pasta"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:30:20,755 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Bell Pepper', 'Tomato', 'Spinach', 'Carrot', 'Onion', 'Zucchini', 'Cumin', 'Pasta'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:30:20,756 - DEBUG - load_user: db instance: 1979521424688, app: 1979537914720, current_app: 1979419726304
2025-07-06 16:30:20,759 - DEBUG - User loaded: Manvscoin
2025-07-06 16:30:20,760 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 16:30:20,762 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 16:30:20,764 - DEBUG - Rate limit applied: 3 per day for key 3
2025-07-06 16:30:20,765 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Bell Pepper, Tomato, Spinach, Carrot, Onion, Zucchini, Cumin, Pasta. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 16:30:28,619 - DEBUG - OpenAI raw response: {
    "title": "Spicy Shrimp and Vegetable Pasta",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "10 large, peeled and deveined"},
        {"name": "Bell Pepper", "quantity": "1, sliced"},
        {"name": "Tomato", "quantity": "1, diced"},
        {"name": "Spinach", "quantity": "1 cup, chopped"},
        {"name": "Carrot", "quantity": "1, julienned"},
        {"name": "Onion", "quantity": "1, sliced"},
        {"name": "Zucchini", "quantity": "1, sliced"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Pasta", "quantity": "8 oz, cooked"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Red Pepper Flakes", "quantity": "1/2 tsp"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Lemon Juice", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "1. In a large pan, heat olive oil over medium heat.",
        "2. Add garlic and onion, sauté until fragrant.",
        "3. Add bell pepper, tomato, carrot, and zucchini. Cook until vegetables are slightly tender.",
        "4. Season with cumin, salt, black pepper, and red pepper flakes.",
        "5. Add shrimp to the pan and cook until they turn pink and opaque.",
        "6. Toss in the cooked pasta and spinach, mix well to combine.",
        "7. Drizzle lemon juice over the pasta and vegetables.",
        "8. Adjust seasoning if needed and serve hot.",
        "9. Enjoy your Spicy Shrimp and Vegetable Pasta!"
    ],
    "nutrition": {
        "calories": 450,
        "protein": 30,
        "fat": 10,
        "carbs": 60
    }
}
2025-07-06 16:30:28,620 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 16:30:28,620 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 16:30:28,621 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 16:30:28,622 - DEBUG - Matched ingredient 'spinach' to 'Spinach'
2025-07-06 16:30:28,623 - DEBUG - Matched ingredient 'carrot' to 'Carrot'
2025-07-06 16:30:28,623 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 16:30:28,624 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 16:30:28,625 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 16:30:28,626 - DEBUG - Matched ingredient 'pasta' to 'Pasta'
2025-07-06 16:30:28,626 - WARNING - No match found for ingredient: 'salt'
2025-07-06 16:30:28,627 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 16:30:28,628 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 16:30:28,628 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 16:30:28,629 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 16:30:28,629 - WARNING - No match found for ingredient: 'lemon juice'
2025-07-06 16:30:28,642 - INFO - Recipe saved for user Manvscoin: Spicy Shrimp and Vegetable Pasta
2025-07-06 16:30:41,196 - DEBUG - load_user: db instance: 1979521424688, app: 1979537914720, current_app: 1979419726304
2025-07-06 16:30:41,198 - DEBUG - User loaded: Manvscoin
2025-07-06 16:30:49,670 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 160
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqWoQ.aZflNWIoxy0H_9uFNir8kstK7Bc


2025-07-06 16:30:49,671 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tofu","Cauliflower","Cumin","Couscous"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:30:49,671 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tofu', 'Cauliflower', 'Cumin', 'Couscous'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:30:49,672 - DEBUG - load_user: db instance: 1979521424688, app: 1979537914720, current_app: 1979419726304
2025-07-06 16:30:49,675 - DEBUG - User loaded: Manvscoin
2025-07-06 16:30:49,676 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 16:30:49,677 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 16:30:49,679 - DEBUG - Rate limit applied: 3 per day for key 3
2025-07-06 16:30:49,680 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Tofu, Cauliflower, Cumin, Couscous. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 16:30:57,423 - DEBUG - OpenAI raw response: {
    "title": "Spiced Tofu and Cauliflower Couscous Bowl",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Tofu", "quantity": "8 oz, cubed"},
        {"name": "Cauliflower", "quantity": "2 cups, chopped into florets"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Couscous", "quantity": "1 cup"},
        {"name": "Vegetable Broth", "quantity": "1 1/2 cups"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Paprika", "quantity": "1/2 tsp"},
        {"name": "Garlic Powder", "quantity": "1/2 tsp"},
        {"name": "Red Pepper Flakes", "quantity": "1/4 tsp"},
        {"name": "Fresh Parsley", "quantity": "for garnish"}
    ],
    "instructions": [
        "1. Preheat the oven to 400°F (200°C).",
        "2. In a bowl, mix the cubed tofu with cumin, paprika, garlic powder, salt, black pepper, and 1 tbsp of olive oil. Toss well to coat the tofu evenly.",
        "3. Place the seasoned tofu on a baking sheet lined with parchment paper. Bake for 20-25 minutes until the tofu is golden and slightly crispy.",
        "4. In a separate bowl, toss the cauliflower florets with 1 tbsp of olive oil, salt, black pepper, and red pepper flakes. Spread them on another baking sheet lined with parchment paper. Roast in the oven for 20 minutes until tender and slightly charred.",
        "5. In a saucepan, bring the vegetable broth to a boil. Add the couscous, cover, and remove from heat. Let it sit for 5 minutes until the couscous absorbs the broth.",
        "6. Fluff the couscous with a fork and divide it into bowls. Top with the spiced tofu and roasted cauliflower.",
        "7. Garnish with fresh parsley and enjoy your spiced tofu and cauliflower couscous bowl!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 18,
        "fat": 14,
        "carbs": 47
    }
}
2025-07-06 16:30:57,425 - DEBUG - Matched ingredient 'tofu' to 'Tofu'
2025-07-06 16:30:57,426 - DEBUG - Matched ingredient 'cauliflower' to 'Cauliflower'
2025-07-06 16:30:57,428 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 16:30:57,428 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 16:30:57,429 - WARNING - No match found for ingredient: 'vegetable broth'
2025-07-06 16:30:57,429 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 16:30:57,430 - WARNING - No match found for ingredient: 'salt'
2025-07-06 16:30:57,430 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 16:30:57,431 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 16:30:57,431 - DEBUG - Matched ingredient 'garlic powder' to 'Garlic'
2025-07-06 16:30:57,431 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 16:30:57,431 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-06 16:30:57,444 - INFO - Recipe saved for user Manvscoin: Spiced Tofu and Cauliflower Couscous Bowl
2025-07-06 16:31:16,375 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 180
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqWsQ.ynfynIAm8VzBOgGctoZe8ovnUZ0


2025-07-06 16:31:16,376 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tofu","Cauliflower","Cumin","Couscous","Quinoa","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:31:16,376 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tofu', 'Cauliflower', 'Cumin', 'Couscous', 'Quinoa', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:31:16,377 - DEBUG - load_user: db instance: 1979521424688, app: 1979537914720, current_app: 1979419726304
2025-07-06 16:31:16,379 - DEBUG - User loaded: Manvscoin
2025-07-06 16:31:16,381 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 16:31:16,381 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 16:31:16,389 - WARNING - Rate limit error from Flask-Limiter for 3: 429 Too Many Requests: 3 per 1 day. If user reached limit, this is expected.
2025-07-06 16:31:16,391 - INFO - Reverted limits for user Manvscoin due to Flask-Limiter.
2025-07-06 16:32:25,797 - DEBUG - load_user: db instance: 1979521424688, app: 1979537914720, current_app: 1979419726304
2025-07-06 16:32:25,802 - DEBUG - User loaded: Manvscoin
2025-07-06 16:32:45,798 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 183
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqXCg.tErRj2N6YYzcpL184xJi4fB7KWM


2025-07-06 16:32:45,799 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tofu","Tempeh","Eggs","Broccoli","Cauliflower","Chili Flakes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:32:45,800 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tofu', 'Tempeh', 'Eggs', 'Broccoli', 'Cauliflower', 'Chili Flakes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:32:45,800 - DEBUG - load_user: db instance: 1979521424688, app: 1979537914720, current_app: 1979419726304
2025-07-06 16:32:45,804 - DEBUG - User loaded: Manvscoin
2025-07-06 16:32:45,805 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 16:32:45,807 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 16:32:45,809 - WARNING - Rate limit error from Flask-Limiter for 3: 429 Too Many Requests: 3 per 1 day. If user reached limit, this is expected.
2025-07-06 16:32:45,810 - INFO - Reverted limits for user Manvscoin due to Flask-Limiter.
2025-07-06 16:35:12,028 - DEBUG - Initialized db with app, db instance: 2745462580496, app: 2745480315968, current_app: 2745362025968
2025-07-06 16:35:12,031 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 16:35:20,190 - DEBUG - Initialized db with app, db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:35:20,194 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 16:35:20,736 - DEBUG - load_user: db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:35:20,746 - DEBUG - User loaded: Manvscoin
2025-07-06 16:35:27,809 - DEBUG - load_user: db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:35:27,813 - DEBUG - User loaded: Manvscoin
2025-07-06 16:35:38,144 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 160
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqXvw.8XDF8P5f2ZcY7byvi7wsfMqlVaA


2025-07-06 16:35:38,147 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Thyme","Oregano","Turmeric","Couscous"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:35:38,147 - DEBUG - Incoming /generate request.json: {'ingredients': ['Thyme', 'Oregano', 'Turmeric', 'Couscous'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:35:38,148 - DEBUG - load_user: db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:35:38,151 - DEBUG - User loaded: Manvscoin
2025-07-06 16:35:38,155 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 16:35:38,156 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 16:35:38,157 - WARNING - Rate limit error from Flask-Limiter for 3: name 'limiter' is not defined. If user reached limit, this is expected.
2025-07-06 16:35:38,158 - INFO - Reverted limits for user Manvscoin due to Flask-Limiter.
2025-07-06 16:37:26,646 - DEBUG - load_user: db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:37:26,649 - DEBUG - User loaded: Manvscoin
2025-07-06 16:37:26,652 - INFO - User logged out
2025-07-06 16:37:40,883 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '109658376252870367793', 'email': 'entcorpinternational@gmail.com', 'email_verified': True, 'at_hash': 'HO_NJEydrT40iW9gtLeSiA', 'nonce': 'yb0LCXJerVlSErGaebai', 'name': 'Michael Kennedy', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocIZTnQeuaaryZ5GB3tPJey3jrAcWxKd_pPlLCXOXgz5IuAjYw=s96-c', 'given_name': 'Michael', 'family_name': 'Kennedy', 'iat': 1751816262, 'exp': 1751819862}
2025-07-06 16:37:40,896 - INFO - User Michael Kennedy logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '5', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Michael Kennedy'}
2025-07-06 16:37:40,912 - DEBUG - load_user: db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:37:40,915 - DEBUG - User loaded: Michael Kennedy
2025-07-06 16:37:56,287 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 171
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGqYRQ.RO2BF7CjqKt5ghcHQPQ_YX02jSg


2025-07-06 16:37:56,288 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Pork","Tomato","Zucchini","Chili Flakes","Quinoa"],"dietary":[],"mood":"fun","spice_level":5,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:37:56,289 - DEBUG - Incoming /generate request.json: {'ingredients': ['Pork', 'Tomato', 'Zucchini', 'Chili Flakes', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 5, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:37:56,290 - DEBUG - load_user: db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:37:56,292 - DEBUG - User loaded: Michael Kennedy
2025-07-06 16:37:56,293 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 16:37:56,294 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 16:37:56,297 - WARNING - Rate limit error from Flask-Limiter for 5: name 'limiter' is not defined. If user reached limit, this is expected.
2025-07-06 16:37:56,298 - INFO - Reverted limits for user Michael Kennedy due to Flask-Limiter.
2025-07-06 16:38:09,265 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 171
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGqYVA.S_VXbNWbSRy0jB0IUcdtzWPnic0


2025-07-06 16:38:09,266 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Pork","Tomato","Zucchini","Chili Flakes","Quinoa"],"dietary":[],"mood":"fun","spice_level":5,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:38:09,267 - DEBUG - Incoming /generate request.json: {'ingredients': ['Pork', 'Tomato', 'Zucchini', 'Chili Flakes', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 5, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:38:09,267 - DEBUG - load_user: db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:38:09,269 - DEBUG - User loaded: Michael Kennedy
2025-07-06 16:38:09,270 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-06 16:38:09,270 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-06 16:38:09,271 - WARNING - Rate limit error from Flask-Limiter for 5: name 'limiter' is not defined. If user reached limit, this is expected.
2025-07-06 16:38:09,272 - INFO - Reverted limits for user Michael Kennedy due to Flask-Limiter.
2025-07-06 16:38:13,445 - DEBUG - load_user: db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:38:13,448 - DEBUG - User loaded: Michael Kennedy
2025-07-06 16:38:13,449 - INFO - User logged out
2025-07-06 16:38:36,936 - INFO - New user registered: k3ndo
2025-07-06 16:38:59,409 - INFO - User k3ndo logged in, session: {'_fresh': True, '_permanent': True, '_user_id': '6', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'k3ndo'}
2025-07-06 16:38:59,419 - DEBUG - load_user: db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:38:59,424 - DEBUG - User loaded: k3ndo
2025-07-06 16:39:17,808 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 164
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zkkOwjAQRNG7eM3Cs7u5TOS4qwEBDsqwQtydIATrXyW9pxl0xnI2x3XecDDDRczRNO-dMJA41KI-UeOIACeqLC1Vx0WTr1ZzKyLwQRzZOLZMBMepNkItLlAqngRgLlYCK3h_KprNSuKtDSNZ3yIUNZDGMVvEkl0ks0MemO-1o69_2rZg_vryPrhNpxNkuPRf_-Re79j7NXSZzOsNT3hC0A.aGqYkw.TobzqR0nLca6wHhyXbYVOMZhBnI


2025-07-06 16:39:17,809 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Beef","Cauliflower","Chili Flakes","Cumin"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:39:17,809 - DEBUG - Incoming /generate request.json: {'ingredients': ['Beef', 'Cauliflower', 'Chili Flakes', 'Cumin'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:39:17,810 - DEBUG - load_user: db instance: 2124898657552, app: 2124916393024, current_app: 2124797513152
2025-07-06 16:39:17,812 - DEBUG - User loaded: k3ndo
2025-07-06 16:39:17,814 - INFO - User k3ndo's credits and API calls reset for the new day.
2025-07-06 16:39:17,815 - DEBUG - User k3ndo - Credits: 2, API calls: 1 committed.
2025-07-06 16:39:17,816 - WARNING - Rate limit error from Flask-Limiter for 6: name 'limiter' is not defined. If user reached limit, this is expected.
2025-07-06 16:39:17,817 - INFO - Reverted limits for user k3ndo due to Flask-Limiter.
2025-07-06 16:41:21,731 - DEBUG - Initialized db with app, db instance: 2563673580816, app: 2563691316288, current_app: 2563573288432
2025-07-06 16:41:21,734 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 16:41:32,189 - DEBUG - load_user: db instance: 2563673580816, app: 2563691316288, current_app: 2563573288432
2025-07-06 16:41:32,261 - DEBUG - User loaded: k3ndo
2025-07-06 16:41:43,466 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 151
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zkkOwjAQRNG7eM3Cs7u5TOS4qwEBDsqwQtydIATrXyW9pxl0xnI2x3XecDDDRczRNO-dMJA41KI-UeOIACeqLC1Vx0WTr1ZzKyLwQRzZOLZMBMepNkItLlAqngRgLlYCK3h_KprNSuKtDSNZ3yIUNZDGMVvEkl0ks0MemO-1o69_2rZg_vryPrhNpxNkuPRf_-Re79j7NXSZzOsNT3hC0A.aGqZLA.qOmB7lRblZ_hoH4lIVwG6KcnVyc


2025-07-06 16:41:43,468 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Cumin","Tomato","Pork","Lamb"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 16:41:43,469 - DEBUG - Incoming /generate request.json: {'ingredients': ['Cumin', 'Tomato', 'Pork', 'Lamb'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 16:41:43,471 - DEBUG - load_user: db instance: 2563673580816, app: 2563691316288, current_app: 2563573288432
2025-07-06 16:41:43,476 - DEBUG - User loaded: k3ndo
2025-07-06 16:41:43,555 - INFO - User k3ndo's credits and API calls reset for the new day.
2025-07-06 16:41:43,555 - DEBUG - User k3ndo - Credits: 2, API calls: 1 committed.
2025-07-06 16:41:43,555 - WARNING - Rate limit error from Flask-Limiter for 6: name 'limiter' is not defined. If user reached limit, this is expected.
2025-07-06 16:41:43,556 - INFO - Reverted limits for user k3ndo due to Flask-Limiter.
2025-07-06 17:04:23,863 - DEBUG - Initialized db with app, db instance: 2658182063376, app: 2658199798848, current_app: 2658081312576
2025-07-06 17:04:23,868 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:05:03,304 - DEBUG - Initialized db with app, db instance: 3060143580432, app: 3060161315904, current_app: 3060042960416
2025-07-06 17:05:03,306 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:05:14,486 - DEBUG - load_user: db instance: 3060143580432, app: 3060161315904, current_app: 3060042960416
2025-07-06 17:05:14,512 - DEBUG - User loaded: k3ndo
2025-07-06 17:05:27,244 - DEBUG - load_user: db instance: 3060143580432, app: 3060161315904, current_app: 3060042960416
2025-07-06 17:05:27,247 - DEBUG - User loaded: k3ndo
2025-07-06 17:05:27,248 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 175
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zkkOwjAQRNG7eM3Cs7u5TOS4qwEBDsqwQtydIATrXyW9pxl0xnI2x3XecDDDRczRNO-dMJA41KI-UeOIACeqLC1Vx0WTr1ZzKyLwQRzZOLZMBMepNkItLlAqngRgLlYCK3h_KprNSuKtDSNZ3yIUNZDGMVvEkl0ks0MemO-1o69_2rZg_vryPrhNpxNkuPRf_-Re79j7NXSZzOsNT3hC0A.aGqeug.tPd4z50lGyw2Ww0_03pMQ0anQ8I


2025-07-06 17:05:27,249 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tofu","Shrimp","Zucchini","Tomato","Cumin","Couscous"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:05:27,250 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tofu', 'Shrimp', 'Zucchini', 'Tomato', 'Cumin', 'Couscous'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:05:27,250 - DEBUG - load_user: db instance: 3060143580432, app: 3060161315904, current_app: 3060042960416
2025-07-06 17:05:27,252 - DEBUG - User loaded: k3ndo
2025-07-06 17:05:27,327 - INFO - User k3ndo's credits and API calls reset for the new day.
2025-07-06 17:05:27,328 - DEBUG - User k3ndo - Credits: 2, API calls: 1 committed.
2025-07-06 17:05:27,330 - WARNING - Rate limit error from Flask-Limiter for 6: name 'limiter' is not defined. If user reached limit, this is expected.
2025-07-06 17:05:27,331 - INFO - Reverted limits for user k3ndo due to Flask-Limiter.
2025-07-06 17:08:47,748 - DEBUG - Initialized db with app, db instance: 2054678717712, app: 2054696387648, current_app: 2054577945904
2025-07-06 17:08:47,751 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:08:51,856 - DEBUG - Initialized db with app, db instance: 1246931658000, app: 1246949409856, current_app: 1246831098800
2025-07-06 17:08:51,861 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:09:28,556 - DEBUG - load_user: db instance: 1246931658000, app: 1246949409856, current_app: 1246831098800
2025-07-06 17:09:28,587 - DEBUG - User loaded: k3ndo
2025-07-06 17:09:32,049 - DEBUG - load_user: db instance: 1246931658000, app: 1246949409856, current_app: 1246831098800
2025-07-06 17:09:32,054 - DEBUG - User loaded: k3ndo
2025-07-06 17:09:32,055 - INFO - User logged out
2025-07-06 17:09:47,111 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': '3PinLcbKKi6X1bnvHGwt-g', 'nonce': 'tr9ryoEgwsLnmCmpnD29', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751818188, 'exp': 1751821788}
2025-07-06 17:09:47,119 - INFO - User Detroit Project logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '1', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Detroit Project'}
2025-07-06 17:09:47,132 - DEBUG - load_user: db instance: 1246931658000, app: 1246949409856, current_app: 1246831098800
2025-07-06 17:09:47,134 - DEBUG - User loaded: Detroit Project
2025-07-06 17:10:08,232 - DEBUG - load_user: db instance: 1246931658000, app: 1246949409856, current_app: 1246831098800
2025-07-06 17:10:08,235 - DEBUG - User loaded: Detroit Project
2025-07-06 17:10:08,236 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 157
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOGrRF5n4be7WecAucHI466GQWEGGbOKuDsTRbD-q6Tv10zacTuZw-h3fJppEXMwzXsnDCQOtahP1DgiwIkqS0vVcdHkq9Xcigh8EEc2zi0TwXGqjVCLC5SKJwGYi5XACt6fimazknhrw0zWtwhFDaRxzhaxZBfJ7JAr-qWuWMebdr-h__vcPvjZjkfItKyv_pfXesHevzD6toyP776d0YZ5PAECL0a-.aGqfyw.kqdQdnqiUF3hGzp9QfKKRQXnieA


2025-07-06 17:10:08,237 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Eggs","Zucchini","Thyme","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:10:08,237 - DEBUG - Incoming /generate request.json: {'ingredients': ['Eggs', 'Zucchini', 'Thyme', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:10:08,238 - DEBUG - load_user: db instance: 1246931658000, app: 1246949409856, current_app: 1246831098800
2025-07-06 17:10:08,240 - DEBUG - User loaded: Detroit Project
2025-07-06 17:13:13,861 - DEBUG - Initialized db with app, db instance: 2661245265168, app: 2661263017024, current_app: 2661145558368
2025-07-06 17:13:13,864 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:13:17,811 - DEBUG - load_user: db instance: 2661245265168, app: 2661263017024, current_app: 2661145558368
2025-07-06 17:13:17,851 - DEBUG - User loaded: Detroit Project
2025-07-06 17:13:27,513 - DEBUG - load_user: db instance: 2661245265168, app: 2661263017024, current_app: 2661145558368
2025-07-06 17:13:27,516 - DEBUG - User loaded: Detroit Project
2025-07-06 17:13:27,517 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 171
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOGrRF5n4be7WecAucHI466GQWEGGbOKuDsTRbD-q6Tv10zacTuZw-h3fJppEXMwzXsnDCQOtahP1DgiwIkqS0vVcdHkq9Xcigh8EEc2zi0TwXGqjVCLC5SKJwGYi5XACt6fimazknhrw0zWtwhFDaRxzhaxZBfJ7JAr-qWuWMebdr-h__vcPvjZjkfItKyv_pfXesHevzD6toyP776d0YZ5PAECL0a-.aGqgng.stYZy0w-5MLb-msXAKp03KAknTc


2025-07-06 17:13:27,518 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Tomato","Oregano","Chili Flakes","Bread"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:13:27,519 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Tomato', 'Oregano', 'Chili Flakes', 'Bread'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:13:27,520 - DEBUG - load_user: db instance: 2661245265168, app: 2661263017024, current_app: 2661145558368
2025-07-06 17:13:27,523 - DEBUG - User loaded: Detroit Project
2025-07-06 17:14:42,635 - DEBUG - Initialized db with app, db instance: 2361963390224, app: 2361981125696, current_app: 2361863404944
2025-07-06 17:14:42,640 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:14:46,978 - DEBUG - Initialized db with app, db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:14:46,983 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:14:51,318 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:14:51,333 - DEBUG - User loaded: Detroit Project
2025-07-06 17:15:00,162 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:00,166 - DEBUG - User loaded: Detroit Project
2025-07-06 17:15:00,167 - INFO - User logged out
2025-07-06 17:15:10,469 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '100159459859503273137', 'email': 'earthstonecraftshop@gmail.com', 'email_verified': True, 'at_hash': 'ZutGm03m8FN4qqlZHAxP5g', 'nonce': 'vYCctRAXjXrW84tasC4r', 'name': 'Michael', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJKLq-gARK3TCRipcR6YTs9q_U7ghimnqnKGM_wy1jmGttfeA=s96-c', 'given_name': 'Michael', 'iat': 1751818511, 'exp': 1751822111}
2025-07-06 17:15:10,479 - INFO - User Michael logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '4', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Michael'}
2025-07-06 17:15:10,494 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:10,496 - DEBUG - User loaded: Michael
2025-07-06 17:15:20,324 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:20,326 - DEBUG - User loaded: Michael
2025-07-06 17:15:20,327 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 161
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhDg.NXWuYxm96pWGkshMdSK-DRTS9Ng


2025-07-06 17:15:20,328 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tempeh","Bell Pepper","Oregano","Basil"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:15:20,329 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tempeh', 'Bell Pepper', 'Oregano', 'Basil'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:15:20,330 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:20,332 - DEBUG - User loaded: Michael
2025-07-06 17:15:23,716 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:23,718 - DEBUG - User loaded: Michael
2025-07-06 17:15:23,720 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 161
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhDg.NXWuYxm96pWGkshMdSK-DRTS9Ng


2025-07-06 17:15:23,721 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tempeh","Bell Pepper","Oregano","Basil"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:15:23,721 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tempeh', 'Bell Pepper', 'Oregano', 'Basil'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:15:23,722 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:23,724 - DEBUG - User loaded: Michael
2025-07-06 17:15:24,206 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:24,208 - DEBUG - User loaded: Michael
2025-07-06 17:15:24,210 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 161
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhDg.NXWuYxm96pWGkshMdSK-DRTS9Ng


2025-07-06 17:15:24,211 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tempeh","Bell Pepper","Oregano","Basil"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:15:24,212 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tempeh', 'Bell Pepper', 'Oregano', 'Basil'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:15:24,213 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:24,217 - DEBUG - User loaded: Michael
2025-07-06 17:15:24,404 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:24,406 - DEBUG - User loaded: Michael
2025-07-06 17:15:24,407 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 161
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhDg.NXWuYxm96pWGkshMdSK-DRTS9Ng


2025-07-06 17:15:24,408 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tempeh","Bell Pepper","Oregano","Basil"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:15:24,408 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tempeh', 'Bell Pepper', 'Oregano', 'Basil'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:15:24,409 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:24,411 - DEBUG - User loaded: Michael
2025-07-06 17:15:24,587 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:24,589 - DEBUG - User loaded: Michael
2025-07-06 17:15:24,590 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 161
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhDg.NXWuYxm96pWGkshMdSK-DRTS9Ng


2025-07-06 17:15:24,591 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tempeh","Bell Pepper","Oregano","Basil"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:15:24,592 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tempeh', 'Bell Pepper', 'Oregano', 'Basil'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:15:24,592 - DEBUG - load_user: db instance: 2086317270288, app: 2086335022144, current_app: 2086217104736
2025-07-06 17:15:24,595 - DEBUG - User loaded: Michael
2025-07-06 17:16:21,994 - DEBUG - Initialized db with app, db instance: 2290739586320, app: 2290757256256, current_app: 2290639011408
2025-07-06 17:16:21,998 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:16:26,570 - DEBUG - Initialized db with app, db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:16:26,575 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:16:27,366 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:16:27,376 - DEBUG - User loaded: Michael
2025-07-06 17:17:04,964 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:04,968 - DEBUG - User loaded: Michael
2025-07-06 17:17:04,969 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhWw.7ZBS6dQYhukSL4uzXuWGr-5bTXg


2025-07-06 17:17:04,970 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Onion","Basil","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:17:04,970 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Onion', 'Basil', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:17:04,971 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:04,975 - DEBUG - User loaded: Michael
2025-07-06 17:17:07,606 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:07,608 - DEBUG - User loaded: Michael
2025-07-06 17:17:07,609 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhWw.7ZBS6dQYhukSL4uzXuWGr-5bTXg


2025-07-06 17:17:07,610 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Onion","Basil","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:17:07,611 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Onion', 'Basil', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:17:07,611 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:07,614 - DEBUG - User loaded: Michael
2025-07-06 17:17:07,807 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:07,810 - DEBUG - User loaded: Michael
2025-07-06 17:17:07,810 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhWw.7ZBS6dQYhukSL4uzXuWGr-5bTXg


2025-07-06 17:17:07,812 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Onion","Basil","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:17:07,812 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Onion', 'Basil', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:17:07,812 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:07,815 - DEBUG - User loaded: Michael
2025-07-06 17:17:07,994 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:07,998 - DEBUG - User loaded: Michael
2025-07-06 17:17:07,998 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhWw.7ZBS6dQYhukSL4uzXuWGr-5bTXg


2025-07-06 17:17:08,000 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Onion","Basil","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:17:08,000 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Onion', 'Basil', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:17:08,001 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:08,004 - DEBUG - User loaded: Michael
2025-07-06 17:17:08,211 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:08,213 - DEBUG - User loaded: Michael
2025-07-06 17:17:08,214 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhWw.7ZBS6dQYhukSL4uzXuWGr-5bTXg


2025-07-06 17:17:08,216 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Onion","Basil","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:17:08,216 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Onion', 'Basil', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:17:08,217 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:08,220 - DEBUG - User loaded: Michael
2025-07-06 17:17:08,426 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:08,427 - DEBUG - User loaded: Michael
2025-07-06 17:17:08,429 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhWw.7ZBS6dQYhukSL4uzXuWGr-5bTXg


2025-07-06 17:17:08,430 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Onion","Basil","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:17:08,430 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Onion', 'Basil', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:17:08,431 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:08,434 - DEBUG - User loaded: Michael
2025-07-06 17:17:08,950 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:08,952 - DEBUG - User loaded: Michael
2025-07-06 17:17:08,953 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhWw.7ZBS6dQYhukSL4uzXuWGr-5bTXg


2025-07-06 17:17:08,954 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Onion","Basil","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:17:08,954 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Onion', 'Basil', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:17:08,956 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:08,959 - DEBUG - User loaded: Michael
2025-07-06 17:17:10,153 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:10,155 - DEBUG - User loaded: Michael
2025-07-06 17:17:10,156 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqhWw.7ZBS6dQYhukSL4uzXuWGr-5bTXg


2025-07-06 17:17:10,157 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Onion","Basil","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:17:10,158 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Onion', 'Basil', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:17:10,159 - DEBUG - load_user: db instance: 2439131243792, app: 2439148995648, current_app: 2439030553952
2025-07-06 17:17:10,161 - DEBUG - User loaded: Michael
2025-07-06 17:24:29,185 - DEBUG - Initialized db with app, db instance: 1683099034896, app: 1683116786752, current_app: 1682998918496
2025-07-06 17:24:29,188 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:24:33,876 - DEBUG - Initialized db with app, db instance: 2036357342480, app: 2036375094336, current_app: 2036257635152
2025-07-06 17:24:33,880 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:24:34,704 - DEBUG - load_user: db instance: 2036357342480, app: 2036375094336, current_app: 2036257635152
2025-07-06 17:24:34,722 - DEBUG - User loaded: Michael
2025-07-06 17:24:41,880 - DEBUG - load_user: db instance: 2036357342480, app: 2036375094336, current_app: 2036257635152
2025-07-06 17:24:41,884 - DEBUG - User loaded: Michael
2025-07-06 17:24:41,885 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 164
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAkEMhOG79JpFv9vmDjnDyGOXYSQYogFWiLszUZSs_yrpe4XJN9zP4fjYnjiEabFwDJpzMgYaFxmeGylXFCRzZ9MmiYe3LNG7DjPkYolinbUTIXETJchIhdrIZADziFbYwfvTobE7WY6xzBSzVjikkNe5R9TRU6WwQ76xXWXF-vinPe_Yfn11H1xupxNsWta__pNXuWLvX4ueBZfw_gDWh0Oi.aGqjQg.7d8vOUxKLDx8rUPAS0xBZHVZnUQ


2025-07-06 17:24:41,886 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Cumin","Thyme","Bread","Quinoa","Turmeric"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:24:41,887 - DEBUG - Incoming /generate request.json: {'ingredients': ['Cumin', 'Thyme', 'Bread', 'Quinoa', 'Turmeric'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:24:41,887 - DEBUG - load_user: db instance: 2036357342480, app: 2036375094336, current_app: 2036257635152
2025-07-06 17:24:41,890 - DEBUG - User loaded: Michael
2025-07-06 17:24:41,891 - INFO - User Michael's credits and API calls reset for the new day.
2025-07-06 17:24:41,893 - DEBUG - User Michael - Credits: 2, API calls: 1 committed.
2025-07-06 17:24:41,894 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Cumin, Thyme, Bread, Quinoa, Turmeric. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 17:24:49,337 - DEBUG - OpenAI raw response: {
    "title": "Herbed Quinoa Stuffed Bread",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Quinoa", "quantity": "1/2 cup"},
        {"name": "Bread loaf", "quantity": "1, small"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Thyme", "quantity": "1 tsp"},
        {"name": "Turmeric", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "1/2 tsp"},
        {"name": "Pepper", "quantity": "1/4 tsp"},
        {"name": "Olive oil", "quantity": "2 tbsp"},
        {"name": "Water", "quantity": "1 cup"}
    ],
    "instructions": [
        "Preheat the oven to 350°F (180°C).",
        "Cook quinoa according to package instructions using water and turmeric for color.",
        "In a pan, heat olive oil over medium heat. Add cumin, thyme, salt, and pepper. Cook for 1-2 minutes.",
        "Add the cooked quinoa to the pan and mix well to combine with the spices.",
        "Cut the top of the bread loaf and hollow out the center to create space for the filling.",
        "Stuff the herbed quinoa mixture into the bread loaf.",
        "Wrap the stuffed bread in foil and bake for 15 minutes.",
        "Remove the foil and bake for an additional 5-10 minutes until the bread is crispy on the outside.",
        "Slice and serve warm. Enjoy!"
    ],
    "nutrition": {
        "calories": 320,
        "protein": 8,
        "fat": 10,
        "carbs": 50
    }
}
2025-07-06 17:24:49,339 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-06 17:24:49,343 - DEBUG - Matched ingredient 'bread loaf' to 'Bread'
2025-07-06 17:24:49,345 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 17:24:49,347 - DEBUG - Matched ingredient 'thyme' to 'Thyme'
2025-07-06 17:24:49,350 - DEBUG - Matched ingredient 'turmeric' to 'Turmeric'
2025-07-06 17:24:49,351 - WARNING - No match found for ingredient: 'salt'
2025-07-06 17:24:49,354 - WARNING - No match found for ingredient: 'pepper'
2025-07-06 17:24:49,357 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 17:24:49,361 - WARNING - No match found for ingredient: 'water'
2025-07-06 17:24:49,389 - INFO - Recipe saved for user Michael: Herbed Quinoa Stuffed Bread
2025-07-06 17:24:54,419 - DEBUG - load_user: db instance: 2036357342480, app: 2036375094336, current_app: 2036257635152
2025-07-06 17:24:54,422 - DEBUG - User loaded: Michael
2025-07-06 17:25:00,725 - DEBUG - load_user: db instance: 2036357342480, app: 2036375094336, current_app: 2036257635152
2025-07-06 17:25:00,728 - DEBUG - User loaded: Michael
2025-07-06 17:25:13,797 - DEBUG - load_user: db instance: 2036357342480, app: 2036375094336, current_app: 2036257635152
2025-07-06 17:25:13,801 - DEBUG - User loaded: Michael
2025-07-06 17:25:13,802 - INFO - User logged out
2025-07-06 17:25:24,008 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '103348751947873777032', 'email': 'mangiftuk@gmail.com', 'email_verified': True, 'at_hash': 'WHDo89eltDKdNBfI_vMhVg', 'nonce': 'rMOYoWAw8b2sxXB8atRQ', 'name': 'Manvscoin', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJxgbjW5AcPCZ6AvpGS5vPHw7zcFYj7J4dVTYy3ztSDaCcah9A=s96-c', 'given_name': 'Manvscoin', 'iat': 1751819125, 'exp': 1751822725}
2025-07-06 17:25:24,017 - INFO - User Manvscoin logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '3', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Manvscoin'}
2025-07-06 17:25:24,029 - DEBUG - load_user: db instance: 2036357342480, app: 2036375094336, current_app: 2036257635152
2025-07-06 17:25:24,031 - DEBUG - User loaded: Manvscoin
2025-07-06 17:25:37,138 - DEBUG - load_user: db instance: 2036357342480, app: 2036375094336, current_app: 2036257635152
2025-07-06 17:25:37,142 - DEBUG - User loaded: Manvscoin
2025-07-06 17:25:46,314 - DEBUG - load_user: db instance: 2036357342480, app: 2036375094336, current_app: 2036257635152
2025-07-06 17:25:46,316 - DEBUG - User loaded: Manvscoin
2025-07-06 17:36:00,707 - DEBUG - Initialized db with app, db instance: 2295457850640, app: 2295475586112, current_app: 2295357340832
2025-07-06 17:36:00,710 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:36:05,010 - DEBUG - Initialized db with app, db instance: 2903661749520, app: 2903679435840, current_app: 2903561518288
2025-07-06 17:36:05,013 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:36:07,260 - DEBUG - load_user: db instance: 2903661749520, app: 2903679435840, current_app: 2903561518288
2025-07-06 17:36:07,293 - DEBUG - User loaded: Manvscoin
2025-07-06 17:36:07,295 - INFO - User logged out
2025-07-06 17:36:17,440 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '103348751947873777032', 'email': 'mangiftuk@gmail.com', 'email_verified': True, 'at_hash': 'G3-pC3Ffog1RWAXRsBqxDw', 'nonce': 'lErRLQ9r0HCOMpOq3xj5', 'name': 'Manvscoin', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJxgbjW5AcPCZ6AvpGS5vPHw7zcFYj7J4dVTYy3ztSDaCcah9A=s96-c', 'given_name': 'Manvscoin', 'iat': 1751819778, 'exp': 1751823378}
2025-07-06 17:36:17,447 - INFO - User Manvscoin logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '3', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Manvscoin'}
2025-07-06 17:36:17,457 - DEBUG - load_user: db instance: 2903661749520, app: 2903679435840, current_app: 2903561518288
2025-07-06 17:36:17,460 - DEBUG - User loaded: Manvscoin
2025-07-06 17:36:32,623 - DEBUG - load_user: db instance: 2903661749520, app: 2903679435840, current_app: 2903561518288
2025-07-06 17:36:32,625 - DEBUG - User loaded: Manvscoin
2025-07-06 17:36:32,626 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 158
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqmAQ.H_LCkncxQ2mptsliWNSTix0H91k


2025-07-06 17:36:32,627 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tofu","Bell Pepper","Oregano","Rice"],"dietary":[],"mood":"fun","spice_level":5,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:36:32,627 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tofu', 'Bell Pepper', 'Oregano', 'Rice'], 'dietary': [], 'mood': 'fun', 'spice_level': 5, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:36:32,628 - DEBUG - load_user: db instance: 2903661749520, app: 2903679435840, current_app: 2903561518288
2025-07-06 17:36:32,630 - DEBUG - User loaded: Manvscoin
2025-07-06 17:36:32,631 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 17:36:32,632 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 17:36:32,632 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Tofu, Bell Pepper, Oregano, Rice. Dietary preferences: None. Spice level: 5/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 17:36:38,835 - DEBUG - OpenAI raw response: {
    "title": "Spicy Tofu Stir-Fry with Bell Pepper and Oregano Rice",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Firm Tofu", "quantity": "8 oz, cubed"},
        {"name": "Bell Pepper", "quantity": "1 large, sliced"},
        {"name": "Oregano", "quantity": "1 tsp, dried"},
        {"name": "Rice", "quantity": "1 cup, cooked"},
        {"name": "Soy Sauce", "quantity": "2 tbsp"},
        {"name": "Sesame Oil", "quantity": "1 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Ginger", "quantity": "1 tsp, grated"},
        {"name": "Red Pepper Flakes", "quantity": "1/2 tsp"},
        {"name": "Green Onions", "quantity": "2, chopped"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Cooking Oil", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "In a bowl, mix soy sauce, sesame oil, garlic, ginger, red pepper flakes, salt, and black pepper.",
        "Add cubed tofu to the marinade and let it sit for 10 minutes.",
        "Heat cooking oil in a pan over medium-high heat.",
        "Add marinated tofu to the pan and cook until browned on all sides, about 5-7 minutes.",
        "Remove tofu from the pan and set aside.",
        "In the same pan, add sliced bell pepper and sauté for 3-4 minutes until slightly tender.",
        "Add oregano and cooked rice to the bell peppers, stir well to combine.",
        "Add the cooked tofu back to the pan and mix everything together.",
        "Taste and adjust seasoning if needed.",
        "Top with chopped green onions before serving.",
        "Serve the Spicy Tofu Stir-Fry over Oregano Rice hot.",
        "Enjoy your flavorful and spicy dish!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 18,
        "fat": 15,
        "carbs": 45
    }
}
2025-07-06 17:36:38,837 - DEBUG - Matched ingredient 'firm tofu' to 'Tofu'
2025-07-06 17:36:38,838 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 17:36:38,838 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 17:36:38,839 - DEBUG - Matched ingredient 'rice' to 'Rice'
2025-07-06 17:36:38,840 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 17:36:38,841 - WARNING - No match found for ingredient: 'sesame oil'
2025-07-06 17:36:38,841 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 17:36:38,842 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 17:36:38,842 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 17:36:38,843 - DEBUG - Matched ingredient 'green onions' to 'Onion'
2025-07-06 17:36:38,843 - WARNING - No match found for ingredient: 'salt'
2025-07-06 17:36:38,844 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 17:36:38,845 - WARNING - No match found for ingredient: 'cooking oil'
2025-07-06 17:36:38,870 - INFO - Recipe saved for user Manvscoin: Spicy Tofu Stir-Fry with Bell Pepper and Oregano Rice
2025-07-06 17:38:57,336 - DEBUG - Initialized db with app, db instance: 3208267834640, app: 3208285570112, current_app: 3208167062880
2025-07-06 17:38:57,339 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:39:01,647 - DEBUG - Initialized db with app, db instance: 2236534039824, app: 2236551791680, current_app: 2236433677520
2025-07-06 17:39:01,650 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:39:02,223 - DEBUG - load_user: db instance: 2236534039824, app: 2236551791680, current_app: 2236433677520
2025-07-06 17:39:02,237 - DEBUG - User loaded: Manvscoin
2025-07-06 17:39:02,237 - INFO - User logged out
2025-07-06 17:39:12,649 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '103348751947873777032', 'email': 'mangiftuk@gmail.com', 'email_verified': True, 'at_hash': 'KpifPBINLW6cfNrlGBTB8g', 'nonce': '3ypdzwsYAqh9yPiqe2qT', 'name': 'Manvscoin', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJxgbjW5AcPCZ6AvpGS5vPHw7zcFYj7J4dVTYy3ztSDaCcah9A=s96-c', 'given_name': 'Manvscoin', 'iat': 1751819953, 'exp': 1751823553}
2025-07-06 17:39:12,658 - INFO - User Manvscoin logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '3', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Manvscoin'}
2025-07-06 17:39:12,671 - DEBUG - load_user: db instance: 2236534039824, app: 2236551791680, current_app: 2236433677520
2025-07-06 17:39:12,674 - DEBUG - User loaded: Manvscoin
2025-07-06 17:39:37,558 - DEBUG - load_user: db instance: 2236534039824, app: 2236551791680, current_app: 2236433677520
2025-07-06 17:39:37,560 - DEBUG - User loaded: Manvscoin
2025-07-06 17:39:37,561 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 181
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqmtg.iX2ZW0e7UTdap2QqBz5GALrdIFU


2025-07-06 17:39:37,562 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Beef","Tomato","Cumin","Couscous","Chili Flakes","Broccoli"],"dietary":[],"mood":"fun","spice_level":4,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 17:39:37,564 - DEBUG - Incoming /generate request.json: {'ingredients': ['Beef', 'Tomato', 'Cumin', 'Couscous', 'Chili Flakes', 'Broccoli'], 'dietary': [], 'mood': 'fun', 'spice_level': 4, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 17:39:37,564 - DEBUG - load_user: db instance: 2236534039824, app: 2236551791680, current_app: 2236433677520
2025-07-06 17:39:37,567 - DEBUG - User loaded: Manvscoin
2025-07-06 17:39:37,569 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 17:39:37,576 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 17:39:37,577 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Beef, Tomato, Cumin, Couscous, Chili Flakes, Broccoli. Dietary preferences: None. Spice level: 4/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 17:39:47,965 - DEBUG - OpenAI raw response: {
    "title": "Spicy Beef and Tomato Couscous Bowl",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Beef Strips", "quantity": "10 oz"},
        {"name": "Tomato", "quantity": "1 large, diced"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Couscous", "quantity": "1 cup"},
        {"name": "Chili Flakes", "quantity": "1/2 tsp"},
        {"name": "Broccoli", "quantity": "1 head, cut into florets"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Pepper", "quantity": "to taste"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Water", "quantity": "1 1/2 cups"}
    ],
    "instructions": [
        "In a bowl, season the beef strips with cumin, chili flakes, salt, and pepper. Mix well to coat the beef.",
        "Heat olive oil in a pan over medium-high heat. Add the seasoned beef strips and cook until browned, about 5-7 minutes.",
        "Add diced tomatoes to the pan and cook for another 2-3 minutes until slightly softened.",
        "In a separate pot, bring water to a boil. Add couscous, cover, and let it sit off the heat for 5 minutes. Fluff with a fork.",
        "In another pot, steam the broccoli florets until tender, about 4-5 minutes.",
        "To assemble, divide the couscous between two bowls. Top with the beef and tomato mixture. Serve with steamed broccoli on the side.",
        "Garnish with fresh herbs or extra chili flakes if desired. Enjoy your spicy beef and tomato couscous bowl!"
    ],
    "nutrition": {
        "calories": 570,
        "protein": 40,
        "fat": 18,
        "carbs": 60
    }
}
2025-07-06 17:39:47,966 - DEBUG - Matched ingredient 'beef strips' to 'Beef'
2025-07-06 17:39:47,966 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 17:39:47,967 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 17:39:47,968 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 17:39:47,968 - DEBUG - Matched ingredient 'chili flakes' to 'Chili Flakes'
2025-07-06 17:39:47,968 - DEBUG - Matched ingredient 'broccoli' to 'Broccoli'
2025-07-06 17:39:47,968 - WARNING - No match found for ingredient: 'salt'
2025-07-06 17:39:47,969 - WARNING - No match found for ingredient: 'pepper'
2025-07-06 17:39:47,969 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 17:39:47,969 - WARNING - No match found for ingredient: 'water'
2025-07-06 17:39:47,989 - INFO - Recipe saved for user Manvscoin: Spicy Beef and Tomato Couscous Bowl
2025-07-06 17:53:36,175 - DEBUG - Initialized db with app, db instance: 1734591980816, app: 1734609650752, current_app: 1734491536736
2025-07-06 17:53:36,179 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:53:40,220 - DEBUG - Initialized db with app, db instance: 2451593962768, app: 2451611714624, current_app: 2451493207248
2025-07-06 17:53:40,223 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 17:53:58,140 - DEBUG - load_user: db instance: 2451593962768, app: 2451611714624, current_app: 2451493207248
2025-07-06 17:53:58,175 - DEBUG - User loaded: Manvscoin
2025-07-06 17:53:58,191 - INFO - User logged out
2025-07-06 17:54:21,201 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '103348751947873777032', 'email': 'mangiftuk@gmail.com', 'email_verified': True, 'at_hash': 'igoQOGhbF2AewwXjJ2wzCA', 'nonce': 'I4Qv03oacXRvwsrUuFFl', 'name': 'Manvscoin', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJxgbjW5AcPCZ6AvpGS5vPHw7zcFYj7J4dVTYy3ztSDaCcah9A=s96-c', 'given_name': 'Manvscoin', 'iat': 1751820862, 'exp': 1751824462}
2025-07-06 17:54:21,210 - INFO - User Manvscoin logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '3', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Manvscoin'}
2025-07-06 17:54:21,222 - DEBUG - load_user: db instance: 2451593962768, app: 2451611714624, current_app: 2451493207248
2025-07-06 17:54:21,226 - DEBUG - User loaded: Manvscoin
2025-07-06 18:01:57,744 - DEBUG - Initialized db with app, db instance: 2964721837328, app: 2964739572800, current_app: 2964621065568
2025-07-06 18:01:57,747 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 18:02:01,865 - DEBUG - Initialized db with app, db instance: 2270542112016, app: 2270559863872, current_app: 2270442011856
2025-07-06 18:02:01,869 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 18:02:07,365 - DEBUG - load_user: db instance: 2270542112016, app: 2270559863872, current_app: 2270442011856
2025-07-06 18:02:07,393 - DEBUG - User loaded: Manvscoin
2025-07-06 18:02:11,793 - DEBUG - load_user: db instance: 2270542112016, app: 2270559863872, current_app: 2270442011856
2025-07-06 18:02:11,796 - DEBUG - User loaded: Manvscoin
2025-07-06 18:02:11,797 - INFO - User logged out
2025-07-06 18:02:24,418 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '103348751947873777032', 'email': 'mangiftuk@gmail.com', 'email_verified': True, 'at_hash': 'Ah2uq8X8lMI36iJZIRBEWg', 'nonce': '1XJRFWS8HNqCt3isnRmU', 'name': 'Manvscoin', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJxgbjW5AcPCZ6AvpGS5vPHw7zcFYj7J4dVTYy3ztSDaCcah9A=s96-c', 'given_name': 'Manvscoin', 'iat': 1751821344, 'exp': 1751824944}
2025-07-06 18:02:24,427 - INFO - User Manvscoin logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '3', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Manvscoin'}
2025-07-06 18:02:24,442 - DEBUG - load_user: db instance: 2270542112016, app: 2270559863872, current_app: 2270442011856
2025-07-06 18:02:24,446 - DEBUG - User loaded: Manvscoin
2025-07-06 18:25:44,958 - DEBUG - Initialized db with app, db instance: 2704483951888, app: 2704501638208, current_app: 2704383311200
2025-07-06 18:25:44,962 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 18:25:49,058 - DEBUG - Initialized db with app, db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:25:49,061 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 18:26:09,897 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:26:09,918 - DEBUG - User loaded: Manvscoin
2025-07-06 18:26:21,075 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:26:21,078 - DEBUG - User loaded: Manvscoin
2025-07-06 18:26:21,079 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqxsg.R-vDGffTnqbKZIUc9dyeAyXJ4yo


2025-07-06 18:26:21,080 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Tomato","Cumin","Pasta"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 18:26:21,081 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Tomato', 'Cumin', 'Pasta'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 18:26:21,081 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:26:21,085 - DEBUG - User loaded: Manvscoin
2025-07-06 18:26:21,086 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 18:26:21,089 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 18:26:21,090 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Tomato, Cumin, Pasta. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 18:26:29,062 - DEBUG - OpenAI raw response: {
    "title": "Spicy Shrimp Tomato Pasta",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "10 large, peeled and deveined"},
        {"name": "Tomato", "quantity": "2 medium, diced"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Pasta", "quantity": "6 oz"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Red Pepper Flakes", "quantity": "1/2 tsp"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Fresh Parsley", "quantity": "2 tbsp, chopped"}
    ],
    "instructions": [
        "Cook the pasta according to package instructions until al dente. Drain and set aside.",
        "In a large skillet, heat olive oil over medium heat. Add minced garlic and cumin, sauté for 1-2 minutes until fragrant.",
        "Add the shrimp to the skillet, season with salt, black pepper, and red pepper flakes. Cook for 2-3 minutes per side until shrimp is pink and cooked through.",
        "Add diced tomatoes to the skillet and cook for another 2-3 minutes until tomatoes are slightly softened.",
        "Add the cooked pasta to the skillet and toss everything together to combine. Cook for an additional minute to heat the pasta through.",
        "Remove from heat, sprinkle with fresh parsley, and serve hot.",
    "nutrition"   ,
    "calories"   ,
    "protein"  ,
    "fat"  ,
    "carbs"  
    ]
}
2025-07-06 18:26:29,064 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 18:26:29,065 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 18:26:29,065 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 18:26:29,065 - DEBUG - Matched ingredient 'pasta' to 'Pasta'
2025-07-06 18:26:29,066 - WARNING - No match found for ingredient: 'salt'
2025-07-06 18:26:29,066 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 18:26:29,066 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 18:26:29,067 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 18:26:29,067 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 18:26:29,067 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-06 18:26:29,086 - INFO - Recipe saved for user Manvscoin: Spicy Shrimp Tomato Pasta
2025-07-06 18:26:43,277 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:26:43,280 - DEBUG - User loaded: Manvscoin
2025-07-06 18:26:51,797 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:26:51,808 - DEBUG - User loaded: Manvscoin
2025-07-06 18:26:51,809 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 160
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqx0w.X_wLy5vXlS6QkWi7PhyvSb-pgvc


2025-07-06 18:26:51,811 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Cauliflower","Cumin","Quinoa"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 18:26:51,812 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Cauliflower', 'Cumin', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 18:26:51,813 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:26:51,815 - DEBUG - User loaded: Manvscoin
2025-07-06 18:26:51,817 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 18:26:51,818 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 18:26:51,819 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Cauliflower, Cumin, Quinoa. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 18:26:56,394 - DEBUG - OpenAI raw response: {
    "title": "Spiced Shrimp and Cauliflower Quinoa Bowl",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "12 large, peeled and deveined"},
        {"name": "Cauliflower", "quantity": "2 cups, chopped"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Quinoa", "quantity": "1 cup, cooked"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black pepper", "quantity": "to taste"},
        {"name": "Olive oil", "quantity": "2 tbsp"},
        {"name": "Lemon juice", "quantity": "1 tbsp"},
        {"name": "Fresh parsley", "quantity": "2 tbsp, chopped"}
    ],
    "instructions": [
        "In a bowl, mix the shrimp with cumin, salt, and black pepper, ensuring they are well coated.",
        "Heat olive oil in a pan over medium heat. Add the seasoned shrimp and cook for 2-3 minutes per side until pink and cooked through. Remove from the pan and set aside.",
        "In the same pan, add chopped cauliflower and sauté until slightly browned and tender, about 5-7 minutes.",
        "Add the cooked quinoa to the cauliflower, season with salt and pepper, and stir well to combine. Cook for an additional 2-3 minutes.",
        "Divide the quinoa and cauliflower mixture into bowls, top with spiced shrimp, drizzle with lemon juice, and garnish with fresh parsley.",
        "Serve the spiced shrimp and cauliflower quinoa bowls hot and enjoy!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 30,
        "fat": 10,
        "carbs": 40
    }
}
2025-07-06 18:26:56,395 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 18:26:56,395 - DEBUG - Matched ingredient 'cauliflower' to 'Cauliflower'
2025-07-06 18:26:56,396 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 18:26:56,396 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-06 18:26:56,397 - WARNING - No match found for ingredient: 'salt'
2025-07-06 18:26:56,397 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 18:26:56,398 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 18:26:56,399 - WARNING - No match found for ingredient: 'lemon juice'
2025-07-06 18:26:56,399 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-06 18:26:56,413 - INFO - Recipe saved for user Manvscoin: Spiced Shrimp and Cauliflower Quinoa Bowl
2025-07-06 18:27:20,518 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:27:20,521 - DEBUG - User loaded: Manvscoin
2025-07-06 18:27:20,522 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 177
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqx4A.7CatLLH5M3mE9Azqws5O6E6aZkA


2025-07-06 18:27:20,523 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Pork","Zucchini","Broccoli","Oregano","Couscous"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 18:27:20,524 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Pork', 'Zucchini', 'Broccoli', 'Oregano', 'Couscous'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 18:27:20,525 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:27:20,527 - DEBUG - User loaded: Manvscoin
2025-07-06 18:27:20,530 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 18:27:20,531 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 18:27:20,532 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Lamb, Pork, Zucchini, Broccoli, Oregano, Couscous. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 18:27:25,505 - DEBUG - OpenAI raw response: {
    "title": "Mediterranean Lamb and Pork Couscous Stir-Fry",
    "cuisine": "Mediterranean",
    "dietary": [],
    "ingredients": [
        {"name": "Lamb, cubed", "quantity": "200g"},
        {"name": "Pork, thinly sliced", "quantity": "200g"},
        {"name": "Zucchini, sliced", "quantity": "1 medium"},
        {"name": "Broccoli florets", "quantity": "1 cup"},
        {"name": "Oregano, dried", "quantity": "1 tsp"},
        {"name": "Couscous", "quantity": "1 cup"}
    ],
    "instructions": [
        "In a large skillet over medium heat, cook the lamb and pork until browned, about 5-7 minutes.",
        "Add the zucchini, broccoli, and oregano to the skillet. Stir-fry for another 5 minutes until the vegetables are tender-crisp.",
        "While the stir-fry is cooking, prepare the couscous according to package instructions.",
        "Serve the lamb and pork stir-fry over the cooked couscous. Enjoy!"
    ],
    "nutrition": {
        "calories": 550,
        "protein": 40,
        "fat": 20,
        "carbs": 50
    }
}
2025-07-06 18:27:25,507 - DEBUG - Matched ingredient 'lamb, cubed' to 'Lamb'
2025-07-06 18:27:25,507 - DEBUG - Matched ingredient 'pork, thinly sliced' to 'Pork'
2025-07-06 18:27:25,508 - DEBUG - Matched ingredient 'zucchini, sliced' to 'Zucchini'
2025-07-06 18:27:25,509 - DEBUG - Matched ingredient 'broccoli florets' to 'Broccoli'
2025-07-06 18:27:25,510 - DEBUG - Matched ingredient 'oregano, dried' to 'Oregano'
2025-07-06 18:27:25,511 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 18:27:25,525 - INFO - Recipe saved for user Manvscoin: Mediterranean Lamb and Pork Couscous Stir-Fry
2025-07-06 18:27:41,352 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:27:41,355 - DEBUG - User loaded: Manvscoin
2025-07-06 18:27:41,356 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 177
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOG7eM3Cb3dzh5xh5OmuBiQw0QywiXL3OIrC-quS_i-32Ib97I6P7YmDWy7qjk5iDMpA4dSbxULCGQlBzVil9MDNSuzeqjRVxKSBfF6lEiFw6ULoLSQqLZICzM1rYgPPp0F8NdLofVrJR8kw9ESW1-qRWw2Z3Az5xHbrA-PxTnvu2P760hxc76cTdLmMf__l0W-Y_tHHa5f7tO8fYGNEnA.aGqx_Q.1RkBLnL2fsyODSvGbxLZJwDascY


2025-07-06 18:27:41,357 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Pork","Zucchini","Broccoli","Oregano","Couscous"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 18:27:41,359 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Pork', 'Zucchini', 'Broccoli', 'Oregano', 'Couscous'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 18:27:41,359 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:27:41,362 - DEBUG - User loaded: Manvscoin
2025-07-06 18:27:41,363 - INFO - User Manvscoin's credits and API calls reset for the new day.
2025-07-06 18:27:41,364 - DEBUG - User Manvscoin - Credits: 2, API calls: 1 committed.
2025-07-06 18:27:41,365 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Lamb, Pork, Zucchini, Broccoli, Oregano, Couscous. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 18:27:46,695 - DEBUG - OpenAI raw response: {
    "title": "Mediterranean Lamb and Pork Stir Fry with Couscous",
    "cuisine": "Mediterranean",
    "dietary": [],
    "ingredients": [
        {"name": "Lamb fillet", "quantity": "200g, thinly sliced"},
        {"name": "Pork tenderloin", "quantity": "200g, thinly sliced"},
        {"name": "Zucchini", "quantity": "1 medium, sliced"},
        {"name": "Broccoli florets", "quantity": "1 cup"},
        {"name": "Oregano", "quantity": "1 tsp, dried"},
        {"name": "Couscous", "quantity": "1 cup, cooked"},
        {"name": "Olive oil", "quantity": "2 tbsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black pepper", "quantity": "to taste"},
        {"name": "Paprika", "quantity": "1/2 tsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Red chili flakes", "quantity": "1/2 tsp (adjust to spice preference)"},
        {"name": "Soy sauce", "quantity": "1 tbsp"},
        {"name": "Lemon juice", "quantity": "1 tbsp"},
        {"name": "Fresh parsley", "quantity": "for garnish"}
    ],
    "instructions": [
        "In a bowl, marinate the lamb and pork with paprika, oregano, salt, black pepper, minced garlic, and red chili flakes for 15 minutes.",
        "Heat olive oil in a large skillet over medium-high heat. Add the marinated lamb and pork. Cook until browned, about 5-7 minutes.",
        "Add the zucchini and broccoli to the skillet. Stir-fry for another 5 minutes until the vegetables are tender-crisp.",
        "Stir in soy sauce and lemon juice. Cook for an additional 2 minutes.",
        "Serve the stir-fry over cooked couscous. Garnish with fresh parsley.",
        "Enjoy your flavorful Mediterranean Lamb and Pork Stir Fry with Couscous!"
    ],
    "nutrition": {
        "calories": 540,
        "protein": 44,
        "fat": 22,
        "carbs": 42
    }
}
2025-07-06 18:27:46,696 - DEBUG - Matched ingredient 'lamb fillet' to 'Lamb'
2025-07-06 18:27:46,696 - DEBUG - Matched ingredient 'pork tenderloin' to 'Pork'
2025-07-06 18:27:46,697 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 18:27:46,697 - DEBUG - Matched ingredient 'broccoli florets' to 'Broccoli'
2025-07-06 18:27:46,697 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 18:27:46,698 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 18:27:46,698 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 18:27:46,699 - WARNING - No match found for ingredient: 'salt'
2025-07-06 18:27:46,700 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 18:27:46,700 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 18:27:46,701 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 18:27:46,702 - DEBUG - Matched ingredient 'red chili flakes' to 'Chili Flakes'
2025-07-06 18:27:46,702 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 18:27:46,703 - WARNING - No match found for ingredient: 'lemon juice'
2025-07-06 18:27:46,703 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-06 18:27:46,713 - INFO - Recipe saved for user Manvscoin: Mediterranean Lamb and Pork Stir Fry with Couscous
2025-07-06 18:30:58,842 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:30:58,845 - DEBUG - User loaded: Manvscoin
2025-07-06 18:30:58,845 - INFO - User logged out
2025-07-06 18:31:18,461 - INFO - New user registered: mike
2025-07-06 18:31:29,477 - INFO - User mike logged in, session: {'_fresh': True, '_permanent': True, '_user_id': '7', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'mike'}
2025-07-06 18:31:29,486 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:31:29,488 - DEBUG - User loaded: mike
2025-07-06 18:31:40,982 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:31:40,984 - DEBUG - User loaded: mike
2025-07-06 18:31:40,985 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 157
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zksOgkAQhOG7zNrFvKeby5BhuhqJggZhZby7GKPrvyr5nqbXFY-z6bZ1x8n0k5jONO-dMJA41KI-UeOIACeqLC1Vx0WTr1ZzKyLwQRzZOLRMBMepNkItLlAqngRgLlYCK_h4KprNSuKtDQNZ3yIUNZDGIVvEkl0kc0DuWOe6YNn-tP2B9esrx-B6G0dIPy2__slLnXH0ebrAvN4NoEKY.aGqy8Q.TiBtvZe8bM0Ncd5_eOwRkdH5blU


2025-07-06 18:31:40,986 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Tomato","Basil","Potatoes"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 18:31:40,987 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Tomato', 'Basil', 'Potatoes'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 18:31:40,988 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:31:40,991 - DEBUG - User loaded: mike
2025-07-06 18:31:40,993 - INFO - User mike's credits and API calls reset for the new day.
2025-07-06 18:31:40,994 - DEBUG - User mike - Credits: 2, API calls: 1 committed.
2025-07-06 18:31:40,995 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Tomato, Basil, Potatoes. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 18:31:47,949 - DEBUG - OpenAI raw response: {
    "title": "Basil Tomato Shrimp Skillet with Herb Roasted Potatoes",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "12 large, deveined and peeled"},
        {"name": "Tomato", "quantity": "2 medium, diced"},
        {"name": "Fresh Basil", "quantity": "1/4 cup, chopped"},
        {"name": "Potatoes", "quantity": "2 medium, diced into cubes"},
        {"name": "Olive Oil", "quantity": "2 tablespoons"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Paprika", "quantity": "1 teaspoon"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Red Pepper Flakes", "quantity": "1/2 teaspoon"},
        {"name": "Lemon", "quantity": "1, juiced"}
    ],
    "instructions": [
        "Preheat the oven to 400°F (200°C).",
        "In a bowl, toss the diced potatoes with 1 tablespoon of olive oil, minced garlic, paprika, salt, and black pepper until evenly coated. Spread the potatoes on a baking sheet in a single layer and roast in the oven for about 25-30 minutes or until golden and crispy.",
        "In a skillet, heat the remaining olive oil over medium heat. Add the shrimp and sauté for 2-3 minutes until they start to turn pink.",
        "Add the diced tomatoes, chopped basil, red pepper flakes, salt, and black pepper to the skillet. Cook for another 2-3 minutes until the tomatoes soften slightly.",
        "Squeeze the lemon juice over the shrimp and tomato mixture, then stir to combine.",
        "Serve the basil tomato shrimp alongside the herb roasted potatoes. Enjoy!"
    ],
    "nutrition": {
        "calories": 320,
        "protein": 24,
        "fat": 10,
        "carbs": 30
    }
}
2025-07-06 18:31:47,951 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 18:31:47,952 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 18:31:47,952 - DEBUG - Matched ingredient 'fresh basil' to 'Basil'
2025-07-06 18:31:47,953 - DEBUG - Matched ingredient 'potatoes' to 'Potatoes'
2025-07-06 18:31:47,954 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 18:31:47,954 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 18:31:47,954 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 18:31:47,955 - WARNING - No match found for ingredient: 'salt'
2025-07-06 18:31:47,956 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 18:31:47,956 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 18:31:47,957 - WARNING - No match found for ingredient: 'lemon'
2025-07-06 18:31:47,968 - INFO - Recipe saved for user mike: Basil Tomato Shrimp Skillet with Herb Roasted Potatoes
2025-07-06 18:32:04,749 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:32:04,752 - DEBUG - User loaded: mike
2025-07-06 18:32:07,045 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:32:07,048 - DEBUG - User loaded: mike
2025-07-06 18:32:18,454 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:32:18,455 - DEBUG - User loaded: mike
2025-07-06 18:32:18,456 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 178
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zksOgkAQhOG7zNrFvKeby5BhuhqJggZhZby7GKPrvyr5nqbXFY-z6bZ1x8n0k5jONO-dMJA41KI-UeOIACeqLC1Vx0WTr1ZzKyLwQRzZOLRMBMepNkItLlAqngRgLlYCK_h4KprNSuKtDQNZ3yIUNZDGIVvEkl0kc0DuWOe6YNn-tP2B9esrx-B6G0dIPy2__slLnXH0ebrAvN4NoEKY.aGqzFw.5pQTKD0-qtc33co4ZGr3IAwBup8


2025-07-06 18:32:18,457 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Cauliflower","Tempeh","Bell Pepper","Oregano","Couscous"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 18:32:18,458 - DEBUG - Incoming /generate request.json: {'ingredients': ['Cauliflower', 'Tempeh', 'Bell Pepper', 'Oregano', 'Couscous'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 18:32:18,459 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:32:18,461 - DEBUG - User loaded: mike
2025-07-06 18:32:18,462 - INFO - User mike's credits and API calls reset for the new day.
2025-07-06 18:32:18,463 - DEBUG - User mike - Credits: 2, API calls: 1 committed.
2025-07-06 18:32:18,465 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Cauliflower, Tempeh, Bell Pepper, Oregano, Couscous. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 18:32:26,932 - DEBUG - OpenAI raw response: {
    "title": "Tempeh and Cauliflower Couscous Stir-Fry",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Cauliflower", "quantity": "2 cups florets"},
        {"name": "Tempeh", "quantity": "8 oz, cubed"},
        {"name": "Bell Pepper", "quantity": "1, sliced"},
        {"name": "Oregano", "quantity": "1 tsp"},
        {"name": "Couscous", "quantity": "1 cup"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"},
        {"name": "Soy Sauce", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Ginger", "quantity": "1 tsp, minced"},
        {"name": "Chili Flakes", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Water", "quantity": "2 cups"}
    ],
    "instructions": [
        "In a large pan, heat vegetable oil over medium heat.",
        "Add garlic, ginger, and chili flakes. Sauté for 1-2 minutes until fragrant.",
        "Add tempeh cubes and cook until slightly browned, about 5-7 minutes.",
        "Stir in cauliflower florets, bell pepper, oregano, soy sauce, salt, and black pepper. Cook for an additional 5 minutes.",
        "Meanwhile, in a separate pot, bring 2 cups of water to a boil. Add couscous, cover, and remove from heat. Let it sit for 5 minutes until fluffy.",
        "Fluff the couscous with a fork and divide it into serving bowls.",
        "Top the couscous with the tempeh and cauliflower stir-fry mixture.",
        "Garnish with fresh herbs or extra chili flakes if desired. Serve hot."
    ],
    "nutrition": {
        "calories": 480,
        "protein": 24,
        "fat": 16,
        "carbs": 62
    }
}
2025-07-06 18:32:26,933 - DEBUG - Matched ingredient 'cauliflower' to 'Cauliflower'
2025-07-06 18:32:26,934 - DEBUG - Matched ingredient 'tempeh' to 'Tempeh'
2025-07-06 18:32:26,934 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 18:32:26,935 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 18:32:26,936 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 18:32:26,936 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 18:32:26,937 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 18:32:26,937 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 18:32:26,937 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 18:32:26,938 - DEBUG - Matched ingredient 'chili flakes' to 'Chili Flakes'
2025-07-06 18:32:26,939 - WARNING - No match found for ingredient: 'salt'
2025-07-06 18:32:26,940 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 18:32:26,940 - WARNING - No match found for ingredient: 'water'
2025-07-06 18:32:26,951 - INFO - Recipe saved for user mike: Tempeh and Cauliflower Couscous Stir-Fry
2025-07-06 18:32:42,364 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:32:42,367 - DEBUG - User loaded: mike
2025-07-06 18:32:42,368 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 226
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zksOgkAQhOG7zNrFvKeby5BhuhqJggZhZby7GKPrvyr5nqbXFY-z6bZ1x8n0k5jONO-dMJA41KI-UeOIACeqLC1Vx0WTr1ZzKyLwQRzZOLRMBMepNkItLlAqngRgLlYCK_h4KprNSuKtDQNZ3yIUNZDGIVvEkl0kc0DuWOe6YNn-tP2B9esrx-B6G0dIPy2__slLnXH0ebrAvN4NoEKY.aGqzKg.nkZh3mCQKso5J2sIOhs8OdXduVg


2025-07-06 18:32:42,369 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Cauliflower","Oregano","Couscous","Zucchini","Onion","Spinach","Carrot","Thyme","Potatoes","Beef"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":"Chinese"}'
2025-07-06 18:32:42,370 - DEBUG - Incoming /generate request.json: {'ingredients': ['Cauliflower', 'Oregano', 'Couscous', 'Zucchini', 'Onion', 'Spinach', 'Carrot', 'Thyme', 'Potatoes', 'Beef'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': 'Chinese'}
2025-07-06 18:32:42,371 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:32:42,373 - DEBUG - User loaded: mike
2025-07-06 18:32:42,376 - INFO - User mike's credits and API calls reset for the new day.
2025-07-06 18:32:42,377 - DEBUG - User mike - Credits: 2, API calls: 1 committed.
2025-07-06 18:32:42,378 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a Chinese recipe using Cauliflower, Oregano, Couscous, Zucchini, Onion, Spinach, Carrot, Thyme, Potatoes, Beef. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 18:32:52,234 - DEBUG - OpenAI raw response: {
    "title": "Chinese Style Beef and Vegetable Stir-Fry with Cauliflower Couscous",
    "cuisine": "Chinese",
    "dietary": [],
    "ingredients": [
        {"name": "Beef", "quantity": "8 oz, thinly sliced"},
        {"name": "Cauliflower", "quantity": "1/2 head, grated into couscous-like texture"},
        {"name": "Zucchini", "quantity": "1, sliced"},
        {"name": "Onion", "quantity": "1, sliced"},
        {"name": "Spinach", "quantity": "1 cup"},
        {"name": "Carrot", "quantity": "1, julienned"},
        {"name": "Potatoes", "quantity": "1, diced"},
        {"name": "Oregano", "quantity": "1 tsp, dried"},
        {"name": "Thyme", "quantity": "1 tsp, dried"},
        {"name": "Vegetable oil", "quantity": "2 tbsp"},
        {"name": "Soy sauce", "quantity": "3 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Ginger", "quantity": "1 tsp, minced"},
        {"name": "Cornstarch", "quantity": "1 tbsp, dissolved in 2 tbsp water"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black pepper", "quantity": "to taste"},
        {"name": "Red pepper flakes", "quantity": "1/2 tsp"}
    ],
    "instructions": [
        "In a bowl, marinate the sliced beef with soy sauce, garlic, ginger, salt, black pepper, and red pepper flakes. Set aside for 15 minutes.",
        "In a wok or large skillet, heat vegetable oil over medium-high heat. Add the marinated beef and stir-fry until browned. Remove from the wok and set aside.",
        "In the same wok, add a little more oil if needed. Stir-fry the onions, carrots, and potatoes until slightly tender.",
        "Add the zucchini, spinach, dried oregano, and thyme. Cook for another 2-3 minutes.",
        "Push the vegetables to the side of the wok and add the cauliflower 'couscous' to the center. Stir-fry for a few minutes until the cauliflower is tender.",
        "Return the beef to the wok. Pour in the cornstarch mixture and toss everything together until the sauce thickens.",
        "Adjust seasoning with soy sauce, salt, and pepper if needed. Serve hot.",
        "Enjoy your Chinese Style Beef and Vegetable Stir-Fry with Cauliflower Couscous!"
    ],
    "nutrition": {
        "calories": 430,
        "protein": 28,
        "fat": 20,
        "carbs": 35
    }
}
2025-07-06 18:32:52,236 - DEBUG - Matched ingredient 'beef' to 'Beef'
2025-07-06 18:32:52,236 - DEBUG - Matched ingredient 'cauliflower' to 'Cauliflower'
2025-07-06 18:32:52,237 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 18:32:52,238 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 18:32:52,239 - DEBUG - Matched ingredient 'spinach' to 'Spinach'
2025-07-06 18:32:52,239 - DEBUG - Matched ingredient 'carrot' to 'Carrot'
2025-07-06 18:32:52,240 - DEBUG - Matched ingredient 'potatoes' to 'Potatoes'
2025-07-06 18:32:52,241 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 18:32:52,242 - DEBUG - Matched ingredient 'thyme' to 'Thyme'
2025-07-06 18:32:52,242 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 18:32:52,243 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 18:32:52,244 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 18:32:52,245 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 18:32:52,245 - WARNING - No match found for ingredient: 'cornstarch'
2025-07-06 18:32:52,246 - WARNING - No match found for ingredient: 'salt'
2025-07-06 18:32:52,247 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 18:32:52,248 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 18:32:52,263 - INFO - Recipe saved for user mike: Chinese Style Beef and Vegetable Stir-Fry with Cauliflower Couscous
2025-07-06 18:34:28,267 - DEBUG - load_user: db instance: 2184849728784, app: 2184867480640, current_app: 2184749825184
2025-07-06 18:34:28,272 - DEBUG - User loaded: mike
2025-07-06 18:34:28,273 - INFO - User logged out
2025-07-06 19:01:52,566 - DEBUG - Initialized db with app, db instance: 2999212057872, app: 2999229727808, current_app: 2999110630848
2025-07-06 19:01:52,570 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:01:57,747 - DEBUG - Initialized db with app, db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:01:57,751 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:02:55,367 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': 'xxeGN1Az0W7rFGa0Box5Fg', 'nonce': 'Zr3irvGtsH55ySr9gnN6', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751824976, 'exp': 1751828576}
2025-07-06 19:02:55,407 - INFO - User Detroit Project logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '1', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Detroit Project'}
2025-07-06 19:02:55,433 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:02:55,446 - DEBUG - User loaded: Detroit Project
2025-07-06 19:03:08,545 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:03:08,547 - DEBUG - User loaded: Detroit Project
2025-07-06 19:03:08,548 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 180
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOGrRF5n4be7WecAucHI466GQWEGGbOKuDsTRbD-q6Tv10zacTuZw-h3fJppEXMwzXsnDCQOtahP1DgiwIkqS0vVcdHkq9Xcigh8EEc2zi0TwXGqjVCLC5SKJwGYi5XACt6fimazknhrw0zWtwhFDaRxzhaxZBfJ7JAr-qWuWMebdr-h__vcPvjZjkfItKyv_pfXesHevzD6toyP776d0YZ5PAECL0a-.aGq6Tw.lRdDSuYDQ0WdVeuCNhwuezI3FSo


2025-07-06 19:03:08,549 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Zucchini","Bell Pepper","Tomato","Oregano","Basil","Pasta"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:03:08,550 - DEBUG - Incoming /generate request.json: {'ingredients': ['Zucchini', 'Bell Pepper', 'Tomato', 'Oregano', 'Basil', 'Pasta'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:03:08,552 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:03:08,556 - DEBUG - User loaded: Detroit Project
2025-07-06 19:03:08,557 - INFO - User Detroit Project's credits and API calls reset for the new day.
2025-07-06 19:03:08,559 - DEBUG - User Detroit Project - Credits: 2, API calls: 1 committed.
2025-07-06 19:03:08,560 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Zucchini, Bell Pepper, Tomato, Oregano, Basil, Pasta. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 19:03:15,241 - DEBUG - OpenAI raw response: {
    "title": "Mediterranean Veggie Pasta",
    "cuisine": "Italian",
    "dietary": [],
    "ingredients": [
        {"name": "Zucchini", "quantity": "1 medium"},
        {"name": "Bell Pepper", "quantity": "1 medium"},
        {"name": "Tomato", "quantity": "2 medium"},
        {"name": "Oregano", "quantity": "1 tsp"},
        {"name": "Basil", "quantity": "1 tsp"},
        {"name": "Pasta", "quantity": "6 oz"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"}
    ],
    "instructions": [
        "1. Cook the pasta according to package instructions until al dente. Drain and set aside.",
        "2. Heat olive oil in a pan over medium heat. Add minced garlic and sauté until fragrant.",
        "3. Add diced zucchini, bell pepper, and tomatoes to the pan. Cook for about 5-7 minutes until vegetables are slightly tender.",
        "4. Season with oregano, basil, salt, and black pepper. Stir well to combine.",
        "5. Add the cooked pasta to the pan and toss everything together until well mixed and heated through.",
        "6. Adjust seasoning if needed and serve hot.",
        "7. Enjoy your Mediterranean Veggie Pasta!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 9,
        "fat": 10,
        "carbs": 65
    }
}
2025-07-06 19:03:15,244 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 19:03:15,244 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 19:03:15,245 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 19:03:15,246 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 19:03:15,246 - DEBUG - Matched ingredient 'basil' to 'Basil'
2025-07-06 19:03:15,247 - DEBUG - Matched ingredient 'pasta' to 'Pasta'
2025-07-06 19:03:15,248 - WARNING - No match found for ingredient: 'salt'
2025-07-06 19:03:15,249 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 19:03:15,250 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 19:03:15,251 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 19:03:15,273 - INFO - Recipe saved for user Detroit Project: Mediterranean Veggie Pasta
2025-07-06 19:03:43,111 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:03:43,114 - DEBUG - User loaded: Detroit Project
2025-07-06 19:03:50,904 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:03:50,906 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:01,820 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:01,822 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:01,823 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 180
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOGrRF5n4be7WecAucHI466GQWEGGbOKuDsTRbD-q6Tv10zacTuZw-h3fJppEXMwzXsnDCQOtahP1DgiwIkqS0vVcdHkq9Xcigh8EEc2zi0TwXGqjVCLC5SKJwGYi5XACt6fimazknhrw0zWtwhFDaRxzhaxZBfJ7JAr-qWuWMebdr-h__vcPvjZjkfItKyv_pfXesHevzD6toyP776d0YZ5PAECL0a-.aGq6hw.nrq3F-240-V8Eti-0r1CbfmbDCE


2025-07-06 19:04:01,825 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tofu","Shrimp","Cumin","Bell Pepper","Zucchini","Broccoli"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:04:01,825 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tofu', 'Shrimp', 'Cumin', 'Bell Pepper', 'Zucchini', 'Broccoli'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:04:01,826 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:01,828 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:01,832 - INFO - User Detroit Project's credits and API calls reset for the new day.
2025-07-06 19:04:01,833 - DEBUG - User Detroit Project - Credits: 2, API calls: 1 committed.
2025-07-06 19:04:01,834 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Tofu, Shrimp, Cumin, Bell Pepper, Zucchini, Broccoli. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 19:04:06,522 - DEBUG - OpenAI raw response: {
    "title": "Zesty Tofu and Shrimp Stir-Fry",
    "cuisine": "Asian",
    "dietary": [],
    "ingredients": [
        {"name": "Tofu", "quantity": "8 oz, cubed"},
        {"name": "Shrimp", "quantity": "8 oz, peeled and deveined"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Bell Pepper", "quantity": "1 large, sliced"},
        {"name": "Zucchini", "quantity": "1 medium, sliced"},
        {"name": "Broccoli", "quantity": "1 cup, florets"},
        {"name": "Vegetable oil", "quantity": "2 tbsp"},
        {"name": "Soy sauce", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Ginger", "quantity": "1 tsp, minced"},
        {"name": "Red pepper flakes", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black pepper", "quantity": "to taste"},
        {"name": "Green onions", "quantity": "2, chopped (for garnish)"},
        {"name": "Cooked rice", "quantity": "2 cups (to serve)"}
    ],
    "instructions": [
        "In a bowl, combine the cubed tofu with cumin, salt, and black pepper. Toss gently to coat the tofu.",
        "Heat 1 tablespoon of vegetable oil in a large pan over medium-high heat. Add the tofu and cook until golden brown on all sides. Remove the tofu from the pan and set aside.",
        "In the same pan, add the remaining tablespoon of oil. Add the shrimp and stir-fry for 2-3 minutes until pink and cooked through. Remove the shrimp and set aside.",
        "Add garlic, ginger, and red pepper flakes to the pan. Stir-fry for 30 seconds until fragrant.",
        "Add bell pepper, zucchini, and broccoli to the pan. Cook for 4-5 minutes until the vegetables are tender-crisp.",
        "Return the tofu and shrimp to the pan. Pour in soy sauce and toss everything together. Cook for another 2 minutes to heat through.",
        "Adjust seasoning with salt and pepper as needed. Remove from heat.",
        "Serve the zesty tofu and shrimp stir-fry over cooked rice. Garnish with chopped green onions. Enjoy!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 30,
        "fat": 15,
        "carbs": 30
    }
}
2025-07-06 19:04:06,524 - DEBUG - Matched ingredient 'tofu' to 'Tofu'
2025-07-06 19:04:06,525 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 19:04:06,525 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 19:04:06,526 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 19:04:06,527 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 19:04:06,528 - DEBUG - Matched ingredient 'broccoli' to 'Broccoli'
2025-07-06 19:04:06,529 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 19:04:06,530 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 19:04:06,530 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 19:04:06,531 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 19:04:06,532 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 19:04:06,533 - WARNING - No match found for ingredient: 'salt'
2025-07-06 19:04:06,533 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 19:04:06,534 - DEBUG - Matched ingredient 'green onions' to 'Onion'
2025-07-06 19:04:06,535 - DEBUG - Matched ingredient 'cooked rice' to 'Rice'
2025-07-06 19:04:06,549 - INFO - Recipe saved for user Detroit Project: Zesty Tofu and Shrimp Stir-Fry
2025-07-06 19:04:11,952 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:11,954 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:11,955 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 180
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOGrRF5n4be7WecAucHI466GQWEGGbOKuDsTRbD-q6Tv10zacTuZw-h3fJppEXMwzXsnDCQOtahP1DgiwIkqS0vVcdHkq9Xcigh8EEc2zi0TwXGqjVCLC5SKJwGYi5XACt6fimazknhrw0zWtwhFDaRxzhaxZBfJ7JAr-qWuWMebdr-h__vcPvjZjkfItKyv_pfXesHevzD6toyP776d0YZ5PAECL0a-.aGq6lg.CKT_Lpn-0XxzM8HAsb-h79uNitI


2025-07-06 19:04:11,956 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tofu","Shrimp","Cumin","Bell Pepper","Zucchini","Broccoli"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:04:11,957 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tofu', 'Shrimp', 'Cumin', 'Bell Pepper', 'Zucchini', 'Broccoli'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:04:11,958 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:11,960 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:11,961 - INFO - User Detroit Project's credits and API calls reset for the new day.
2025-07-06 19:04:11,961 - DEBUG - User Detroit Project - Credits: 2, API calls: 1 committed.
2025-07-06 19:04:11,962 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Tofu, Shrimp, Cumin, Bell Pepper, Zucchini, Broccoli. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 19:04:19,217 - DEBUG - OpenAI raw response: {
    "title": "Spicy Tofu and Shrimp Stir-Fry",
    "cuisine": "Asian",
    "dietary": [],
    "ingredients": [
        {"name": "Tofu", "quantity": "8 oz, cubed"},
        {"name": "Shrimp", "quantity": "8 oz, peeled and deveined"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Bell Pepper", "quantity": "1, sliced"},
        {"name": "Zucchini", "quantity": "1, sliced"},
        {"name": "Broccoli", "quantity": "1 cup, florets"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"},
        {"name": "Soy Sauce", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Ginger", "quantity": "1 tsp, minced"},
        {"name": "Chili Flakes", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Green Onions", "quantity": "2, chopped for garnish"}
    ],
    "instructions": [
        "In a bowl, combine soy sauce, cumin, garlic, ginger, chili flakes, salt, and black pepper. Add tofu cubes and shrimp, coat them well, and let marinate for 10 minutes.",
        "In a large skillet or wok, heat vegetable oil over medium-high heat. Add marinated tofu and shrimp, stir-fry for 2-3 minutes.",
        "Add bell pepper, zucchini, and broccoli to the skillet. Stir-fry for another 5-6 minutes until vegetables are tender yet crisp.",
        "Adjust seasoning with salt and pepper if needed. Sprinkle green onions on top.",
        "Serve the spicy tofu and shrimp stir-fry hot over steamed rice or noodles.",
        "Enjoy your flavorful and spicy dish!"
    ],
    "nutrition": {
        "calories": 320,
        "protein": 30,
        "fat": 15,
        "carbs": 20
    }
}
2025-07-06 19:04:19,218 - DEBUG - Matched ingredient 'tofu' to 'Tofu'
2025-07-06 19:04:19,218 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 19:04:19,218 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 19:04:19,219 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 19:04:19,219 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 19:04:19,220 - DEBUG - Matched ingredient 'broccoli' to 'Broccoli'
2025-07-06 19:04:19,220 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 19:04:19,221 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 19:04:19,221 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 19:04:19,222 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 19:04:19,222 - DEBUG - Matched ingredient 'chili flakes' to 'Chili Flakes'
2025-07-06 19:04:19,222 - WARNING - No match found for ingredient: 'salt'
2025-07-06 19:04:19,223 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 19:04:19,223 - DEBUG - Matched ingredient 'green onions' to 'Onion'
2025-07-06 19:04:19,233 - INFO - Recipe saved for user Detroit Project: Spicy Tofu and Shrimp Stir-Fry
2025-07-06 19:04:22,433 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:22,435 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:22,437 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 180
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuAjEQhOGrRF5n4be7WecAucHI466GQWEGGbOKuDsTRbD-q6Tv10zacTuZw-h3fJppEXMwzXsnDCQOtahP1DgiwIkqS0vVcdHkq9Xcigh8EEc2zi0TwXGqjVCLC5SKJwGYi5XACt6fimazknhrw0zWtwhFDaRxzhaxZBfJ7JAr-qWuWMebdr-h__vcPvjZjkfItKyv_pfXesHevzD6toyP776d0YZ5PAECL0a-.aGq6ow.KovoAlNDOG4LiBPEJED7YNERr0I


2025-07-06 19:04:22,438 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tofu","Shrimp","Cumin","Bell Pepper","Zucchini","Broccoli"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:04:22,438 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tofu', 'Shrimp', 'Cumin', 'Bell Pepper', 'Zucchini', 'Broccoli'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:04:22,439 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:22,441 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:22,443 - INFO - User Detroit Project's credits and API calls reset for the new day.
2025-07-06 19:04:22,444 - DEBUG - User Detroit Project - Credits: 2, API calls: 1 committed.
2025-07-06 19:04:22,445 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Tofu, Shrimp, Cumin, Bell Pepper, Zucchini, Broccoli. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 19:04:29,870 - DEBUG - OpenAI raw response: {
    "title": "Spicy Tofu and Shrimp Stir-Fry",
    "cuisine": "Asian",
    "dietary": [],
    "ingredients": [
        {"name": "Tofu", "quantity": "8 oz firm tofu, cubed"},
        {"name": "Shrimp", "quantity": "8 oz large shrimp, peeled and deveined"},
        {"name": "Cumin", "quantity": "1 tsp"},
        {"name": "Bell Pepper", "quantity": "1 medium, sliced"},
        {"name": "Zucchini", "quantity": "1 medium, sliced"},
        {"name": "Broccoli", "quantity": "1 cup florets"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"},
        {"name": "Soy Sauce", "quantity": "2 tbsp"},
        {"name": "Sriracha Sauce", "quantity": "1 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Ginger", "quantity": "1 tsp, minced"},
        {"name": "Red Pepper Flakes", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Cooked Rice", "quantity": "2 cups, for serving"},
        {"name": "Green Onions", "quantity": "2 stalks, chopped, for garnish"}
    ],
    "instructions": [
        "In a bowl, mix soy sauce, sriracha sauce, garlic, ginger, cumin, red pepper flakes, salt, and black pepper.",
        "Marinate shrimp in half of the sauce mixture for 10 minutes.",
        "In a wok or large skillet, heat vegetable oil over medium-high heat.",
        "Add tofu cubes and stir-fry until golden brown. Remove and set aside.",
        "In the same wok, add marinated shrimp and cook until pink. Remove and set aside.",
        "Stir-fry bell pepper, zucchini, and broccoli until slightly tender.",
        "Add the cooked tofu and shrimp back to the wok.",
        "Pour in the remaining sauce mixture and toss everything together for 2-3 minutes.",
        "Serve the spicy tofu and shrimp stir-fry over cooked rice.",
        "Garnish with chopped green onions before serving."
    ],
    "nutrition": {
        "calories": 380,
        "protein": 30,
        "fat": 16,
        "carbs": 30
    }
}
2025-07-06 19:04:29,871 - DEBUG - Matched ingredient 'tofu' to 'Tofu'
2025-07-06 19:04:29,872 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 19:04:29,873 - DEBUG - Matched ingredient 'cumin' to 'Cumin'
2025-07-06 19:04:29,873 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 19:04:29,874 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 19:04:29,875 - DEBUG - Matched ingredient 'broccoli' to 'Broccoli'
2025-07-06 19:04:29,876 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 19:04:29,876 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 19:04:29,877 - WARNING - No match found for ingredient: 'sriracha sauce'
2025-07-06 19:04:29,878 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 19:04:29,878 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 19:04:29,879 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 19:04:29,879 - WARNING - No match found for ingredient: 'salt'
2025-07-06 19:04:29,880 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 19:04:29,881 - DEBUG - Matched ingredient 'cooked rice' to 'Rice'
2025-07-06 19:04:29,882 - DEBUG - Matched ingredient 'green onions' to 'Onion'
2025-07-06 19:04:29,891 - INFO - Recipe saved for user Detroit Project: Spicy Tofu and Shrimp Stir-Fry
2025-07-06 19:04:36,723 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:36,726 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:44,327 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:44,330 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:44,331 - INFO - User logged out
2025-07-06 19:04:51,368 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '104032329201519720434', 'email': 'detroitprojectmusic@gmail.com', 'email_verified': True, 'at_hash': 'foSdbERmQisM8zmExHqpKw', 'nonce': 'wbOTHbVncNtoVDb1Zdg0', 'name': 'Detroit Project', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKH1khYbtueXVa355pquc2wd9dqhBVI2N9ow-l16K0Qk3YelbRT=s96-c', 'given_name': 'Detroit', 'family_name': 'Project', 'iat': 1751825093, 'exp': 1751828693}
2025-07-06 19:04:51,372 - INFO - User Detroit Project logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '1', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Detroit Project'}
2025-07-06 19:04:51,385 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:51,387 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:53,830 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:53,832 - DEBUG - User loaded: Detroit Project
2025-07-06 19:04:59,628 - DEBUG - load_user: db instance: 1900667086096, app: 1900684837952, current_app: 1900566526800
2025-07-06 19:04:59,631 - DEBUG - User loaded: Detroit Project
2025-07-06 19:13:08,946 - DEBUG - Initialized db with app, db instance: 2570221659408, app: 2570239411264, current_app: 2570120641360
2025-07-06 19:13:08,951 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:13:10,316 - DEBUG - load_user: db instance: 2570221659408, app: 2570239411264, current_app: 2570120641360
2025-07-06 19:13:10,332 - DEBUG - User loaded: Detroit Project
2025-07-06 19:13:14,513 - DEBUG - load_user: db instance: 2570221659408, app: 2570239411264, current_app: 2570120641360
2025-07-06 19:13:14,517 - DEBUG - User loaded: Detroit Project
2025-07-06 19:13:17,830 - DEBUG - load_user: db instance: 2570221659408, app: 2570239411264, current_app: 2570120641360
2025-07-06 19:13:17,834 - DEBUG - User loaded: Detroit Project
2025-07-06 19:14:27,776 - DEBUG - Initialized db with app, db instance: 1974710216624, app: 1974727968480, current_app: 1974608691504
2025-07-06 19:14:27,780 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:14:34,558 - DEBUG - Initialized db with app, db instance: 1529621063936, app: 1529638848560, current_app: 1529519243904
2025-07-06 19:14:34,560 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:14:47,295 - DEBUG - Initialized db with app, db instance: 1505579705616, app: 1505597441088, current_app: 1505479195808
2025-07-06 19:14:47,298 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:14:51,484 - DEBUG - Initialized db with app, db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:14:51,487 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:15:00,090 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:15:00,107 - DEBUG - User loaded: Detroit Project
2025-07-06 19:15:04,816 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:15:04,820 - DEBUG - User loaded: Detroit Project
2025-07-06 19:15:07,967 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:15:07,970 - DEBUG - User loaded: Detroit Project
2025-07-06 19:15:37,463 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:15:37,466 - DEBUG - User loaded: Detroit Project
2025-07-06 19:15:37,467 - INFO - User logged out
2025-07-06 19:15:46,160 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '105346857467561032846', 'email': 'futrbit@gmail.com', 'email_verified': True, 'at_hash': 'ThNNpkv5AmBCVjos13nkUQ', 'nonce': 'FySFKbdXBDBxrTgpaoHJ', 'name': "Michael's at work", 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKSOqFwKzTn6NWEhsA1uNjIoP9xRhXM7TKHJLnRF_HXZ8HJYQMt=s96-c', 'given_name': "Michael's", 'family_name': 'at work', 'iat': 1751825747, 'exp': 1751829347}
2025-07-06 19:15:46,169 - INFO - User Michael's at work logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '2', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': "Michael's at work"}
2025-07-06 19:15:46,179 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:15:46,183 - DEBUG - User loaded: Michael's at work
2025-07-06 19:15:58,351 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:15:58,353 - DEBUG - User loaded: Michael's at work
2025-07-06 19:15:58,354 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 154
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuwkAQhOGroNlkk8U8Pd3cIWew2tPVYAUMGhtlgbh7HEXJ-q-SvqcbrWM9u-PWH3h346zu6FqMQRkonKRaLNQ4IyGoGWsrErhaieJtaFUVMWkgn6c2ECFwkUaQGhKVGkkB5uo1sYH3p6H5wUij92kiH1uGQRJZngaPXIeQye2QO_pVFizbP-2xov_64j643E4n6Dgvf_0nL3LF3j_mdhZc3taDbIevW_90r2-MWEcS.aGq9Ug.riys0_QM1E9bnfWOflSbLO7LH14


2025-07-06 19:15:58,355 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Bell Pepper","Couscous"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:15:58,356 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Bell Pepper', 'Couscous'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:15:58,356 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:15:58,359 - DEBUG - User loaded: Michael's at work
2025-07-06 19:15:58,361 - INFO - User Michael's at work's credits and API calls reset for the new day.
2025-07-06 19:15:58,362 - DEBUG - User Michael's at work - Credits: 2, API calls: 1 committed.
2025-07-06 19:15:58,362 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Bell Pepper, Couscous. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 19:16:02,701 - DEBUG - OpenAI raw response: {
    "title": "Spicy Shrimp and Bell Pepper Couscous",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "12 large, peeled and deveined"},
        {"name": "Bell Pepper", "quantity": "1 large, sliced"},
        {"name": "Couscous", "quantity": "1 cup"},
        {"name": "Olive Oil", "quantity": "2 tablespoons"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Paprika", "quantity": "1 teaspoon"},
        {"name": "Cayenne Pepper", "quantity": "1/2 teaspoon"},
        {"name": "Salt", "quantity": "1/2 teaspoon"},
        {"name": "Black Pepper", "quantity": "1/4 teaspoon"},
        {"name": "Chicken or Vegetable Broth", "quantity": "1 1/2 cups"},
        {"name": "Fresh Parsley", "quantity": "2 tablespoons, chopped"}
    ],
    "instructions": [
        "In a large skillet, heat olive oil over medium heat.",
        "Add minced garlic and sliced bell pepper. Saute for 2-3 minutes until slightly softened.",
        "Push the bell pepper to the side of the skillet and add the shrimp. Season shrimp with paprika, cayenne pepper, salt, and black pepper. Cook for 2-3 minutes per side until shrimp is pink and cooked through.",
        "Meanwhile, in a separate pot, bring the chicken or vegetable broth to a boil.",
        "Stir in couscous, cover, and remove from heat. Let it sit for 5 minutes until couscous absorbs the liquid.",
        "Fluff the couscous with a fork and divide it between two plates.",
        "Top the couscous with the spicy shrimp and bell pepper mixture.",
        "Garnish with chopped parsley before serving.",
        "Enjoy your spicy shrimp and bell pepper couscous!"
    ],
    "nutrition": {
        "calories": 380,
        "protein": 28,
        "fat": 9,
        "carbs": 45
    }
}
2025-07-06 19:16:02,702 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 19:16:02,703 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 19:16:02,704 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-06 19:16:02,705 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 19:16:02,705 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 19:16:02,706 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 19:16:02,706 - WARNING - No match found for ingredient: 'cayenne pepper'
2025-07-06 19:16:02,706 - WARNING - No match found for ingredient: 'salt'
2025-07-06 19:16:02,707 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 19:16:02,707 - DEBUG - Matched ingredient 'chicken or vegetable broth' to 'Chicken'
2025-07-06 19:16:02,708 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-06 19:16:02,724 - INFO - Recipe saved for user Michael's at work: Spicy Shrimp and Bell Pepper Couscous
2025-07-06 19:16:09,941 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:16:09,943 - DEBUG - User loaded: Michael's at work
2025-07-06 19:16:26,805 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:16:26,808 - DEBUG - User loaded: Michael's at work
2025-07-06 19:16:37,039 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:16:37,042 - DEBUG - User loaded: Michael's at work
2025-07-06 19:16:37,043 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 155
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zktuwkAQhOGroNlkk8U8Pd3cIWew2tPVYAUMGhtlgbh7HEXJ-q-SvqcbrWM9u-PWH3h346zu6FqMQRkonKRaLNQ4IyGoGWsrErhaieJtaFUVMWkgn6c2ECFwkUaQGhKVGkkB5uo1sYH3p6H5wUij92kiH1uGQRJZngaPXIeQye2QO_pVFizbP-2xov_64j643E4n6Dgvf_0nL3LF3j_mdhZc3taDbIevW_90r2-MWEcS.aGq9eg.4zvla15fRJMzzCVFILxC8XYeHFU


2025-07-06 19:16:37,044 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Rice","Ginger","Carrot","Chicken"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:16:37,044 - DEBUG - Incoming /generate request.json: {'ingredients': ['Rice', 'Ginger', 'Carrot', 'Chicken'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:16:37,045 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:16:37,046 - DEBUG - User loaded: Michael's at work
2025-07-06 19:16:37,047 - INFO - User Michael's at work's credits and API calls reset for the new day.
2025-07-06 19:16:37,048 - DEBUG - User Michael's at work - Credits: 2, API calls: 1 committed.
2025-07-06 19:16:37,049 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Rice, Ginger, Carrot, Chicken. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 19:16:41,656 - DEBUG - OpenAI raw response: {
    "title": "Ginger Chicken Rice Bowl",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Chicken Breast", "quantity": "2 pieces"},
        {"name": "Rice", "quantity": "1 cup"},
        {"name": "Carrot", "quantity": "1 large, julienned"},
        {"name": "Ginger", "quantity": "1 tablespoon, minced"},
        {"name": "Chicken Broth", "quantity": "2 cups"},
        {"name": "Soy Sauce", "quantity": "2 tablespoons"},
        {"name": "Vegetable Oil", "quantity": "2 tablespoons"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Red Pepper Flakes", "quantity": "1/2 teaspoon"}
    ],
    "instructions": [
        "In a pan, heat vegetable oil over medium heat.",
        "Add minced ginger and sauté for 1-2 minutes until fragrant.",
        "Add chicken breast pieces and brown on both sides.",
        "Stir in julienned carrots, rice, chicken broth, soy sauce, salt, black pepper, and red pepper flakes.",
        "Bring to a boil, then reduce heat, cover, and simmer for 20 minutes or until chicken is cooked through and rice is tender.",
        "Once cooked, remove chicken, shred it, then return it to the rice mixture and mix well.",
        "Adjust seasoning if needed and serve the ginger chicken rice bowl hot.",
        "Enjoy your flavorful Ginger Chicken Rice Bowl!"
    ],
    "nutrition": {
        "calories": 480,
        "protein": 35,
        "fat": 10,
        "carbs": 60
    }
}
2025-07-06 19:16:41,658 - DEBUG - Matched ingredient 'chicken breast' to 'Chicken'
2025-07-06 19:16:41,659 - DEBUG - Matched ingredient 'rice' to 'Rice'
2025-07-06 19:16:41,659 - DEBUG - Matched ingredient 'carrot' to 'Carrot'
2025-07-06 19:16:41,660 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-06 19:16:41,660 - DEBUG - Matched ingredient 'chicken broth' to 'Chicken'
2025-07-06 19:16:41,661 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-06 19:16:41,661 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-06 19:16:41,661 - WARNING - No match found for ingredient: 'salt'
2025-07-06 19:16:41,662 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 19:16:41,662 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 19:16:41,674 - INFO - Recipe saved for user Michael's at work: Ginger Chicken Rice Bowl
2025-07-06 19:16:54,346 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:16:54,348 - DEBUG - User loaded: Michael's at work
2025-07-06 19:16:58,942 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:16:58,944 - DEBUG - User loaded: Michael's at work
2025-07-06 19:17:33,450 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:17:33,453 - DEBUG - User loaded: Michael's at work
2025-07-06 19:17:33,454 - INFO - User logged out
2025-07-06 19:17:58,457 - INFO - New user registered: kenn
2025-07-06 19:18:16,499 - INFO - User kenn logged in, session: {'_fresh': True, '_permanent': True, '_state_google_ch6gh8wxrS10qkFSIdhvkh0TNAaGJ9': {'data': {'nonce': 'flmrPHwhbU2mUHjyLEeO', 'redirect_uri': 'http://127.0.0.1:5000/google-callback', 'url': 'https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com&redirect_uri=http%3A%2F%2F127.0.0.1%3A5000%2Fgoogle-callback&scope=openid+email+profile&state=ch6gh8wxrS10qkFSIdhvkh0TNAaGJ9&nonce=flmrPHwhbU2mUHjyLEeO'}, 'exp': 1751829455.1875432}, '_user_id': '8', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'kenn'}
2025-07-06 19:18:16,510 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:18:16,511 - DEBUG - User loaded: kenn
2025-07-06 19:18:29,260 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:18:29,262 - DEBUG - User loaded: kenn
2025-07-06 19:18:29,263 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 156
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJx9UmFr3SAU_S9C35e2L2pi1MBj9MO6boxt0PVzMHpNsiSaGfPaUvrfZ_rWMsYYKsr1XM895_qEahtg6VAVwwoXqO4NqpCmlBgJwGSuuKVMaFlADsRYK41mikhuGVXYlpobAzQ3ROCi0aUQQCRTWoDiJBeMU2EApOTY5NKCTJkWNC6tMBTjvBGY6gIsqFzYoikxFLwkhUCpkBnCpBy4-FbaElWEuvW-HaHWXdl24v4h3BL8c7i-_Wi649Dh71-u1IdPElVPyKiott15pyGJsuMUvt3cd80dne5ufjx-fg9fE1EA0wfQsV5Dn1BdjHOVZYTyPU6DVAxjnJ1IL7Uax0bpIaWtYfyNXhJcae1XF5f9CbjXfsp85tUaO5odabYd3iWfZ-8WqOPjDAftDez02CeFyfQDwSUpOStZ8k9cjlRYcjSq6a1hOrbsSOiRD4scJFaDmfdqnl_J1gWC9i6mhzbe3Z-CDluBZ_nVGb1O801UimyyUugvYbtF-1RbWq435zCpfjyfg7f9CLsX-w__9333Yvbhn1Y_XyB4mFFFOCOCyoKxPRGcFTlNN_Wm4vT5tu6Pvm3B1L17bf527dS09XEA59DzL3TF4b0.aGq96A.9zQRgusogfzJU5mb6KaKokcoNlY


2025-07-06 19:18:29,265 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Tomato","Onion","Oregano"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:18:29,266 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Tomato', 'Onion', 'Oregano'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:18:29,266 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:18:29,268 - DEBUG - User loaded: kenn
2025-07-06 19:18:29,269 - INFO - User kenn's credits and API calls reset for the new day.
2025-07-06 19:18:29,270 - DEBUG - User kenn - Credits: 2, API calls: 1 committed.
2025-07-06 19:18:29,270 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Tomato, Onion, Oregano. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 19:18:35,270 - DEBUG - OpenAI raw response: {
    "title": "Mediterranean Shrimp Skillet",
    "cuisine": "Mediterranean",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "10 large, peeled and deveined"},
        {"name": "Tomato", "quantity": "1 large, diced"},
        {"name": "Onion", "quantity": "1 medium, sliced"},
        {"name": "Oregano", "quantity": "1 tsp"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Red Pepper Flakes", "quantity": "1/2 tsp"},
        {"name": "Fresh Parsley", "quantity": "for garnish"}
    ],
    "instructions": [
        "In a skillet, heat olive oil over medium heat.",
        "Add sliced onions and minced garlic, sauté until onions are translucent.",
        "Add diced tomatoes, oregano, salt, black pepper, and red pepper flakes. Cook for 5 minutes.",
        "Push the tomato mixture to the side of the skillet and add shrimp. Cook for 2-3 minutes per side until pink and cooked through.",
        "Mix the shrimp with the tomato mixture. Adjust seasoning if needed.",
        "Garnish with fresh parsley and serve hot over rice or with crusty bread."
    ],
    "nutrition": {
        "calories": 250,
        "protein": 25,
        "fat": 10,
        "carbs": 15
    }
}
2025-07-06 19:18:35,272 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-06 19:18:35,272 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 19:18:35,273 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-06 19:18:35,273 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-06 19:18:35,274 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 19:18:35,275 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 19:18:35,275 - WARNING - No match found for ingredient: 'salt'
2025-07-06 19:18:35,276 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 19:18:35,277 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 19:18:35,278 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-06 19:18:35,288 - INFO - Recipe saved for user kenn: Mediterranean Shrimp Skillet
2025-07-06 19:18:40,739 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:18:40,741 - DEBUG - User loaded: kenn
2025-07-06 19:18:44,295 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:18:44,297 - DEBUG - User loaded: kenn
2025-07-06 19:18:51,979 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:18:51,981 - DEBUG - User loaded: kenn
2025-07-06 19:18:51,982 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 152
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJx9UmFr3SAU_S9C35e2L2pi1MBj9MO6boxt0PVzMHpNsiSaGfPaUvrfZ_rWMsYYKsr1XM895_qEahtg6VAVwwoXqO4NqpCmlBgJwGSuuKVMaFlADsRYK41mikhuGVXYlpobAzQ3ROCi0aUQQCRTWoDiJBeMU2EApOTY5NKCTJkWNC6tMBTjvBGY6gIsqFzYoikxFLwkhUCpkBnCpBy4-FbaElWEuvW-HaHWXdl24v4h3BL8c7i-_Wi649Dh71-u1IdPElVPyKiott15pyGJsuMUvt3cd80dne5ufjx-fg9fE1EA0wfQsV5Dn1BdjHOVZYTyPU6DVAxjnJ1IL7Uax0bpIaWtYfyNXhJcae1XF5f9CbjXfsp85tUaO5odabYd3iWfZ-8WqOPjDAftDez02CeFyfQDwSUpOStZ8k9cjlRYcjSq6a1hOrbsSOiRD4scJFaDmfdqnl_J1gWC9i6mhzbe3Z-CDluBZ_nVGb1O801UimyyUugvYbtF-1RbWq435zCpfjyfg7f9CLsX-w__9333Yvbhn1Y_XyB4mFFFOCOCyoKxPRGcFTlNN_Wm4vT5tu6Pvm3B1L17bf527dS09XEA59DzL3TF4b0.aGq-BA.rMnrIqX5X4hy8nF6hqLRATK1Crc


2025-07-06 19:18:51,983 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Fish","Spinach","Thyme"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:18:51,984 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Fish', 'Spinach', 'Thyme'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:18:51,984 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:18:51,987 - DEBUG - User loaded: kenn
2025-07-06 19:18:51,988 - INFO - User kenn's credits and API calls reset for the new day.
2025-07-06 19:18:51,988 - DEBUG - User kenn - Credits: 2, API calls: 1 committed.
2025-07-06 19:18:51,989 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Lamb, Fish, Spinach, Thyme. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 19:18:58,913 - DEBUG - OpenAI raw response: {
    "title": "Savory Lamb and Fish Spinach Bake",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Lamb chops", "quantity": "4 pieces"},
        {"name": "White fish fillets", "quantity": "2 pieces"},
        {"name": "Fresh spinach", "quantity": "2 cups"},
        {"name": "Fresh thyme leaves", "quantity": "1 tbsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black pepper", "quantity": "to taste"},
        {"name": "Paprika", "quantity": "1 tsp"},
        {"name": "Olive oil", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "Preheat the oven to 350°F (180°C).",
        "Season the lamb chops and fish fillets with salt, black pepper, and paprika.",
        "Heat olive oil in a skillet over medium-high heat.",
        "Sear the lamb chops for 2-3 minutes per side until browned. Remove from the skillet and set aside.",
        "In the same skillet, sear the fish fillets for 1-2 minutes per side until golden. Remove from the skillet and set aside.",
        "In a baking dish, layer the fresh spinach at the bottom.",
        "Place the seared lamb chops on top of the spinach, followed by the fish fillets.",
        "Sprinkle fresh thyme leaves over the top.",
        "Cover the baking dish with foil and bake in the preheated oven for 15-20 minutes until the lamb and fish are cooked through.",
        "Remove the foil and broil for an additional 2-3 minutes to crisp up the top.",
        "Serve hot and enjoy!"
    ],
    "nutrition": {
        "calories": 520,
        "protein": 50,
        "fat": 28,
        "carbs": 10
    }
}
2025-07-06 19:18:58,915 - DEBUG - Matched ingredient 'lamb chops' to 'Lamb'
2025-07-06 19:18:58,916 - DEBUG - Matched ingredient 'white fish fillets' to 'Fish'
2025-07-06 19:18:58,916 - DEBUG - Matched ingredient 'fresh spinach' to 'Spinach'
2025-07-06 19:18:58,917 - DEBUG - Matched ingredient 'fresh thyme leaves' to 'Thyme'
2025-07-06 19:18:58,918 - WARNING - No match found for ingredient: 'salt'
2025-07-06 19:18:58,919 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 19:18:58,919 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-06 19:18:58,920 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 19:18:58,931 - INFO - Recipe saved for user kenn: Savory Lamb and Fish Spinach Bake
2025-07-06 19:19:06,386 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:19:06,388 - DEBUG - User loaded: kenn
2025-07-06 19:19:18,034 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:19:18,037 - DEBUG - User loaded: kenn
2025-07-06 19:19:18,038 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 168
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJx9UmFr3SAU_S9C35e2L2pi1MBj9MO6boxt0PVzMHpNsiSaGfPaUvrfZ_rWMsYYKsr1XM895_qEahtg6VAVwwoXqO4NqpCmlBgJwGSuuKVMaFlADsRYK41mikhuGVXYlpobAzQ3ROCi0aUQQCRTWoDiJBeMU2EApOTY5NKCTJkWNC6tMBTjvBGY6gIsqFzYoikxFLwkhUCpkBnCpBy4-FbaElWEuvW-HaHWXdl24v4h3BL8c7i-_Wi649Dh71-u1IdPElVPyKiott15pyGJsuMUvt3cd80dne5ufjx-fg9fE1EA0wfQsV5Dn1BdjHOVZYTyPU6DVAxjnJ1IL7Uax0bpIaWtYfyNXhJcae1XF5f9CbjXfsp85tUaO5odabYd3iWfZ-8WqOPjDAftDez02CeFyfQDwSUpOStZ8k9cjlRYcjSq6a1hOrbsSOiRD4scJFaDmfdqnl_J1gWC9i6mhzbe3Z-CDluBZ_nVGb1O801UimyyUugvYbtF-1RbWq435zCpfjyfg7f9CLsX-w__9333Yvbhn1Y_XyB4mFFFOCOCyoKxPRGcFTlNN_Wm4vT5tu6Pvm3B1L17bf527dS09XEA59DzL3TF4b0.aGq-Gg.Ll9NZc9o7GdFI9dBoFPUiUOFVb8


2025-07-06 19:19:18,039 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Cauliflower","Zucchini","Thyme","Pasta","Beef"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:19:18,040 - DEBUG - Incoming /generate request.json: {'ingredients': ['Cauliflower', 'Zucchini', 'Thyme', 'Pasta', 'Beef'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:19:18,040 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:19:18,043 - DEBUG - User loaded: kenn
2025-07-06 19:19:18,045 - INFO - User kenn's credits and API calls reset for the new day.
2025-07-06 19:19:18,046 - DEBUG - User kenn - Credits: 2, API calls: 1 committed.
2025-07-06 19:19:18,047 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Cauliflower, Zucchini, Thyme, Pasta, Beef. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 19:19:22,064 - DEBUG - OpenAI raw response: {
    "title": "Beef and Veggie Pasta Skillet",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Cauliflower", "quantity": "2 cups, chopped"},
        {"name": "Zucchini", "quantity": "1 medium, sliced"},
        {"name": "Thyme", "quantity": "1 tsp, dried"},
        {"name": "Pasta", "quantity": "6 oz, uncooked"},
        {"name": "Beef", "quantity": "8 oz, sliced thinly"},
        {"name": "Salt", "quantity": "1/2 tsp"},
        {"name": "Black Pepper", "quantity": "1/4 tsp"},
        {"name": "Garlic Powder", "quantity": "1/2 tsp"},
        {"name": "Olive Oil", "quantity": "2 tbsp"}
    ],
    "instructions": [
        "1. Cook the pasta according to package instructions. Drain and set aside.",
        "2. In a large skillet, heat olive oil over medium heat.",
        "3. Add the sliced beef to the skillet and cook until browned, about 3-4 minutes.",
        "4. Add the cauliflower and zucchini to the skillet. Cook for another 5 minutes until slightly tender.",
        "5. Season with thyme, salt, pepper, and garlic powder. Stir well to combine.",
        "6. Add the cooked pasta to the skillet and toss everything together for 2-3 minutes to heat through.",
        "7. Adjust seasoning if needed and serve hot.",
        "8. Enjoy your Beef and Veggie Pasta Skillet!"
    ],
    "nutrition": {
        "calories": 650,
        "protein": 45,
        "fat": 18,
        "carbs": 75
    }
}
2025-07-06 19:19:22,066 - DEBUG - Matched ingredient 'cauliflower' to 'Cauliflower'
2025-07-06 19:19:22,066 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-06 19:19:22,067 - DEBUG - Matched ingredient 'thyme' to 'Thyme'
2025-07-06 19:19:22,067 - DEBUG - Matched ingredient 'pasta' to 'Pasta'
2025-07-06 19:19:22,068 - DEBUG - Matched ingredient 'beef' to 'Beef'
2025-07-06 19:19:22,068 - WARNING - No match found for ingredient: 'salt'
2025-07-06 19:19:22,069 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 19:19:22,070 - DEBUG - Matched ingredient 'garlic powder' to 'Garlic'
2025-07-06 19:19:22,070 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 19:19:22,081 - INFO - Recipe saved for user kenn: Beef and Veggie Pasta Skillet
2025-07-06 19:19:28,281 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:19:28,284 - DEBUG - User loaded: kenn
2025-07-06 19:19:34,675 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:19:34,676 - DEBUG - User loaded: kenn
2025-07-06 19:19:43,121 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:19:43,122 - DEBUG - User loaded: kenn
2025-07-06 19:19:43,123 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 167
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJx9UmFr3SAU_S9C35e2L2pi1MBj9MO6boxt0PVzMHpNsiSaGfPaUvrfZ_rWMsYYKsr1XM895_qEahtg6VAVwwoXqO4NqpCmlBgJwGSuuKVMaFlADsRYK41mikhuGVXYlpobAzQ3ROCi0aUQQCRTWoDiJBeMU2EApOTY5NKCTJkWNC6tMBTjvBGY6gIsqFzYoikxFLwkhUCpkBnCpBy4-FbaElWEuvW-HaHWXdl24v4h3BL8c7i-_Wi649Dh71-u1IdPElVPyKiott15pyGJsuMUvt3cd80dne5ufjx-fg9fE1EA0wfQsV5Dn1BdjHOVZYTyPU6DVAxjnJ1IL7Uax0bpIaWtYfyNXhJcae1XF5f9CbjXfsp85tUaO5odabYd3iWfZ-8WqOPjDAftDez02CeFyfQDwSUpOStZ8k9cjlRYcjSq6a1hOrbsSOiRD4scJFaDmfdqnl_J1gWC9i6mhzbe3Z-CDluBZ_nVGb1O801UimyyUugvYbtF-1RbWq435zCpfjyfg7f9CLsX-w__9333Yvbhn1Y_XyB4mFFFOCOCyoKxPRGcFTlNN_Wm4vT5tu6Pvm3B1L17bf527dS09XEA59DzL3TF4b0.aGq-Ng.DXgcKiPl0aDum-pFQ6fGKRhjjzc


2025-07-06 19:19:43,124 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Bell Pepper","Tomato","Basil","Pasta","Bread"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:19:43,124 - DEBUG - Incoming /generate request.json: {'ingredients': ['Bell Pepper', 'Tomato', 'Basil', 'Pasta', 'Bread'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:19:43,125 - DEBUG - load_user: db instance: 2062430774544, app: 2062448526400, current_app: 2062330149712
2025-07-06 19:19:43,127 - DEBUG - User loaded: kenn
2025-07-06 19:19:43,128 - INFO - User kenn's credits and API calls reset for the new day.
2025-07-06 19:19:43,128 - DEBUG - User kenn - Credits: 2, API calls: 1 committed.
2025-07-06 19:19:43,129 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Bell Pepper, Tomato, Basil, Pasta, Bread. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-06 19:19:47,153 - DEBUG - OpenAI raw response: {
    "title": "Caprese Pasta Salad with Toasted Bread Crumbs",
    "cuisine": "Italian",
    "dietary": [],
    "ingredients": [
        {"name": "Bell Pepper", "quantity": "1 large, diced"},
        {"name": "Tomato", "quantity": "1 large, diced"},
        {"name": "Basil", "quantity": "1/4 cup, chopped"},
        {"name": "Pasta", "quantity": "6 oz"},
        {"name": "Bread", "quantity": "2 slices"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Red Pepper Flakes", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"}
    ],
    "instructions": [
        "Cook the pasta according to package instructions. Drain and set aside to cool.",
        "In a skillet, heat 1 tbsp of olive oil over medium heat. Add the bread slices and toast until golden brown. Remove from skillet, let cool, then pulse in a food processor to make bread crumbs.",
        "In the same skillet, add the remaining olive oil. Sauté the garlic and red pepper flakes for 1-2 minutes until fragrant.",
        "Add the diced bell pepper and tomato to the skillet. Cook for 3-4 minutes until slightly softened.",
        "In a large bowl, combine the cooked pasta, sautéed vegetables, chopped basil, salt, and black pepper. Toss well to mix.",
        "Sprinkle the toasted bread crumbs on top before serving.",
        "Enjoy your delicious Caprese Pasta Salad with Toasted Bread Crumbs!"
    ],
    "nutrition": {
        "calories": 450,
        "protein": 12,
        "fat": 12,
        "carbs": 75
    }
}
2025-07-06 19:19:47,154 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-06 19:19:47,155 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-06 19:19:47,156 - DEBUG - Matched ingredient 'basil' to 'Basil'
2025-07-06 19:19:47,156 - DEBUG - Matched ingredient 'pasta' to 'Pasta'
2025-07-06 19:19:47,157 - DEBUG - Matched ingredient 'bread' to 'Bread'
2025-07-06 19:19:47,157 - WARNING - No match found for ingredient: 'olive oil'
2025-07-06 19:19:47,158 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-06 19:19:47,159 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-06 19:19:47,159 - WARNING - No match found for ingredient: 'salt'
2025-07-06 19:19:47,160 - WARNING - No match found for ingredient: 'black pepper'
2025-07-06 19:19:47,171 - INFO - Recipe saved for user kenn: Caprese Pasta Salad with Toasted Bread Crumbs
2025-07-06 19:25:11,162 - DEBUG - Initialized db with app, db instance: 1996120712464, app: 1996138464320, current_app: 1996020553024
2025-07-06 19:25:11,165 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:25:16,218 - DEBUG - load_user: db instance: 1996120712464, app: 1996138464320, current_app: 1996020553024
2025-07-06 19:25:16,238 - DEBUG - User loaded: kenn
2025-07-06 19:25:28,356 - DEBUG - load_user: db instance: 1996120712464, app: 1996138464320, current_app: 1996020553024
2025-07-06 19:25:28,358 - DEBUG - User loaded: kenn
2025-07-06 19:25:28,359 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 167
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJx9UmFr3SAU_S9C35e2L2pi1MBj9MO6boxt0PVzMHpNsiSaGfPaUvrfZ_rWMsYYKsr1XM895_qEahtg6VAVwwoXqO4NqpCmlBgJwGSuuKVMaFlADsRYK41mikhuGVXYlpobAzQ3ROCi0aUQQCRTWoDiJBeMU2EApOTY5NKCTJkWNC6tMBTjvBGY6gIsqFzYoikxFLwkhUCpkBnCpBy4-FbaElWEuvW-HaHWXdl24v4h3BL8c7i-_Wi649Dh71-u1IdPElVPyKiott15pyGJsuMUvt3cd80dne5ufjx-fg9fE1EA0wfQsV5Dn1BdjHOVZYTyPU6DVAxjnJ1IL7Uax0bpIaWtYfyNXhJcae1XF5f9CbjXfsp85tUaO5odabYd3iWfZ-8WqOPjDAftDez02CeFyfQDwSUpOStZ8k9cjlRYcjSq6a1hOrbsSOiRD4scJFaDmfdqnl_J1gWC9i6mhzbe3Z-CDluBZ_nVGb1O801UimyyUugvYbtF-1RbWq435zCpfjyfg7f9CLsX-w__9333Yvbhn1Y_XyB4mFFFOCOCyoKxPRGcFTlNN_Wm4vT5tu6Pvm3B1L17bf527dS09XEA59DzL3TF4b0.aGq_jA.d8etkhW4n883qbZoQt7yRLiX_Wg


2025-07-06 19:25:28,360 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Fish","Tomato","Turmeric","Quinoa","Broccoli"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-06 19:25:28,360 - DEBUG - Incoming /generate request.json: {'ingredients': ['Fish', 'Tomato', 'Turmeric', 'Quinoa', 'Broccoli'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-06 19:25:28,361 - DEBUG - load_user: db instance: 1996120712464, app: 1996138464320, current_app: 1996020553024
2025-07-06 19:25:28,362 - DEBUG - User loaded: kenn
2025-07-06 19:25:28,363 - INFO - User kenn's credits and API calls reset for the new day.
2025-07-06 19:25:28,365 - ERROR - DB commit failed after limit decrement for kenn: Instance '<User at 0x1d0c33b0f50>' is not persistent within this Session
2025-07-06 19:27:24,389 - DEBUG - Initialized db with app, db instance: 2223292753168, app: 2223310505024, current_app: 2223192193872
2025-07-06 19:27:24,392 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:27:50,699 - DEBUG - Initialized db with app, db instance: 2482257454352, app: 2482275189824, current_app: 2482156951616
2025-07-06 19:27:50,702 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:27:51,209 - DEBUG - Initialized db with app, db instance: 2482257454352, app: 2482275589392, current_app: 2482156951616
2025-07-06 19:27:51,210 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:28:27,066 - DEBUG - Initialized db with app, db instance: 1730552407312, app: 1730570142784, current_app: 1730451438944
2025-07-06 19:28:27,069 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:28:31,625 - DEBUG - Initialized db with app, db instance: 1931739145488, app: 1931756880960, current_app: 1931638455504
2025-07-06 19:28:31,628 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 19:28:32,338 - DEBUG - load_user: db instance: 1931739145488, app: 1931756880960, current_app: 1931638455504
2025-07-06 19:28:32,348 - DEBUG - User loaded: kenn
2025-07-06 19:35:58,385 - DEBUG - load_user: db instance: 1931739145488, app: 1931756880960, current_app: 1931638455504
2025-07-06 19:35:58,391 - DEBUG - User loaded: kenn
2025-07-06 19:35:58,392 - INFO - User logged out
2025-07-06 20:03:06,713 - DEBUG - Initialized db with app, db instance: 2454125421840, app: 2454143091776, current_app: 2454025043296
2025-07-06 20:03:06,717 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 20:03:11,101 - DEBUG - Initialized db with app, db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-06 20:03:11,104 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-06 20:24:06,835 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '100159459859503273137', 'email': 'earthstonecraftshop@gmail.com', 'email_verified': True, 'at_hash': 'AhmIPXM3mJnf2bKrqLB1xg', 'nonce': 'Gg5vi6q7PvxYjkBUy6wq', 'name': 'Michael', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocJKLq-gARK3TCRipcR6YTs9q_U7ghimnqnKGM_wy1jmGttfeA=s96-c', 'given_name': 'Michael', 'iat': 1751829848, 'exp': 1751833448}
2025-07-06 20:24:06,880 - INFO - User Michael logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '4', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Michael'}
2025-07-06 20:24:06,891 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-06 20:24:06,895 - DEBUG - User loaded: Michael
2025-07-06 21:36:56,059 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-06 21:36:56,117 - DEBUG - User loaded: Michael
2025-07-06 21:36:56,119 - INFO - User logged out
2025-07-07 00:31:14,028 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '109658376252870367793', 'email': 'entcorpinternational@gmail.com', 'email_verified': True, 'at_hash': 'C4HzPWYkcle0Upy__-y4iA', 'nonce': 'svNyzKl3qzIb3ZKOB1UY', 'name': 'Michael Kennedy', 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocIZTnQeuaaryZ5GB3tPJey3jrAcWxKd_pPlLCXOXgz5IuAjYw=s96-c', 'given_name': 'Michael', 'family_name': 'Kennedy', 'iat': 1751844676, 'exp': 1751848276}
2025-07-07 00:31:14,072 - INFO - User Michael Kennedy logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '5', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'Michael Kennedy'}
2025-07-07 00:31:14,089 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:31:14,093 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:31:23,754 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:31:23,757 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:31:40,387 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:31:40,390 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:31:50,354 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:31:50,357 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:31:50,363 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 161
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGsHXA.ccWkWO-gNEtCMmOgtz7JTTGAQ-c


2025-07-07 00:31:50,373 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Shrimp","Couscous","Oregano","Broccoli"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-07 00:31:50,375 - DEBUG - Incoming /generate request.json: {'ingredients': ['Shrimp', 'Couscous', 'Oregano', 'Broccoli'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-07 00:31:50,376 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:31:50,377 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:31:50,383 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-07 00:31:50,384 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-07 00:31:50,385 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Shrimp, Couscous, Oregano, Broccoli. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-07 00:31:57,571 - DEBUG - OpenAI raw response: {
    "title": "Herbed Shrimp and Broccoli Couscous",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Shrimp", "quantity": "12 large, peeled and deveined"},
        {"name": "Couscous", "quantity": "1 cup"},
        {"name": "Oregano", "quantity": "1 teaspoon, dried"},
        {"name": "Broccoli", "quantity": "2 cups, chopped"},
        {"name": "Olive Oil", "quantity": "2 tablespoons"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Lemon Juice", "quantity": "2 tablespoons"},
        {"name": "Salt", "quantity": "1/2 teaspoon"},
        {"name": "Black Pepper", "quantity": "1/4 teaspoon"},
        {"name": "Red Pepper Flakes", "quantity": "1/4 teaspoon"},
        {"name": "Water", "quantity": "2 cups"}
    ],
    "instructions": [
        "In a bowl, combine shrimp with olive oil, oregano, garlic, lemon juice, salt, black pepper, and red pepper flakes. Let marinate for 10 minutes.",
        "In a large skillet over medium heat, cook the marinated shrimp for 2-3 minutes per side until pink and cooked through. Remove shrimp from the skillet and set aside.",
        "In the same skillet, add broccoli and sauté for 4-5 minutes until slightly tender.",
        "Meanwhile, prepare couscous according to package instructions using water or broth for added flavor.",
        "Fluff the cooked couscous with a fork and season with salt and pepper to taste.",
        "Serve the herbed shrimp over a bed of seasoned couscous with sautéed broccoli on the side.",
        "Garnish with fresh parsley and a squeeze of lemon juice before serving."
    ],
    "nutrition": {
        "calories": 380,
        "protein": 28,
        "fat": 9,
        "carbs": 45
    }
}
2025-07-07 00:31:57,573 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-07 00:31:57,574 - DEBUG - Matched ingredient 'couscous' to 'Couscous'
2025-07-07 00:31:57,574 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-07 00:31:57,575 - DEBUG - Matched ingredient 'broccoli' to 'Broccoli'
2025-07-07 00:31:57,576 - WARNING - No match found for ingredient: 'olive oil'
2025-07-07 00:31:57,576 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-07 00:31:57,577 - WARNING - No match found for ingredient: 'lemon juice'
2025-07-07 00:31:57,578 - WARNING - No match found for ingredient: 'salt'
2025-07-07 00:31:57,579 - WARNING - No match found for ingredient: 'black pepper'
2025-07-07 00:31:57,579 - WARNING - No match found for ingredient: 'red pepper flakes'
2025-07-07 00:31:57,580 - WARNING - No match found for ingredient: 'water'
2025-07-07 00:31:57,611 - INFO - Recipe saved for user Michael Kennedy: Herbed Shrimp and Broccoli Couscous
2025-07-07 00:32:26,771 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:32:26,773 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:32:33,190 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:32:33,192 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:32:33,193 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 145
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGsHig.u6E65qjYIWAdeXLseonb3z8USqg


2025-07-07 00:32:33,194 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Bread","Thyme","Tomato"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-07 00:32:33,195 - DEBUG - Incoming /generate request.json: {'ingredients': ['Bread', 'Thyme', 'Tomato'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-07 00:32:33,196 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:32:33,198 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:32:33,199 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-07 00:32:33,200 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-07 00:32:33,201 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Bread, Thyme, Tomato. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-07 00:32:38,935 - DEBUG - OpenAI raw response: {
    "title": "Tomato Thyme Bruschetta",
    "cuisine": "Italian",
    "dietary": [],
    "ingredients": [
        {"name": "Bread slices", "quantity": "4 slices"},
        {"name": "Fresh thyme leaves", "quantity": "1 tbsp"},
        {"name": "Tomato", "quantity": "1 large, diced"},
        {"name": "Olive oil", "quantity": "2 tbsp"},
        {"name": "Garlic clove", "quantity": "1, minced"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black pepper", "quantity": "to taste"}
    ],
    "instructions": [
        "Preheat the oven to 375°F (190°C).",
        "In a bowl, mix diced tomatoes, minced garlic, fresh thyme leaves, salt, and black pepper. Let it sit for 10 minutes for flavors to meld.",
        "Brush olive oil on both sides of bread slices and place them on a baking sheet. Toast in the oven until golden brown, about 5-7 minutes per side.",
        "Top the toasted bread slices with the tomato mixture.",
        "Drizzle a little extra olive oil on top and garnish with additional thyme leaves.",
        "Serve the Tomato Thyme Bruschetta warm and enjoy!"
    ],
    "nutrition": {
        "calories": 220,
        "protein": 4,
        "fat": 7,
        "carbs": 35
    }
}
2025-07-07 00:32:38,936 - DEBUG - Matched ingredient 'bread slices' to 'Bread'
2025-07-07 00:32:38,937 - DEBUG - Matched ingredient 'fresh thyme leaves' to 'Thyme'
2025-07-07 00:32:38,938 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-07 00:32:38,939 - WARNING - No match found for ingredient: 'olive oil'
2025-07-07 00:32:38,939 - DEBUG - Matched ingredient 'garlic clove' to 'Garlic'
2025-07-07 00:32:38,940 - WARNING - No match found for ingredient: 'salt'
2025-07-07 00:32:38,941 - WARNING - No match found for ingredient: 'black pepper'
2025-07-07 00:32:38,956 - INFO - Recipe saved for user Michael Kennedy: Tomato Thyme Bruschetta
2025-07-07 00:33:02,933 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:33:02,936 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:33:02,937 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 144
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGsHlg._n9bBxjHT25QFtFCAjWY_Eo_E2c


2025-07-07 00:33:02,938 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Thyme","Eggs","Tomato"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-07 00:33:02,939 - DEBUG - Incoming /generate request.json: {'ingredients': ['Thyme', 'Eggs', 'Tomato'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-07 00:33:02,940 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:33:02,942 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:33:02,944 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-07 00:33:02,944 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-07 00:33:02,945 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Thyme, Eggs, Tomato. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-07 00:33:08,669 - DEBUG - OpenAI raw response: {
    "title": "Herbed Tomato Omelette",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Eggs", "quantity": "4 large"},
        {"name": "Tomato", "quantity": "1 medium, diced"},
        {"name": "Thyme", "quantity": "1 tsp, chopped"},
        {"name": "Salt", "quantity": "1/2 tsp"},
        {"name": "Black Pepper", "quantity": "1/4 tsp"},
        {"name": "Olive Oil", "quantity": "1 tbsp"}
    ],
    "instructions": [
        "In a bowl, whisk the eggs until well combined. Season with salt and black pepper.",
        "Heat olive oil in a non-stick pan over medium heat. Add diced tomatoes and chopped thyme. Cook for 2-3 minutes until tomatoes soften.",
        "Pour the whisked eggs over the tomatoes in the pan. Tilt the pan to spread the eggs evenly.",
        "Cook the omelette for 3-4 minutes until the edges start to set. Gently lift the edges with a spatula to let the uncooked eggs flow to the bottom.",
        "Once the omelette is mostly set but slightly runny in the middle, carefully fold it in half using the spatula.",
        "Cook for another minute to set the eggs completely. Slide the omelette onto a plate and serve hot.",
        "Garnish with extra chopped thyme if desired."
    ],
    "nutrition": {
        "calories": 215,
        "protein": 16,
        "fat": 15,
        "carbs": 4
    }
}
2025-07-07 00:33:08,670 - DEBUG - Matched ingredient 'eggs' to 'Eggs'
2025-07-07 00:33:08,671 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-07 00:33:08,671 - DEBUG - Matched ingredient 'thyme' to 'Thyme'
2025-07-07 00:33:08,672 - WARNING - No match found for ingredient: 'salt'
2025-07-07 00:33:08,672 - WARNING - No match found for ingredient: 'black pepper'
2025-07-07 00:33:08,673 - WARNING - No match found for ingredient: 'olive oil'
2025-07-07 00:33:08,687 - INFO - Recipe saved for user Michael Kennedy: Herbed Tomato Omelette
2025-07-07 00:33:36,494 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:33:36,496 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:33:36,498 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 149
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGsHtA.MSrCH7_pxhf9nTlYjlrLIA6RkQk


2025-07-07 00:33:36,500 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Potatoes","Tofu","Turmeric"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-07 00:33:36,500 - DEBUG - Incoming /generate request.json: {'ingredients': ['Potatoes', 'Tofu', 'Turmeric'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-07 00:33:36,501 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:33:36,504 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:33:36,506 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-07 00:33:36,506 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-07 00:33:36,507 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Potatoes, Tofu, Turmeric. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-07 00:33:42,203 - DEBUG - OpenAI raw response: {
    "title": "Golden Tofu Potato Skillet",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Potatoes", "quantity": "2 medium, diced"},
        {"name": "Tofu", "quantity": "200g, cubed"},
        {"name": "Turmeric", "quantity": "1 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Pepper", "quantity": "to taste"},
        {"name": "Paprika", "quantity": "1/2 tsp"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Onion", "quantity": "1 small, diced"},
        {"name": "Fresh Parsley", "quantity": "2 tbsp, chopped"}
    ],
    "instructions": [
        "In a skillet, heat olive oil over medium heat.",
        "Add minced garlic and diced onion, sauté until translucent.",
        "Add diced potatoes, turmeric, salt, pepper, and paprika. Cook until potatoes are golden and tender.",
        "Push the potatoes to one side of the skillet, add a little more oil if needed, and add cubed tofu. Cook until tofu is lightly browned.",
        "Mix tofu with potatoes, adjust seasoning if necessary.",
        "Sprinkle with fresh parsley before serving.",
        "Enjoy the golden tofu potato skillet!"
    ],
    "nutrition": {
        "calories": 320,
        "protein": 16,
        "fat": 14,
        "carbs": 36
    }
}
2025-07-07 00:33:42,205 - DEBUG - Matched ingredient 'potatoes' to 'Potatoes'
2025-07-07 00:33:42,205 - DEBUG - Matched ingredient 'tofu' to 'Tofu'
2025-07-07 00:33:42,206 - DEBUG - Matched ingredient 'turmeric' to 'Turmeric'
2025-07-07 00:33:42,207 - WARNING - No match found for ingredient: 'salt'
2025-07-07 00:33:42,207 - WARNING - No match found for ingredient: 'pepper'
2025-07-07 00:33:42,208 - DEBUG - Matched ingredient 'paprika' to 'Paprika'
2025-07-07 00:33:42,209 - WARNING - No match found for ingredient: 'olive oil'
2025-07-07 00:33:42,210 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-07 00:33:42,210 - DEBUG - Matched ingredient 'onion' to 'Onion'
2025-07-07 00:33:42,211 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-07 00:33:42,229 - INFO - Recipe saved for user Michael Kennedy: Golden Tofu Potato Skillet
2025-07-07 00:33:56,421 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:33:56,424 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:33:56,425 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 173
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGsH1g.4FMkQbvr0dxtYkaMXBMw4mEVpzI


2025-07-07 00:33:56,427 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Quinoa","Chili Flakes","Broccoli","Tempeh","Shrimp"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-07 00:33:56,427 - DEBUG - Incoming /generate request.json: {'ingredients': ['Quinoa', 'Chili Flakes', 'Broccoli', 'Tempeh', 'Shrimp'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-07 00:33:56,428 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:33:56,430 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:33:56,432 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-07 00:33:56,433 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-07 00:33:56,433 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Quinoa, Chili Flakes, Broccoli, Tempeh, Shrimp. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-07 00:34:03,848 - DEBUG - OpenAI raw response: {
    "title": "Spicy Quinoa Stir-Fry with Tempeh and Shrimp",
    "cuisine": "Fusion",
    "dietary": [],
    "ingredients": [
        {"name": "Quinoa", "quantity": "1/2 cup"},
        {"name": "Chili Flakes", "quantity": "1 tsp"},
        {"name": "Broccoli", "quantity": "1 cup, chopped"},
        {"name": "Tempeh", "quantity": "4 oz, cubed"},
        {"name": "Shrimp", "quantity": "8 oz, peeled and deveined"},
        {"name": "Vegetable Oil", "quantity": "2 tbsp"},
        {"name": "Soy Sauce", "quantity": "2 tbsp"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Ginger", "quantity": "1 tsp, grated"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black Pepper", "quantity": "to taste"},
        {"name": "Green Onions", "quantity": "2, chopped (for garnish)"}
    ],
    "instructions": [
        "Rinse the quinoa under cold water. In a saucepan, combine quinoa with 1 cup of water. Bring to a boil, then reduce heat, cover, and simmer for 15 minutes. Remove from heat and let it sit for 5 minutes before fluffing with a fork.",
        "In a small bowl, mix soy sauce, chili flakes, garlic, ginger, salt, and black pepper. Marinate the tempeh and shrimp in this mixture for 10 minutes.",
        "In a large skillet or wok, heat vegetable oil over medium-high heat. Add marinated tempeh and shrimp. Cook until shrimp is pink and opaque, and tempeh is slightly browned.",
        "Add chopped broccoli to the skillet and stir-fry for 3-4 minutes until slightly tender.",
        "Add cooked quinoa to the skillet and toss everything together until well combined. Cook for another 2-3 minutes.",
        "Adjust seasoning if needed. Serve the spicy quinoa stir-fry hot, garnished with chopped green onions.",
    "nutrition" 		],
        "calories": 450,
        "protein": 30,
        "fat": 15,
        "carbs": 45
    }
   
2025-07-07 00:34:03,850 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-07 00:34:03,850 - DEBUG - Matched ingredient 'chili flakes' to 'Chili Flakes'
2025-07-07 00:34:03,851 - DEBUG - Matched ingredient 'broccoli' to 'Broccoli'
2025-07-07 00:34:03,852 - DEBUG - Matched ingredient 'tempeh' to 'Tempeh'
2025-07-07 00:34:03,852 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-07 00:34:03,852 - WARNING - No match found for ingredient: 'vegetable oil'
2025-07-07 00:34:03,853 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-07 00:34:03,853 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-07 00:34:03,854 - DEBUG - Matched ingredient 'ginger' to 'Ginger'
2025-07-07 00:34:03,854 - WARNING - No match found for ingredient: 'salt'
2025-07-07 00:34:03,855 - WARNING - No match found for ingredient: 'black pepper'
2025-07-07 00:34:03,855 - DEBUG - Matched ingredient 'green onions' to 'Onion'
2025-07-07 00:34:03,868 - INFO - Recipe saved for user Michael Kennedy: Spicy Quinoa Stir-Fry with Tempeh and Shrimp
2025-07-07 00:34:14,156 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:34:14,159 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:34:14,160 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 237
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zk1qAkEQxfGrhF5n0d9d5RVCzjD0VL3SAe2EURdBvLsjYtb_9-B3c5OtOB_c7rJe8emmRd3OSYxBGSicerNYSDgjIagZq5QeuFmJ3VuVpoqYNJDPs1QiBC5dCL2FRKVFUoC5eU1s4O1pEF-NNHqfZvJRMgw9keW5euRWQya3QX6xnvrAuPzTrmesL1_ZBsef_R46LePdn3n0E7b-vcih4_jxhTGgf-7-AACSRpE.aGsH6w.QA9Mj_DCX8iKBDklDVUKBEP6rKs


2025-07-07 00:34:14,161 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Quinoa","Chili Flakes","Broccoli","Tempeh","Shrimp","Thyme","Oregano","Tomato","Bell Pepper"],"dietary":["Dairy-Free","Nut-Free"],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-07 00:34:14,162 - DEBUG - Incoming /generate request.json: {'ingredients': ['Quinoa', 'Chili Flakes', 'Broccoli', 'Tempeh', 'Shrimp', 'Thyme', 'Oregano', 'Tomato', 'Bell Pepper'], 'dietary': ['Dairy-Free', 'Nut-Free'], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-07 00:34:14,163 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:34:14,166 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:34:14,167 - INFO - User Michael Kennedy's credits and API calls reset for the new day.
2025-07-07 00:34:14,167 - DEBUG - User Michael Kennedy - Credits: 2, API calls: 1 committed.
2025-07-07 00:34:14,168 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Quinoa, Chili Flakes, Broccoli, Tempeh, Shrimp, Thyme, Oregano, Tomato, Bell Pepper. Dietary preferences: Dairy-Free, Nut-Free. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-07 00:34:20,086 - DEBUG - OpenAI raw response: {
    "title": "Spicy Quinoa Stir-Fry with Tempeh and Shrimp",
    "cuisine": "Random",
    "dietary": ["Dairy-Free", "Nut-Free"],
    "ingredients": [
        {"name": "Quinoa", "quantity": "1 cup"},
        {"name": "Chili Flakes", "quantity": "1 tsp"},
        {"name": "Broccoli", "quantity": "2 cups, chopped"},
        {"name": "Tempeh", "quantity": "6 oz, cubed"},
        {"name": "Shrimp", "quantity": "8 oz, peeled and deveined"},
        {"name": "Thyme", "quantity": "1 tsp, chopped"},
        {"name": "Oregano", "quantity": "1 tsp"},
        {"name": "Tomato", "quantity": "1 large, diced"},
        {"name": "Bell Pepper", "quantity": "1, sliced"}
    ],
    "instructions": [
        "Cook quinoa according to package instructions.",
        "In a large skillet over medium heat, sauté chili flakes for 1 minute.",
        "Add broccoli, tempeh, and shrimp to the skillet. Cook until shrimp is pink and opaque, and tempeh is golden brown.",
        "Stir in thyme, oregano, tomato, and bell pepper. Cook for an additional 2-3 minutes.",
        "Add cooked quinoa to the skillet and mix well to combine all ingredients.",
        "Adjust seasoning if needed and serve hot.",
    "nutrition"  ],
    "nutrition": {
        "calories": 410,
        "protein": 35,
        "fat": 10,
        "carbs": 45
    }
}
2025-07-07 00:34:20,088 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-07 00:34:20,089 - DEBUG - Matched ingredient 'chili flakes' to 'Chili Flakes'
2025-07-07 00:34:20,089 - DEBUG - Matched ingredient 'broccoli' to 'Broccoli'
2025-07-07 00:34:20,090 - DEBUG - Matched ingredient 'tempeh' to 'Tempeh'
2025-07-07 00:34:20,091 - DEBUG - Matched ingredient 'shrimp' to 'Shrimp'
2025-07-07 00:34:20,091 - DEBUG - Matched ingredient 'thyme' to 'Thyme'
2025-07-07 00:34:20,092 - DEBUG - Matched ingredient 'oregano' to 'Oregano'
2025-07-07 00:34:20,093 - DEBUG - Matched ingredient 'tomato' to 'Tomato'
2025-07-07 00:34:20,094 - DEBUG - Matched ingredient 'bell pepper' to 'Bell Pepper'
2025-07-07 00:34:20,108 - INFO - Recipe saved for user Michael Kennedy: Spicy Quinoa Stir-Fry with Tempeh and Shrimp
2025-07-07 00:34:24,979 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:34:24,981 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:34:34,428 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:34:34,430 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:34:39,759 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:34:39,762 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:34:44,169 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:34:44,172 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:34:44,183 - DEBUG - load_user: db instance: 2205423510800, app: 2205441262656, current_app: 2205323148112
2025-07-07 00:34:44,184 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:37:54,785 - DEBUG - Initialized db with app, db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:37:54,794 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 00:37:55,800 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:37:55,823 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:38:03,635 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:38:03,640 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:38:03,641 - INFO - User Michael Kennedy triggered /generate
2025-07-07 00:38:03,641 - DEBUG - User Michael Kennedy has 3 credits
2025-07-07 00:38:03,642 - INFO - Decremented credits for Michael Kennedy. New credits: 2
2025-07-07 00:38:03,660 - INFO - Saved recipe for user Michael Kennedy
2025-07-07 00:38:42,523 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:38:42,526 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:38:54,156 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:38:54,160 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:38:54,161 - INFO - User Michael Kennedy triggered /generate
2025-07-07 00:38:54,161 - DEBUG - User Michael Kennedy has 3 credits
2025-07-07 00:38:54,162 - INFO - Decremented credits for Michael Kennedy. New credits: 2
2025-07-07 00:38:54,175 - INFO - Saved recipe for user Michael Kennedy
2025-07-07 00:39:07,275 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:39:07,277 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:39:07,278 - INFO - User Michael Kennedy triggered /generate
2025-07-07 00:39:07,278 - DEBUG - User Michael Kennedy has 3 credits
2025-07-07 00:39:07,279 - INFO - Decremented credits for Michael Kennedy. New credits: 2
2025-07-07 00:39:07,288 - INFO - Saved recipe for user Michael Kennedy
2025-07-07 00:39:07,932 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:39:07,935 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:39:07,936 - INFO - User Michael Kennedy triggered /generate
2025-07-07 00:39:07,937 - DEBUG - User Michael Kennedy has 3 credits
2025-07-07 00:39:07,937 - INFO - Decremented credits for Michael Kennedy. New credits: 2
2025-07-07 00:39:07,943 - INFO - Saved recipe for user Michael Kennedy
2025-07-07 00:39:08,795 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:39:08,797 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:39:08,797 - INFO - User Michael Kennedy triggered /generate
2025-07-07 00:39:08,798 - DEBUG - User Michael Kennedy has 3 credits
2025-07-07 00:39:08,798 - INFO - Decremented credits for Michael Kennedy. New credits: 2
2025-07-07 00:39:08,806 - INFO - Saved recipe for user Michael Kennedy
2025-07-07 00:39:29,777 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:39:29,779 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:39:39,655 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:39:39,658 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:39:39,659 - INFO - User Michael Kennedy triggered /generate
2025-07-07 00:39:39,660 - DEBUG - User Michael Kennedy has 3 credits
2025-07-07 00:39:39,661 - INFO - Decremented credits for Michael Kennedy. New credits: 2
2025-07-07 00:39:39,674 - INFO - Saved recipe for user Michael Kennedy
2025-07-07 00:39:56,983 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:39:56,985 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:41:47,194 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:41:47,197 - DEBUG - User loaded: Michael Kennedy
2025-07-07 00:41:47,198 - INFO - User logged out
2025-07-07 00:41:56,216 - DEBUG - Google user info: {'iss': 'https://accounts.google.com', 'azp': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'aud': '1061675651958-l28f1vdabifd5ctg5v12v7ks9k90akdp.apps.googleusercontent.com', 'sub': '105346857467561032846', 'email': 'futrbit@gmail.com', 'email_verified': True, 'at_hash': 'Sh7fWyHRsIve7ZVjfMW7yw', 'nonce': 'ZpZ4piA9bdnCgfmCEikc', 'name': "Michael's at work", 'picture': 'https://lh3.googleusercontent.com/a/ACg8ocKSOqFwKzTn6NWEhsA1uNjIoP9xRhXM7TKHJLnRF_HXZ8HJYQMt=s96-c', 'given_name': "Michael's", 'family_name': 'at work', 'iat': 1751845317, 'exp': 1751848917}
2025-07-07 00:41:56,222 - INFO - User Michael's at work logged in via Google, session: {'_fresh': True, '_permanent': True, '_user_id': '2', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': "Michael's at work"}
2025-07-07 00:41:56,235 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:41:56,239 - DEBUG - User loaded: Michael's at work
2025-07-07 00:42:11,070 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:42:11,073 - DEBUG - User loaded: Michael's at work
2025-07-07 00:42:11,074 - INFO - User Michael's at work triggered /generate
2025-07-07 00:42:11,075 - DEBUG - User Michael's at work has 7 credits
2025-07-07 00:42:11,075 - INFO - Decremented credits for Michael's at work. New credits: 6
2025-07-07 00:42:11,089 - INFO - Saved recipe for user Michael's at work
2025-07-07 00:42:30,794 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:42:30,797 - DEBUG - User loaded: Michael's at work
2025-07-07 00:42:34,625 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:42:34,628 - DEBUG - User loaded: Michael's at work
2025-07-07 00:42:40,477 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:42:40,480 - DEBUG - User loaded: Michael's at work
2025-07-07 00:42:40,480 - INFO - User Michael's at work triggered /generate
2025-07-07 00:42:40,481 - DEBUG - User Michael's at work has 7 credits
2025-07-07 00:42:40,482 - INFO - Decremented credits for Michael's at work. New credits: 6
2025-07-07 00:42:40,493 - INFO - Saved recipe for user Michael's at work
2025-07-07 00:42:49,491 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:42:49,493 - DEBUG - User loaded: Michael's at work
2025-07-07 00:42:49,494 - INFO - User Michael's at work triggered /generate
2025-07-07 00:42:49,495 - DEBUG - User Michael's at work has 7 credits
2025-07-07 00:42:49,495 - INFO - Decremented credits for Michael's at work. New credits: 6
2025-07-07 00:42:49,506 - INFO - Saved recipe for user Michael's at work
2025-07-07 00:44:11,890 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:44:11,893 - DEBUG - User loaded: Michael's at work
2025-07-07 00:44:26,989 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:44:26,991 - DEBUG - User loaded: Michael's at work
2025-07-07 00:44:26,992 - INFO - User Michael's at work triggered /generate
2025-07-07 00:44:26,992 - DEBUG - User Michael's at work has 7 credits
2025-07-07 00:44:26,993 - INFO - Decremented credits for Michael's at work. New credits: 6
2025-07-07 00:44:27,002 - INFO - Saved recipe for user Michael's at work
2025-07-07 00:44:37,091 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:44:37,093 - DEBUG - User loaded: Michael's at work
2025-07-07 00:44:37,094 - INFO - User Michael's at work triggered /generate
2025-07-07 00:44:37,094 - DEBUG - User Michael's at work has 7 credits
2025-07-07 00:44:37,094 - INFO - Decremented credits for Michael's at work. New credits: 6
2025-07-07 00:44:37,103 - INFO - Saved recipe for user Michael's at work
2025-07-07 00:44:38,970 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:44:38,973 - DEBUG - User loaded: Michael's at work
2025-07-07 00:44:38,975 - INFO - User Michael's at work triggered /generate
2025-07-07 00:44:38,975 - DEBUG - User Michael's at work has 7 credits
2025-07-07 00:44:38,976 - INFO - Decremented credits for Michael's at work. New credits: 6
2025-07-07 00:44:38,986 - INFO - Saved recipe for user Michael's at work
2025-07-07 00:44:39,604 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:44:39,605 - DEBUG - User loaded: Michael's at work
2025-07-07 00:44:39,606 - INFO - User Michael's at work triggered /generate
2025-07-07 00:44:39,606 - DEBUG - User Michael's at work has 7 credits
2025-07-07 00:44:39,607 - INFO - Decremented credits for Michael's at work. New credits: 6
2025-07-07 00:44:39,616 - INFO - Saved recipe for user Michael's at work
2025-07-07 00:44:51,687 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:44:51,690 - DEBUG - User loaded: Michael's at work
2025-07-07 00:44:58,539 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:44:58,543 - DEBUG - User loaded: Michael's at work
2025-07-07 00:44:58,544 - INFO - User Michael's at work triggered /generate
2025-07-07 00:44:58,545 - DEBUG - User Michael's at work has 7 credits
2025-07-07 00:44:58,546 - INFO - Decremented credits for Michael's at work. New credits: 6
2025-07-07 00:44:58,556 - INFO - Saved recipe for user Michael's at work
2025-07-07 00:45:25,821 - DEBUG - load_user: db instance: 2468068271376, app: 2468086039616, current_app: 2467968097904
2025-07-07 00:45:25,823 - DEBUG - User loaded: Michael's at work
2025-07-07 00:45:25,823 - INFO - User Michael's at work triggered /generate
2025-07-07 00:45:25,824 - DEBUG - User Michael's at work has 7 credits
2025-07-07 00:45:25,824 - INFO - Decremented credits for Michael's at work. New credits: 6
2025-07-07 00:45:25,835 - INFO - Saved recipe for user Michael's at work
2025-07-07 00:48:52,493 - DEBUG - Initialized db with app, db instance: 2476452291856, app: 2476469978176, current_app: 2476351868016
2025-07-07 00:48:52,497 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 00:49:01,212 - DEBUG - load_user: db instance: 2476452291856, app: 2476469978176, current_app: 2476351868016
2025-07-07 00:49:01,239 - DEBUG - User loaded: Michael's at work
2025-07-07 00:49:08,073 - DEBUG - load_user: db instance: 2476452291856, app: 2476469978176, current_app: 2476351868016
2025-07-07 00:49:08,076 - DEBUG - User loaded: Michael's at work
2025-07-07 00:49:08,077 - INFO - User logged out
2025-07-07 00:49:52,228 - INFO - New user registered: mke
2025-07-07 00:50:10,480 - INFO - User mke logged in, session: {'_fresh': True, '_permanent': True, '_user_id': '9', '_id': 'c221d9ee593a7f258c94e3e1dff9dc5a197f52a0f6c7dde23d1804bc688e195ac8ea71385728dee9970d39fe9a19fec06f8d2003b802c4efea38f4b60e476148', 'logged_in': True, 'username': 'mke'}
2025-07-07 00:50:10,490 - DEBUG - load_user: db instance: 2476452291856, app: 2476469978176, current_app: 2476351868016
2025-07-07 00:50:10,494 - DEBUG - User loaded: mke
2025-07-07 00:50:22,578 - DEBUG - load_user: db instance: 2476452291856, app: 2476469978176, current_app: 2476351868016
2025-07-07 00:50:22,582 - DEBUG - User loaded: mke
2025-07-07 00:50:43,439 - DEBUG - load_user: db instance: 2476452291856, app: 2476469978176, current_app: 2476351868016
2025-07-07 00:50:43,441 - DEBUG - User loaded: mke
2025-07-07 00:50:50,343 - DEBUG - load_user: db instance: 2476452291856, app: 2476469978176, current_app: 2476351868016
2025-07-07 00:50:50,345 - DEBUG - User loaded: mke
2025-07-07 00:50:58,496 - DEBUG - load_user: db instance: 2476452291856, app: 2476469978176, current_app: 2476351868016
2025-07-07 00:50:58,498 - DEBUG - User loaded: mke
2025-07-07 00:51:07,502 - DEBUG - load_user: db instance: 2476452291856, app: 2476469978176, current_app: 2476351868016
2025-07-07 00:51:07,505 - DEBUG - User loaded: mke
2025-07-07 00:51:08,493 - DEBUG - load_user: db instance: 2476452291856, app: 2476469978176, current_app: 2476351868016
2025-07-07 00:51:08,496 - DEBUG - User loaded: mke
2025-07-07 00:52:57,512 - DEBUG - Initialized db with app, db instance: 2491508991248, app: 2491526743104, current_app: 2491408620976
2025-07-07 00:52:57,516 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 00:53:02,455 - DEBUG - Initialized db with app, db instance: 1585527334160, app: 1585545086016, current_app: 1585426898352
2025-07-07 00:53:02,459 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 00:53:03,028 - DEBUG - load_user: db instance: 1585527334160, app: 1585545086016, current_app: 1585426898352
2025-07-07 00:53:03,038 - DEBUG - User loaded: mke
2025-07-07 00:53:03,039 - INFO - generateRecipe function called - User: mke (ID: 9)
2025-07-07 00:53:03,041 - INFO - Resetting daily credits for mke
2025-07-07 00:53:03,042 - INFO - mke generating recipe with: ['Turmeric', 'Zucchini', 'Shrimp', 'Couscous']
2025-07-07 00:53:03,043 - INFO - Credits left for mke: 2
2025-07-07 00:53:07,026 - DEBUG - load_user: db instance: 1585527334160, app: 1585545086016, current_app: 1585426898352
2025-07-07 00:53:07,030 - DEBUG - User loaded: mke
2025-07-07 00:53:07,031 - INFO - generateRecipe function called - User: mke (ID: 9)
2025-07-07 00:53:07,032 - INFO - Resetting daily credits for mke
2025-07-07 00:53:07,034 - INFO - mke generating recipe with: ['Turmeric', 'Zucchini', 'Shrimp', 'Couscous']
2025-07-07 00:53:07,035 - INFO - Credits left for mke: 2
2025-07-07 00:54:26,975 - DEBUG - Initialized db with app, db instance: 2473888670992, app: 2471759184960, current_app: 2473788087584
2025-07-07 00:54:26,978 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 00:54:31,312 - DEBUG - load_user: db instance: 2473888670992, app: 2471759184960, current_app: 2473788087584
2025-07-07 00:54:31,365 - DEBUG - User loaded: mke
2025-07-07 00:54:36,868 - DEBUG - load_user: db instance: 2473888670992, app: 2471759184960, current_app: 2473788087584
2025-07-07 00:54:36,872 - DEBUG - User loaded: mke
2025-07-07 00:54:53,058 - DEBUG - load_user: db instance: 2473888670992, app: 2471759184960, current_app: 2473788087584
2025-07-07 00:54:53,061 - DEBUG - User loaded: mke
2025-07-07 00:54:53,062 - INFO - [generate] mke - credits before: 3
2025-07-07 00:54:53,101 - INFO - Resetting mke's credits
2025-07-07 00:54:53,102 - INFO - Generating recipe for mke with ['Couscous', 'Quinoa']
2025-07-07 00:54:53,103 - INFO - Deducted 1 credit from mke. Remaining: 2
2025-07-07 00:54:58,623 - DEBUG - load_user: db instance: 2473888670992, app: 2471759184960, current_app: 2473788087584
2025-07-07 00:54:58,628 - DEBUG - User loaded: mke
2025-07-07 00:55:06,249 - DEBUG - load_user: db instance: 2473888670992, app: 2471759184960, current_app: 2473788087584
2025-07-07 00:55:06,251 - DEBUG - User loaded: mke
2025-07-07 00:55:06,253 - INFO - [generate] mke - credits before: 3
2025-07-07 00:55:06,253 - INFO - Resetting mke's credits
2025-07-07 00:55:06,255 - INFO - Generating recipe for mke with ['Tofu', 'Cauliflower', 'Paprika']
2025-07-07 00:55:06,256 - INFO - Deducted 1 credit from mke. Remaining: 2
2025-07-07 00:55:35,827 - DEBUG - Initialized db with app, db instance: 2628041778448, app: 2628059464768, current_app: 2627941801392
2025-07-07 00:55:35,830 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 00:55:58,366 - DEBUG - load_user: db instance: 2628041778448, app: 2628059464768, current_app: 2627941801392
2025-07-07 00:55:58,390 - DEBUG - User loaded: mke
2025-07-07 00:55:58,391 - INFO - generateRecipe function called - User: mke (ID: 9)
2025-07-07 00:55:58,437 - INFO - Resetting daily credits for mke
2025-07-07 00:55:58,438 - INFO - mke generating recipe with: ['Tofu', 'Cauliflower', 'Paprika']
2025-07-07 00:55:58,438 - INFO - Credits left for mke: 2
2025-07-07 00:56:02,639 - DEBUG - load_user: db instance: 2628041778448, app: 2628059464768, current_app: 2627941801392
2025-07-07 00:56:02,642 - DEBUG - User loaded: mke
2025-07-07 00:56:02,643 - INFO - generateRecipe function called - User: mke (ID: 9)
2025-07-07 00:56:02,643 - INFO - Resetting daily credits for mke
2025-07-07 00:56:02,644 - INFO - mke generating recipe with: ['Tofu', 'Cauliflower', 'Paprika']
2025-07-07 00:56:02,645 - INFO - Credits left for mke: 2
2025-07-07 00:56:04,156 - DEBUG - load_user: db instance: 2628041778448, app: 2628059464768, current_app: 2627941801392
2025-07-07 00:56:04,158 - DEBUG - User loaded: mke
2025-07-07 00:56:10,625 - DEBUG - load_user: db instance: 2628041778448, app: 2628059464768, current_app: 2627941801392
2025-07-07 00:56:10,627 - DEBUG - User loaded: mke
2025-07-07 00:56:10,628 - INFO - generateRecipe function called - User: mke (ID: 9)
2025-07-07 00:56:10,628 - INFO - Resetting daily credits for mke
2025-07-07 00:56:10,629 - INFO - mke generating recipe with: ['Quinoa']
2025-07-07 00:56:10,630 - INFO - Credits left for mke: 2
2025-07-07 00:56:39,155 - DEBUG - Initialized db with app, db instance: 2840289879312, app: 2840307565632, current_app: 2840189516624
2025-07-07 00:56:39,159 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 00:56:39,656 - DEBUG - load_user: db instance: 2840289879312, app: 2840307565632, current_app: 2840189516624
2025-07-07 00:56:39,664 - DEBUG - User loaded: mke
2025-07-07 00:56:39,665 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 139
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zksOgkAQhOG7zNrFvKeby5BhuhqJggZhZby7GKPrvyr5nqbXFY-z6bZ1x8n0k5jONO-dMJA41KI-UeOIACeqLC1Vx0WTr1ZzKyLwQRzZOLRMBMepNkItLlAqngRgLlYCK_h4KprNSuKtDQNZ3yIUNZDGIVvEkl0kc0DuWOe6YNn-tP2B9evjY3C9jSOkn5Zf_-Slzjj6fIF5vQHLDkIx.aGsNGg.pgZrV009KIg0e2OEALfTcGcC_ns


2025-07-07 00:56:39,666 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Quinoa"],"dietary":["Low-Carb"],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-07 00:56:39,667 - DEBUG - Incoming /generate request.json: {'ingredients': ['Quinoa'], 'dietary': ['Low-Carb'], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-07 00:56:39,668 - DEBUG - load_user: db instance: 2840289879312, app: 2840307565632, current_app: 2840189516624
2025-07-07 00:56:39,670 - DEBUG - User loaded: mke
2025-07-07 00:56:39,671 - INFO - User mke's credits and API calls reset for the new day.
2025-07-07 00:56:39,672 - DEBUG - User mke - Credits: 2, API calls: 1 committed.
2025-07-07 00:56:39,672 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Quinoa. Dietary preferences: Low-Carb. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-07 00:56:48,071 - DEBUG - OpenAI raw response: {
    "title": "Spicy Quinoa Stir-Fry",
    "cuisine": "Random",
    "dietary": ["Low-Carb"],
    "ingredients": [
        {"name": "Quinoa", "quantity": "1 cup"},
        {"name": "Bell peppers, assorted colors", "quantity": "1 cup, sliced"},
        {"name": "Zucchini", "quantity": "1 medium, diced"},
        {"name": "Red onion", "quantity": "1/2, sliced"},
        {"name": "Garlic", "quantity": "2 cloves, minced"},
        {"name": "Soy sauce", "quantity": "2 tbsp"},
        {"name": "Sesame oil", "quantity": "1 tbsp"},
        {"name": "Chili flakes", "quantity": "1/2 tsp"},
        {"name": "Ground cumin", "quantity": "1/2 tsp"},
        {"name": "Salt", "quantity": "to taste"},
        {"name": "Black pepper", "quantity": "to taste"},
        {"name": "Green onions", "quantity": "2 stalks, chopped (for garnish)"},
        {"name": "Sesame seeds", "quantity": "1 tbsp (for garnish)"}
    ],
    "instructions": [
        "Rinse the quinoa under running water. In a pot, combine quinoa with 2 cups of water. Bring to a boil, then reduce heat, cover, and simmer for 15 minutes or until quinoa is cooked and water is absorbed.",
        "In a large pan, heat sesame oil over medium heat. Add minced garlic and sliced red onion, sauté until fragrant.",
        "Add sliced bell peppers, diced zucchini, soy sauce, chili flakes, and ground cumin to the pan. Stir-fry for 5-7 minutes until vegetables are tender-crisp.",
        "Stir in the cooked quinoa, mix well to combine all the ingredients. Season with salt and black pepper to taste.",
        "Garnish with chopped green onions and sesame seeds before serving.",
        "Enjoy the spicy quinoa stir-fry hot!"
    ],
    "nutrition": {
        "calories": 320,
        "protein": 10,
        "fat": 7,
        "carbs": 55
    }
}
2025-07-07 00:56:48,073 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-07 00:56:48,074 - DEBUG - Matched ingredient 'bell peppers, assorted colors' to 'Bell Pepper'
2025-07-07 00:56:48,075 - DEBUG - Matched ingredient 'zucchini' to 'Zucchini'
2025-07-07 00:56:48,076 - DEBUG - Matched ingredient 'red onion' to 'Onion'
2025-07-07 00:56:48,077 - DEBUG - Matched ingredient 'garlic' to 'Garlic'
2025-07-07 00:56:48,077 - WARNING - No match found for ingredient: 'soy sauce'
2025-07-07 00:56:48,078 - WARNING - No match found for ingredient: 'sesame oil'
2025-07-07 00:56:48,079 - DEBUG - Matched ingredient 'chili flakes' to 'Chili Flakes'
2025-07-07 00:56:48,080 - DEBUG - Matched ingredient 'ground cumin' to 'Cumin'
2025-07-07 00:56:48,081 - WARNING - No match found for ingredient: 'salt'
2025-07-07 00:56:48,082 - WARNING - No match found for ingredient: 'black pepper'
2025-07-07 00:56:48,082 - DEBUG - Matched ingredient 'green onions' to 'Onion'
2025-07-07 00:56:48,083 - WARNING - No match found for ingredient: 'sesame seeds'
2025-07-07 00:56:48,105 - INFO - Recipe saved for user mke: Spicy Quinoa Stir-Fry
2025-07-07 00:56:59,772 - DEBUG - load_user: db instance: 2840289879312, app: 2840307565632, current_app: 2840189516624
2025-07-07 00:56:59,775 - DEBUG - User loaded: mke
2025-07-07 00:57:07,082 - DEBUG - load_user: db instance: 2840289879312, app: 2840307565632, current_app: 2840189516624
2025-07-07 00:57:07,086 - DEBUG - User loaded: mke
2025-07-07 00:57:14,186 - DEBUG - load_user: db instance: 2840289879312, app: 2840307565632, current_app: 2840189516624
2025-07-07 00:57:14,189 - DEBUG - User loaded: mke
2025-07-07 00:57:14,190 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 147
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zksOgkAQhOG7zNrFvKeby5BhuhqJggZhZby7GKPrvyr5nqbXFY-z6bZ1x8n0k5jONO-dMJA41KI-UeOIACeqLC1Vx0WTr1ZzKyLwQRzZOLRMBMepNkItLlAqngRgLlYCK_h4KprNSuKtDQNZ3yIUNZDGIVvEkl0kc0DuWOe6YNn-tP2B9evjY3C9jSOkn5Zf_-Slzjj6fIF5vQHLDkIx.aGsNUw.J1DjpuKzERLyTsdMZ5ASUg8L5XI


2025-07-07 00:57:14,191 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Lamb","Turmeric","Quinoa"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-07 00:57:14,191 - DEBUG - Incoming /generate request.json: {'ingredients': ['Lamb', 'Turmeric', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-07 00:57:14,192 - DEBUG - load_user: db instance: 2840289879312, app: 2840307565632, current_app: 2840189516624
2025-07-07 00:57:14,195 - DEBUG - User loaded: mke
2025-07-07 00:57:14,196 - INFO - User mke's credits and API calls reset for the new day.
2025-07-07 00:57:14,198 - DEBUG - User mke - Credits: 2, API calls: 1 committed.
2025-07-07 00:57:14,200 - DEBUG - Sending request to OpenAI with messages: [{'role': 'system', 'content': 'You are RecipeVerse, an AI trained to generate creative and delicious recipes.\n                When a user requests a recipe, you must:\n                1. Create a unique and appealing recipe title.\n                2. List all ingredients with quantities.\n                3. Provide clear, step-by-step instructions.\n                4. Include approximate nutritional data (calories, protein, fat, carbs) based on the ingredients provided, per serving.\n                5. Ensure the recipe adheres to any specified dietary preferences.\n                6. Return the recipe in a structured JSON format:\n                {\n                    "title": "Recipe Title",\n                    "cuisine": "Cuisine Style",\n                    "dietary": ["Dietary Preference 1", "Dietary Preference 2"],\n                    "ingredients": [\n                        {"name": "Ingredient 1", "quantity": "e.g., 2 large"},\n                        {"name": "Ingredient 2", "quantity": "e.g., 1 cup"}\n                    ],\n                    "instructions": [\n                        "Step 1",\n                        "Step 2"\n                    ],\n                    "nutrition": {\n                        "calories": 0,\n                        "protein": 0,\n                        "fat": 0,\n                        "carbs": 0\n                    }\n                }\n                Ensure nutritional data is reasonable and approximate. Use the provided NUTRITIONAL_DATA only for calculations, not directly in the output JSON.\n                If the prompt includes a specific cuisine, adhere to it. If \'Random\', feel free to be creative.'}, {'role': 'user', 'content': 'Generate a  recipe using Lamb, Turmeric, Quinoa. Dietary preferences: None. Spice level: 3/5. Cook time: 30 mins. Difficulty: easy. Portions: 2.'}]
2025-07-07 00:57:20,630 - DEBUG - OpenAI raw response: {
    "title": "Turmeric Lamb Quinoa Bowl",
    "cuisine": "Random",
    "dietary": [],
    "ingredients": [
        {"name": "Lamb Leg Steaks", "quantity": "2 steaks (about 10 oz each)"},
        {"name": "Turmeric", "quantity": "1 tsp"},
        {"name": "Quinoa", "quantity": "1 cup"},
        {"name": "Vegetable Broth", "quantity": "2 cups"},
        {"name": "Salt", "quantity": "1/2 tsp"},
        {"name": "Black Pepper", "quantity": "1/2 tsp"},
        {"name": "Olive Oil", "quantity": "2 tbsp"},
        {"name": "Lemon Juice", "quantity": "1 tbsp"},
        {"name": "Fresh Parsley", "quantity": "2 tbsp chopped"}
    ],
    "instructions": [
        "1. Season the lamb leg steaks with turmeric, salt, and black pepper on both sides.",
        "2. Heat olive oil in a skillet over medium-high heat. Add the seasoned lamb steaks and cook for about 4-5 minutes per side for medium-rare or until desired doneness. Remove from the skillet and let it rest for a few minutes before slicing.",
        "3. In a separate saucepan, rinse the quinoa under running water. Add vegetable broth and bring it to a boil. Reduce heat, cover, and simmer for 15 minutes or until the quinoa is cooked and liquid is absorbed.",
        "4. Fluff the quinoa with a fork and stir in lemon juice and chopped parsley.",
        "5. To assemble, divide the cooked quinoa into bowls. Top with sliced turmeric lamb steaks. Garnish with additional parsley and a drizzle of olive oil if desired.",
        "6. Serve the Turmeric Lamb Quinoa Bowl hot and enjoy!"
    ],
    "nutrition": {
        "calories": 650,
        "protein": 50,
        "fat": 28,
        "carbs": 50
    }
}
2025-07-07 00:57:20,631 - DEBUG - Matched ingredient 'lamb leg steaks' to 'Lamb'
2025-07-07 00:57:20,631 - DEBUG - Matched ingredient 'turmeric' to 'Turmeric'
2025-07-07 00:57:20,632 - DEBUG - Matched ingredient 'quinoa' to 'Quinoa'
2025-07-07 00:57:20,633 - WARNING - No match found for ingredient: 'vegetable broth'
2025-07-07 00:57:20,634 - WARNING - No match found for ingredient: 'salt'
2025-07-07 00:57:20,635 - WARNING - No match found for ingredient: 'black pepper'
2025-07-07 00:57:20,636 - WARNING - No match found for ingredient: 'olive oil'
2025-07-07 00:57:20,636 - WARNING - No match found for ingredient: 'lemon juice'
2025-07-07 00:57:20,637 - WARNING - No match found for ingredient: 'fresh parsley'
2025-07-07 00:57:20,647 - INFO - Recipe saved for user mke: Turmeric Lamb Quinoa Bowl
2025-07-07 01:08:05,147 - DEBUG - Initialized db with app, db instance: 2122410304784, app: 2122428056640, current_app: 2122309750448
2025-07-07 01:08:05,151 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 01:08:08,270 - DEBUG - load_user: db instance: 2122410304784, app: 2122428056640, current_app: 2122309750448
2025-07-07 01:08:08,302 - DEBUG - User loaded: mke
2025-07-07 01:08:17,214 - DEBUG - load_user: db instance: 2122410304784, app: 2122428056640, current_app: 2122309750448
2025-07-07 01:08:17,217 - DEBUG - User loaded: mke
2025-07-07 01:08:41,751 - DEBUG - Initialized db with app, db instance: 1727658337552, app: 1727676023872, current_app: 1727557713104
2025-07-07 01:08:41,754 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 01:10:46,602 - DEBUG - Initialized db with app, db instance: 1627988780640, app: 1628006532496, current_app: 1627888183968
2025-07-07 01:10:46,605 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 01:10:47,214 - DEBUG - load_user: db instance: 1627988780640, app: 1628006532496, current_app: 1627888183968
2025-07-07 01:10:47,228 - DEBUG - User loaded: mke
2025-07-07 01:10:49,425 - DEBUG - load_user: db instance: 1627988780640, app: 1628006532496, current_app: 1627888183968
2025-07-07 01:10:49,436 - DEBUG - User loaded: mke
2025-07-07 01:10:56,925 - DEBUG - load_user: db instance: 1627988780640, app: 1628006532496, current_app: 1627888183968
2025-07-07 01:10:56,929 - DEBUG - User loaded: mke
2025-07-07 01:10:56,930 - DEBUG - Incoming /generate request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 158
Sec-Ch-Ua-Platform: "Windows"
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36
Sec-Ch-Ua: "Not)A;Brand";v="8", "Chromium";v="138", "Brave";v="138"
Content-Type: application/json
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Sec-Gpc: 1
Accept-Language: en-GB,en;q=0.6
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/
Accept-Encoding: gzip, deflate, br, zstd
Cookie: __stripe_mid=bc3ceb4a-ad24-457c-96ba-3b03a24312a3be14db; session=.eJw9zksOgkAQhOG7zNrFvKeby5BhuhqJggZhZby7GKPrvyr5nqbXFY-z6bZ1x8n0k5jONO-dMJA41KI-UeOIACeqLC1Vx0WTr1ZzKyLwQRzZOLRMBMepNkItLlAqngRgLlYCK_h4KprNSuKtDQNZ3yIUNZDGIVvEkl0kc0DuWOe6YNn-tP2B9evjY3C9jSOkn5Zf_-Slzjj6fIF5vQHLDkIx.aGsQiQ.Qtc3Kkh5gtT18LY0V25NAI-SEoQ


2025-07-07 01:10:56,931 - DEBUG - Incoming /generate request data (raw): b'{"ingredients":["Tofu","Bell Pepper","Cumin","Quinoa"],"dietary":[],"mood":"fun","spice_level":3,"cook_time":30,"difficulty":"easy","portions":2,"cuisine":""}'
2025-07-07 01:10:56,932 - DEBUG - Incoming /generate request.json: {'ingredients': ['Tofu', 'Bell Pepper', 'Cumin', 'Quinoa'], 'dietary': [], 'mood': 'fun', 'spice_level': 3, 'cook_time': 30, 'difficulty': 'easy', 'portions': 2, 'cuisine': ''}
2025-07-07 01:10:56,935 - DEBUG - load_user: db instance: 1627988780640, app: 1628006532496, current_app: 1627888183968
2025-07-07 01:10:56,936 - DEBUG - User loaded: mke
2025-07-07 01:11:57,945 - DEBUG - Initialized db with app, db instance: 1844532225296, app: 1844549977152, current_app: 1844431928480
2025-07-07 01:11:57,949 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 01:12:48,268 - DEBUG - load_user: db instance: 1844532225296, app: 1844549977152, current_app: 1844431928480
2025-07-07 01:12:48,298 - DEBUG - User loaded: mke
2025-07-07 01:19:26,159 - DEBUG - Initialized db with app, db instance: 2087445488912, app: 2087463240768, current_app: 2089491412640
2025-07-07 01:19:26,162 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 01:21:26,223 - DEBUG - Initialized db with app, db instance: 1985171055888, app: 1985188742208, current_app: 1985070741152
2025-07-07 01:21:26,226 - DEBUG - Google OAuth configured, userinfo_endpoint: None
2025-07-07 01:51:24,453 - DEBUG - User loaded: Michael's at work
2025-07-07 01:51:29,256 - DEBUG - User loaded: Michael's at work
2025-07-07 01:51:42,892 - DEBUG - User loaded: Michael's at work
2025-07-07 01:51:52,223 - DEBUG - User loaded: Michael's at work
2025-07-07 01:51:57,437 - DEBUG - User loaded: Michael's at work
2025-07-07 01:52:11,772 - DEBUG - User loaded: Michael's at work
2025-07-07 01:52:15,904 - DEBUG - User loaded: Michael's at work
2025-07-07 01:52:20,809 - DEBUG - User loaded: Michael's at work
2025-07-07 01:53:29,194 - DEBUG - User loaded: Michael's at work
2025-07-07 01:53:33,558 - DEBUG - User loaded: Michael's at work
2025-07-07 01:54:08,955 - DEBUG - User loaded: Michael's at work
2025-07-07 01:54:34,235 - DEBUG - User loaded: Michael's at work
2025-07-07 01:54:36,456 - DEBUG - User loaded: Michael's at work
2025-07-07 01:55:29,333 - DEBUG - User loaded: Michael's at work
2025-07-07 01:55:31,517 - DEBUG - User loaded: Michael's at work
2025-07-07 01:55:33,213 - DEBUG - User loaded: Michael's at work
2025-07-07 01:55:38,303 - DEBUG - User loaded: Michael's at work
2025-07-07 01:55:57,454 - DEBUG - User loaded: Michael's at work
2025-07-07 01:56:03,313 - DEBUG - User loaded: Michael's at work
2025-07-07 01:56:59,390 - DEBUG - User loaded: Michael's at work
2025-07-07 01:57:05,074 - DEBUG - User loaded: Michael's at work
2025-07-07 01:57:05,077 - ERROR - Unexpected error in generate: Instance '<User at 0x1d708b8a350>' is not persistent within this Session
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 157, in generate
    db.session.refresh(current_user)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\sqlalchemy\orm\scoping.py", line 1764, in refresh
    return self._proxied.refresh(
           ~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
        attribute_names=attribute_names,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        with_for_update=with_for_update,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3147, in refresh
    self._expire_state(state, attribute_names)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3273, in _expire_state
    self._validate_persistent(state)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4131, in _validate_persistent
    raise sa_exc.InvalidRequestError(
    ...<2 lines>...
    )
sqlalchemy.exc.InvalidRequestError: Instance '<User at 0x1d708b8a350>' is not persistent within this Session
2025-07-07 01:58:24,979 - DEBUG - User loaded: Michael's at work
2025-07-07 01:58:29,948 - DEBUG - User loaded: Michael's at work
2025-07-07 01:58:29,955 - DEBUG - User Michael's at work credits before generation: 7
2025-07-07 01:58:39,805 - DEBUG - User Michael's at work credits after decrement: 6
2025-07-07 01:58:45,337 - DEBUG - User loaded: Michael's at work
2025-07-07 01:58:45,340 - DEBUG - User Michael's at work credits before generation: 6
2025-07-07 01:58:53,604 - DEBUG - User Michael's at work credits after decrement: 5
2025-07-07 01:58:56,329 - DEBUG - User loaded: Michael's at work
2025-07-07 01:58:56,331 - DEBUG - User Michael's at work credits before generation: 5
2025-07-07 01:59:02,209 - DEBUG - User Michael's at work credits after decrement: 4
2025-07-07 01:59:17,456 - DEBUG - User loaded: Michael's at work
2025-07-07 01:59:17,458 - DEBUG - User Michael's at work credits before generation: 4
2025-07-07 01:59:25,450 - DEBUG - User Michael's at work credits after decrement: 3
2025-07-07 02:05:12,953 - DEBUG - User loaded: Michael's at work
2025-07-07 02:05:21,102 - DEBUG - User loaded: Michael's at work
2025-07-07 02:05:40,321 - DEBUG - User loaded: Michael's at work
2025-07-07 02:05:50,785 - DEBUG - User loaded: Michael's at work
2025-07-07 02:08:34,304 - DEBUG - User loaded: Michael's at work
2025-07-07 02:08:37,765 - DEBUG - User loaded: Michael's at work
2025-07-07 02:11:32,012 - DEBUG - User loaded: Michael's at work
2025-07-07 02:11:36,294 - DEBUG - User loaded: Michael's at work
2025-07-07 02:11:41,482 - DEBUG - User loaded: Michael's at work
2025-07-07 02:11:43,814 - DEBUG - User loaded: Michael's at work
2025-07-07 02:12:42,999 - DEBUG - User loaded: mkkk
2025-07-07 02:12:55,262 - DEBUG - User loaded: mkkk
2025-07-07 02:12:59,757 - DEBUG - User loaded: mkkk
2025-07-07 02:13:07,340 - DEBUG - Generated recipe text (first 200 chars): # Cheesy Garlic Tomato Bake

## Serving Size:
2 Portions

## Ingredients:
- 2 medium tomatoes
- 2 cloves of garlic, minced
- 100g (about 3.5 oz) of cheese (mozzarella or your favorite melting cheese)

2025-07-07 02:13:15,951 - DEBUG - User loaded: mkkk
2025-07-07 02:13:22,875 - DEBUG - Generated recipe text (first 200 chars): ### Cheesy Garlic Tomato Bake

#### Ingredients (Serves 2)
- 4 medium tomatoes
- 2 cloves of garlic, minced
- 1 cup shredded cheese (mozzarella or a blend of your choice)
- 1 tablespoon olive oil
- 1 
2025-07-07 02:15:45,750 - DEBUG - User loaded: mkkk
2025-07-07 02:15:52,582 - DEBUG - Generated recipe text (first 200 chars): ## Cheesy Garlic Tomato Bake

### Ingredients:
- 4 medium tomatoes, sliced
- 3 cloves garlic, minced
- 1 cup shredded cheese (mozzarella or a blend)
- 2 tablespoons olive oil
- 1 teaspoon dried oregan
2025-07-07 02:15:57,945 - DEBUG - User loaded: mkkk
2025-07-07 02:16:03,554 - DEBUG - User loaded: mkkk
2025-07-07 02:16:19,954 - DEBUG - User loaded: mkkk
2025-07-07 02:18:26,640 - DEBUG - User loaded: mkkk
2025-07-07 02:18:33,230 - DEBUG - User loaded: mkkk
2025-07-07 02:18:39,625 - DEBUG - User loaded: mkkk
2025-07-07 02:19:12,370 - DEBUG - User loaded: gink
2025-07-07 02:19:16,745 - DEBUG - User loaded: gink
2025-07-07 02:19:21,215 - DEBUG - User loaded: gink
2025-07-07 02:19:29,154 - DEBUG - Generated recipe text (first 200 chars): ### Cheesy Zucchini and Tomato Bake

#### Ingredients:
- 2 medium zucchinis, sliced into rounds
- 2 medium tomatoes, sliced
- 2 cloves garlic, minced
- 1 cup shredded cheese (such as mozzarella or che
2025-07-07 02:20:44,661 - DEBUG - User loaded: gink
2025-07-07 02:20:49,405 - DEBUG - User loaded: gink
2025-07-07 02:25:15,341 - DEBUG - User loaded: gink
2025-07-07 02:25:20,446 - DEBUG - User loaded: gink
2025-07-07 02:26:25,985 - DEBUG - User loaded: gink
2025-07-07 02:36:26,361 - DEBUG - User loaded: dick
2025-07-07 02:36:32,262 - DEBUG - User loaded: dick
2025-07-07 02:36:38,466 - DEBUG - User loaded: dick
2025-07-07 02:38:49,606 - DEBUG - User loaded: dick
2025-07-07 02:38:54,645 - DEBUG - User loaded: dick
2025-07-07 02:39:47,295 - DEBUG - User loaded: dick
2025-07-07 02:39:52,370 - DEBUG - User loaded: dick
2025-07-07 02:41:16,033 - DEBUG - User loaded: dick
2025-07-07 02:41:22,115 - DEBUG - User loaded: dick
2025-07-07 02:42:02,465 - DEBUG - User loaded: kingg
2025-07-07 02:42:04,841 - DEBUG - User loaded: kingg
2025-07-07 02:42:11,330 - DEBUG - User loaded: kingg
2025-07-07 02:43:19,688 - DEBUG - User loaded: kingg
2025-07-07 02:43:24,577 - DEBUG - User loaded: kingg
2025-07-07 02:44:24,279 - DEBUG - User loaded: kingg
2025-07-07 02:44:59,587 - DEBUG - User loaded: kingg
2025-07-07 02:48:31,812 - DEBUG - User loaded: kingg
2025-07-07 02:48:37,483 - DEBUG - User loaded: kingg
2025-07-07 02:49:13,724 - DEBUG - User loaded: pat
2025-07-07 02:49:18,855 - DEBUG - User loaded: pat
2025-07-07 02:49:22,567 - DEBUG - User loaded: pat
2025-07-07 02:50:21,582 - DEBUG - User loaded: pat
2025-07-07 02:51:53,490 - DEBUG - User loaded: pat
2025-07-07 02:53:05,290 - DEBUG - User loaded: pat
2025-07-07 02:54:31,259 - DEBUG - User loaded: pat
2025-07-07 02:54:54,131 - DEBUG - User loaded: pat
2025-07-07 03:01:35,752 - DEBUG - User loaded: k3ndo
2025-07-07 03:01:40,539 - DEBUG - User loaded: k3ndo
2025-07-07 03:01:43,990 - DEBUG - User loaded: k3ndo
2025-07-07 03:03:29,337 - DEBUG - User loaded: k3ndo
2025-07-07 03:03:34,736 - DEBUG - User loaded: k3ndo
2025-07-07 03:04:38,281 - DEBUG - User loaded: k3ndo
2025-07-07 03:04:42,529 - DEBUG - User loaded: k3ndo
2025-07-07 03:05:53,649 - DEBUG - User loaded: k3ndo
2025-07-07 03:05:57,519 - DEBUG - User loaded: k3ndo
2025-07-07 03:07:28,803 - DEBUG - User loaded: k3ndo
2025-07-07 03:07:33,010 - DEBUG - User loaded: k3ndo
2025-07-07 03:14:57,267 - DEBUG - User loaded: k3ndo
2025-07-07 03:15:03,162 - DEBUG - User loaded: k3ndo
2025-07-07 03:17:43,201 - DEBUG - User loaded: k3ndo
2025-07-07 03:17:47,955 - DEBUG - User loaded: k3ndo
2025-07-07 03:19:55,242 - DEBUG - User loaded: k3ndo
2025-07-07 03:19:59,694 - DEBUG - User loaded: k3ndo
2025-07-07 03:20:01,648 - DEBUG - User loaded: k3ndo
2025-07-07 03:20:35,365 - DEBUG - User loaded: smart
2025-07-07 03:20:38,662 - DEBUG - User loaded: smart
2025-07-07 03:20:44,498 - DEBUG - User loaded: smart
2025-07-07 03:24:27,816 - DEBUG - User loaded: smart
2025-07-07 03:24:35,714 - DEBUG - User loaded: smart
2025-07-07 03:47:33,002 - DEBUG - User loaded: smart
2025-07-07 03:57:04,676 - DEBUG - User loaded: smart
2025-07-07 03:57:26,515 - DEBUG - User loaded: smart
2025-07-07 04:00:34,721 - DEBUG - User loaded: smart
2025-07-07 04:00:39,820 - DEBUG - User loaded: smart
2025-07-07 04:03:38,475 - DEBUG - User loaded: smart
2025-07-07 04:06:16,549 - DEBUG - User loaded: smart
2025-07-07 04:09:25,814 - DEBUG - User loaded: smart
2025-07-07 04:12:24,266 - DEBUG - User loaded: smart
2025-07-07 04:12:27,854 - DEBUG - User loaded: smart
2025-07-07 04:19:50,250 - DEBUG - User loaded: smart
2025-07-07 04:19:53,385 - DEBUG - User loaded: smart
2025-07-07 04:19:55,802 - DEBUG - User loaded: smart
2025-07-07 13:49:38,279 - ERROR - Exception on /login [POST]
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\venv\Lib\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\venv\Lib\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\leebu\Desktop\recipeverse\venv\Lib\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\venv\Lib\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 221, in login
    if user and check_password_hash(user.password, password):
                ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\venv\Lib\site-packages\werkzeug\security.py", line 120, in check_password_hash
    method, salt, hashval = pwhash.split("$", 2)
                            ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'split'
2025-07-07 13:50:27,800 - DEBUG - User loaded: patt
2025-07-07 13:50:36,284 - DEBUG - User loaded: patt
2025-07-07 13:51:09,982 - DEBUG - User loaded: patt
2025-07-07 13:51:18,766 - DEBUG - Generated recipe text (first 200 chars): # Cheesy Zucchini and Tomato Bake

## Ingredients (for 2 portions):
- 1 medium zucchini, sliced into rounds
- 2 medium tomatoes, sliced
- 2 cloves garlic, minced
- 1 cup shredded cheese (mozzarella or
2025-07-07 13:52:25,035 - DEBUG - User loaded: patt
2025-07-07 13:52:36,699 - DEBUG - Generated recipe text (first 200 chars): ### Spicy Lamb and Couscous Bowl

#### Ingredients (Serves 2)
- **For the Lamb:**
  - 250g lamb, cut into bite-sized pieces
  - 1 red bell pepper, diced
  - 2 cloves garlic, minced
  - 1 medium tomato
2025-07-07 13:53:03,415 - DEBUG - User loaded: patt
2025-07-07 14:06:39,825 - DEBUG - User loaded: patt
2025-07-07 14:06:46,616 - DEBUG - User loaded: patt
2025-07-07 14:07:02,723 - DEBUG - User loaded: patt
2025-07-07 14:08:10,279 - DEBUG - User loaded: patt
2025-07-07 14:08:16,497 - DEBUG - User loaded: patt
2025-07-07 14:09:20,103 - DEBUG - User loaded: patt
2025-07-07 14:13:02,330 - DEBUG - User loaded: patt
2025-07-07 14:13:06,335 - DEBUG - User loaded: patt
2025-07-07 14:13:09,110 - DEBUG - User loaded: patt
2025-07-07 14:13:10,903 - DEBUG - User loaded: patt
2025-07-07 14:13:23,941 - DEBUG - User loaded: patt
2025-07-07 14:13:27,682 - DEBUG - User loaded: patt
2025-07-07 14:14:53,237 - DEBUG - User loaded: patt
2025-07-07 14:15:55,123 - DEBUG - User loaded: patt
2025-07-07 14:22:15,579 - DEBUG - User loaded: patt
2025-07-07 14:34:31,118 - DEBUG - User loaded: patt
2025-07-07 14:37:20,304 - DEBUG - User loaded: patt
2025-07-07 14:37:29,500 - DEBUG - Generated recipe text (first 200 chars): ### Spicy Lamb and Couscous Bowl

#### Ingredients (Serves 2)
- **For the Lamb:**
  - 200g lamb (preferably tender cuts like lamb shoulder or leg), cut into bite-sized pieces
  - 1 red bell pepper, di
2025-07-07 14:55:26,178 - DEBUG - User loaded: patt
2025-07-07 14:55:28,650 - DEBUG - User loaded: patt
2025-07-07 14:55:32,186 - DEBUG - User loaded: patt
2025-07-07 14:55:34,730 - DEBUG - User loaded: patt
2025-07-07 14:55:46,881 - DEBUG - User loaded: patt
2025-07-07 14:57:29,733 - DEBUG - User loaded: patt
2025-07-07 14:57:30,930 - DEBUG - User loaded: patt
2025-07-07 14:57:31,260 - DEBUG - User loaded: patt
2025-07-07 14:57:31,510 - DEBUG - User loaded: patt
2025-07-07 14:57:31,590 - DEBUG - User loaded: patt
2025-07-07 14:57:31,841 - DEBUG - User loaded: patt
2025-07-07 14:57:31,917 - DEBUG - User loaded: patt
2025-07-07 14:57:32,165 - DEBUG - User loaded: patt
2025-07-07 14:57:32,245 - DEBUG - User loaded: patt
2025-07-07 14:57:32,486 - DEBUG - User loaded: patt
2025-07-07 14:57:32,563 - DEBUG - User loaded: patt
2025-07-07 14:57:32,809 - DEBUG - User loaded: patt
2025-07-07 14:57:32,894 - DEBUG - User loaded: patt
2025-07-07 14:57:33,126 - DEBUG - User loaded: patt
2025-07-07 14:57:33,218 - DEBUG - User loaded: patt
2025-07-07 14:57:33,454 - DEBUG - User loaded: patt
2025-07-07 14:57:33,544 - DEBUG - User loaded: patt
2025-07-07 14:57:33,778 - DEBUG - User loaded: patt
2025-07-07 14:57:33,872 - DEBUG - User loaded: patt
2025-07-07 14:57:34,097 - DEBUG - User loaded: patt
2025-07-07 14:57:34,199 - DEBUG - User loaded: patt
2025-07-07 14:57:35,290 - DEBUG - User loaded: patt
2025-07-07 14:57:35,610 - DEBUG - User loaded: patt
2025-07-07 14:57:35,873 - DEBUG - User loaded: patt
2025-07-07 14:57:35,934 - DEBUG - User loaded: patt
2025-07-07 14:57:36,197 - DEBUG - User loaded: patt
2025-07-07 14:57:36,275 - DEBUG - User loaded: patt
2025-07-07 14:57:36,513 - DEBUG - User loaded: patt
2025-07-07 14:57:36,594 - DEBUG - User loaded: patt
2025-07-07 14:57:36,844 - DEBUG - User loaded: patt
2025-07-07 14:57:36,909 - DEBUG - User loaded: patt
2025-07-07 14:57:37,167 - DEBUG - User loaded: patt
2025-07-07 14:57:37,234 - DEBUG - User loaded: patt
2025-07-07 14:57:37,483 - DEBUG - User loaded: patt
2025-07-07 14:57:37,551 - DEBUG - User loaded: patt
2025-07-07 14:57:37,809 - DEBUG - User loaded: patt
2025-07-07 14:57:37,871 - DEBUG - User loaded: patt
2025-07-07 14:57:38,134 - DEBUG - User loaded: patt
2025-07-07 14:57:38,196 - DEBUG - User loaded: patt
2025-07-07 14:57:38,463 - DEBUG - User loaded: patt
2025-07-07 14:57:38,524 - DEBUG - User loaded: patt
2025-07-07 14:57:43,559 - DEBUG - User loaded: patt
2025-07-07 14:57:43,893 - DEBUG - User loaded: patt
2025-07-07 14:57:44,141 - DEBUG - User loaded: patt
2025-07-07 14:57:44,217 - DEBUG - User loaded: patt
2025-07-07 14:57:44,466 - DEBUG - User loaded: patt
2025-07-07 14:57:44,543 - DEBUG - User loaded: patt
2025-07-07 14:57:44,793 - DEBUG - User loaded: patt
2025-07-07 14:57:44,869 - DEBUG - User loaded: patt
2025-07-07 14:57:45,115 - DEBUG - User loaded: patt
2025-07-07 14:57:45,193 - DEBUG - User loaded: patt
2025-07-07 14:57:45,441 - DEBUG - User loaded: patt
2025-07-07 14:57:45,519 - DEBUG - User loaded: patt
2025-07-07 14:57:45,767 - DEBUG - User loaded: patt
2025-07-07 14:57:45,846 - DEBUG - User loaded: patt
2025-07-07 14:57:46,096 - DEBUG - User loaded: patt
2025-07-07 14:57:46,176 - DEBUG - User loaded: patt
2025-07-07 14:57:46,420 - DEBUG - User loaded: patt
2025-07-07 14:57:46,500 - DEBUG - User loaded: patt
2025-07-07 14:57:46,734 - DEBUG - User loaded: patt
2025-07-07 14:57:46,827 - DEBUG - User loaded: patt
2025-07-07 15:00:23,764 - DEBUG - User loaded: patt
2025-07-07 15:00:24,522 - DEBUG - User loaded: patt
2025-07-07 15:00:27,051 - DEBUG - User loaded: patt
2025-07-07 15:00:27,414 - DEBUG - User loaded: patt
2025-07-07 15:00:35,579 - DEBUG - User loaded: patt
2025-07-07 15:00:36,120 - DEBUG - User loaded: patt
2025-07-07 15:03:44,460 - DEBUG - User loaded: smart
2025-07-07 15:03:46,645 - DEBUG - User loaded: patt
2025-07-07 15:03:49,655 - DEBUG - User loaded: patt
2025-07-07 15:04:00,740 - DEBUG - User loaded: patt
2025-07-07 15:04:04,530 - DEBUG - User loaded: patt
2025-07-07 15:06:17,559 - DEBUG - User loaded: patt
2025-07-07 15:06:20,716 - DEBUG - User loaded: patt
2025-07-07 15:06:23,157 - DEBUG - User loaded: patt
2025-07-07 15:06:26,701 - DEBUG - User loaded: patt
2025-07-07 15:06:29,189 - DEBUG - User loaded: patt
2025-07-07 15:06:36,809 - DEBUG - User loaded: patt
2025-07-07 15:06:50,524 - DEBUG - User loaded: patt
2025-07-07 15:06:52,413 - DEBUG - User loaded: patt
2025-07-07 15:06:54,667 - DEBUG - User loaded: patt
2025-07-07 15:07:38,576 - DEBUG - User loaded: bob
2025-07-07 15:07:41,073 - DEBUG - User loaded: bob
2025-07-07 15:18:04,644 - DEBUG - User loaded: bob
2025-07-07 15:18:14,857 - DEBUG - User loaded: bob
2025-07-07 15:32:54,203 - DEBUG - User loaded: bob
2025-07-07 15:32:58,229 - DEBUG - User loaded: bob
2025-07-07 15:33:05,529 - DEBUG - User loaded: bob
2025-07-07 15:37:02,165 - DEBUG - User loaded: bob
2025-07-07 15:38:43,750 - DEBUG - User loaded: bob
2025-07-07 15:44:23,933 - DEBUG - User loaded: bob
2025-07-07 15:44:26,953 - DEBUG - User loaded: bob
2025-07-07 15:45:04,108 - DEBUG - User loaded: bob
2025-07-07 15:48:34,590 - DEBUG - User loaded: bob
2025-07-07 15:48:50,631 - ERROR - OpenAI or database error: name 'datetime' is not defined
2025-07-07 15:51:19,490 - DEBUG - User loaded: bob
2025-07-07 15:51:27,138 - DEBUG - User loaded: bob
2025-07-07 15:51:41,980 - INFO - Recipe saved for user bob: Generated Recipe
2025-07-07 15:52:11,490 - DEBUG - User loaded: bob
2025-07-07 15:52:13,991 - DEBUG - User loaded: bob
2025-07-07 15:52:24,133 - DEBUG - User loaded: bob
2025-07-07 15:52:36,358 - INFO - Recipe saved for user bob: Generated Recipe
2025-07-07 15:52:55,894 - DEBUG - User loaded: bob
2025-07-07 15:54:37,661 - DEBUG - User loaded: bob
2025-07-07 16:02:15,349 - DEBUG - User patt22 logged in, redirecting to home
2025-07-07 16:02:15,670 - DEBUG - User loaded: patt22
2025-07-07 16:02:23,537 - DEBUG - User loaded: patt22
2025-07-07 16:02:39,063 - DEBUG - User loaded: patt22
2025-07-07 16:02:52,148 - INFO - Recipe saved for user patt22: Generated Recipe
2025-07-07 16:03:17,389 - DEBUG - User loaded: patt22
2025-07-07 16:03:21,942 - DEBUG - User loaded: patt22
2025-07-07 16:03:31,265 - DEBUG - User loaded: patt22
2025-07-07 16:03:36,180 - DEBUG - User loaded: patt22
2025-07-07 16:12:51,731 - DEBUG - User patt22 logged in, redirecting to home
2025-07-07 16:12:52,056 - DEBUG - User loaded: patt22
2025-07-07 16:13:15,488 - DEBUG - User loaded: patt22
2025-07-07 16:13:47,256 - DEBUG - User loaded: patt22
2025-07-07 16:13:56,461 - DEBUG - User loaded: patt22
2025-07-07 16:14:52,374 - DEBUG - User loaded: patt22
2025-07-07 16:15:01,224 - DEBUG - User loaded: patt22
2025-07-07 16:15:06,806 - DEBUG - User loaded: patt22
2025-07-07 16:20:49,360 - DEBUG - User patt22 logged in, redirecting to home
2025-07-07 16:20:49,690 - DEBUG - User loaded: patt22
2025-07-07 16:21:29,334 - DEBUG - User loaded: patt22
2025-07-07 16:21:36,612 - DEBUG - User loaded: patt22
2025-07-07 16:21:55,053 - DEBUG - User loaded: patt22
2025-07-07 16:33:05,842 - DEBUG - User loaded: patt22
2025-07-07 16:35:07,367 - DEBUG - User patt22 logged in, redirecting to home
2025-07-07 16:35:07,396 - DEBUG - User loaded: patt22
2025-07-07 16:35:15,580 - DEBUG - User loaded: patt22
2025-07-07 16:35:26,092 - DEBUG - User loaded: patt22
2025-07-07 16:35:30,082 - DEBUG - User loaded: patt22
2025-07-07 16:35:32,205 - DEBUG - User loaded: patt22
2025-07-07 16:35:41,814 - DEBUG - User loaded: patt22
2025-07-07 16:35:53,184 - INFO - Recipe saved for user patt22: Generated Recipe
2025-07-07 16:36:09,690 - DEBUG - User loaded: patt22
2025-07-07 16:36:12,074 - DEBUG - User loaded: patt22
2025-07-07 16:36:18,828 - DEBUG - User loaded: patt22
2025-07-07 16:36:33,384 - DEBUG - User loaded: patt22
2025-07-07 16:41:12,624 - DEBUG - User loaded: patt22
2025-07-07 16:41:51,026 - DEBUG - User patt22 logged in, redirecting to home
2025-07-07 16:41:51,342 - DEBUG - User loaded: patt22
2025-07-07 16:41:54,900 - DEBUG - User loaded: patt22
2025-07-07 16:41:54,911 - ERROR - Exception on /pricing [GET]
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 275, in pricing
    return render_template_string(PRICING_HTML)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 162, in render_template_string
    return _render(app, template, context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 65, in top-level template code
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'os' is undefined
2025-07-07 16:42:00,795 - DEBUG - User loaded: patt22
2025-07-07 16:42:06,548 - DEBUG - User loaded: patt22
2025-07-07 16:42:11,160 - DEBUG - User loaded: patt22
2025-07-07 16:42:19,655 - DEBUG - User loaded: patt22
2025-07-07 16:42:31,943 - INFO - Recipe saved for user patt22: Generated Recipe
2025-07-07 16:42:42,026 - DEBUG - User loaded: patt22
2025-07-07 16:42:47,258 - DEBUG - User loaded: patt22
2025-07-07 16:42:54,843 - DEBUG - User loaded: patt22
2025-07-07 16:44:00,813 - DEBUG - User loaded: patt22
2025-07-07 16:45:43,668 - DEBUG - User kenn logged in, redirecting to home
2025-07-07 16:45:43,696 - DEBUG - User loaded: kenn
2025-07-07 16:45:56,167 - DEBUG - User loaded: kenn
2025-07-07 16:46:08,574 - DEBUG - User loaded: kenn
2025-07-07 16:46:22,029 - INFO - Recipe saved for user kenn: Generated Recipe
2025-07-07 16:48:14,058 - DEBUG - User loaded: kenn
2025-07-07 16:48:27,405 - INFO - Recipe saved for user kenn: Generated Recipe
2025-07-07 16:49:09,799 - DEBUG - User loaded: kenn
2025-07-07 16:49:24,398 - INFO - Recipe saved for user kenn: Generated Recipe
2025-07-07 16:49:40,382 - DEBUG - User loaded: kenn
2025-07-07 16:49:42,949 - DEBUG - User loaded: kenn
2025-07-07 16:50:01,183 - DEBUG - User loaded: kenn
2025-07-07 16:50:39,674 - DEBUG - User loaded: kenn
2025-07-07 16:51:02,481 - DEBUG - User loaded: kenn
2025-07-07 16:51:11,794 - ERROR - Exception on /login [POST]
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 191, in login
    if user and check_password_hash(user.password, password):
                ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\werkzeug\security.py", line 127, in check_password_hash
    method, salt, hashval = pwhash.split("$", 2)
                            ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'split'
2025-07-07 16:51:47,856 - ERROR - Exception on /login [POST]
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 191, in login
    if user and check_password_hash(user.password, password):
                ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\werkzeug\security.py", line 127, in check_password_hash
    method, salt, hashval = pwhash.split("$", 2)
                            ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'split'
2025-07-07 16:52:16,855 - DEBUG - User olle logged in, redirecting to home
2025-07-07 16:52:17,171 - DEBUG - User loaded: olle
2025-07-07 16:52:30,156 - DEBUG - User loaded: olle
2025-07-07 16:53:12,877 - DEBUG - User loaded: olle
2025-07-07 16:53:23,933 - INFO - Recipe saved for user olle: Generated Recipe
2025-07-07 16:54:06,197 - DEBUG - User loaded: olle
2025-07-07 16:54:18,413 - DEBUG - User loaded: olle
2025-07-07 16:54:30,680 - DEBUG - User loaded: olle
2025-07-07 16:54:34,231 - DEBUG - User loaded: olle
2025-07-07 16:54:56,547 - DEBUG - User loaded: olle
2025-07-07 16:58:26,218 - DEBUG - User loaded: olle
2025-07-07 18:38:27,886 - DEBUG - User kenn logged in, redirecting to home
2025-07-07 18:38:28,213 - DEBUG - User loaded: kenn
2025-07-07 18:38:34,052 - DEBUG - User loaded: kenn
2025-07-07 18:38:34,057 - ERROR - Exception on /pricing [GET]
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 275, in pricing
    return render_template_string(PRICING_HTML)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 162, in render_template_string
    return _render(app, template, context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 65, in top-level template code
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'os' is undefined
2025-07-07 18:39:30,216 - DEBUG - User loaded: kenn
2025-07-07 18:39:30,217 - ERROR - Exception on /pricing [GET]
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 275, in pricing
    return render_template_string(PRICING_HTML)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 162, in render_template_string
    return _render(app, template, context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 65, in top-level template code
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'os' is undefined
2025-07-07 18:47:01,825 - DEBUG - User loaded: kenn
2025-07-07 18:47:11,774 - DEBUG - User loaded: kenn
2025-07-07 18:47:32,188 - DEBUG - User loaded: kenn
2025-07-07 18:48:01,300 - DEBUG - User loaded: kenn
2025-07-07 19:13:42,787 - DEBUG - User loaded: kenn
2025-07-07 19:18:31,213 - DEBUG - User patt22 logged in, redirecting to home
2025-07-07 19:18:31,533 - DEBUG - User loaded: patt22
2025-07-07 19:18:41,729 - DEBUG - User loaded: patt22
2025-07-07 19:19:08,049 - DEBUG - User loaded: patt22
2025-07-07 19:19:08,050 - ERROR - Exception on /pricing [GET]
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 275, in pricing
    return render_template_string(PRICING_HTML)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 162, in render_template_string
    return _render(app, template, context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 65, in top-level template code
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'os' is undefined
2025-07-07 19:19:16,947 - DEBUG - User loaded: patt22
2025-07-07 19:19:33,321 - DEBUG - User loaded: patt22
2025-07-07 19:21:48,796 - DEBUG - User loaded: patt22
2025-07-07 19:52:33,965 - DEBUG - User test logged in, redirecting to home
2025-07-07 19:52:34,288 - DEBUG - User loaded: test
2025-07-07 19:53:58,608 - DEBUG - User loaded: test
2025-07-07 19:54:19,025 - DEBUG - User loaded: test
2025-07-07 19:54:30,182 - INFO - Recipe saved for user test: Generated Recipe
2025-07-07 19:54:43,758 - DEBUG - User loaded: test
2025-07-07 19:54:56,499 - DEBUG - User loaded: test
2025-07-07 19:55:03,524 - DEBUG - User loaded: test
2025-07-07 20:05:02,715 - DEBUG - User loaded: test
2025-07-07 20:05:08,999 - DEBUG - User loaded: test
2025-07-07 20:05:29,720 - DEBUG - User loaded: test
2025-07-07 20:06:09,195 - DEBUG - User loaded: test
2025-07-07 20:06:21,424 - INFO - Recipe saved for user test: Generated Recipe
2025-07-07 20:09:00,114 - DEBUG - User loaded: test
2025-07-07 20:09:15,366 - DEBUG - User loaded: test
2025-07-07 20:09:23,902 - INFO - Recipe saved for user test: Generated Recipe
2025-07-07 20:11:01,412 - DEBUG - User loaded: test
2025-07-07 20:11:13,746 - DEBUG - User loaded: test
2025-07-07 20:11:16,617 - DEBUG - User loaded: test
2025-07-07 20:11:21,925 - DEBUG - User loaded: test
2025-07-07 20:11:26,012 - DEBUG - User loaded: test
2025-07-07 20:11:26,014 - ERROR - Exception on /pricing [GET]
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 275, in pricing
    return render_template_string(PRICING_HTML)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 162, in render_template_string
    return _render(app, template, context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 65, in top-level template code
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'os' is undefined
2025-07-07 20:13:58,520 - DEBUG - User loaded: test
2025-07-07 20:14:01,318 - DEBUG - User loaded: test
2025-07-07 20:14:07,684 - DEBUG - User loaded: test
2025-07-07 20:14:08,032 - DEBUG - User loaded: test
2025-07-07 20:14:08,293 - DEBUG - User loaded: test
2025-07-07 20:14:11,673 - DEBUG - User loaded: test
2025-07-07 20:14:18,686 - DEBUG - User loaded: test
2025-07-07 20:14:19,034 - DEBUG - User loaded: test
2025-07-07 20:14:19,285 - DEBUG - User loaded: test
2025-07-07 20:14:22,042 - DEBUG - User loaded: test
2025-07-07 20:14:22,043 - ERROR - Exception on /pricing [GET]
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 275, in pricing
    return render_template_string(PRICING_HTML)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 162, in render_template_string
    return _render(app, template, context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 65, in top-level template code
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'os' is undefined
2025-07-07 20:14:31,571 - DEBUG - User loaded: test
2025-07-07 20:15:01,930 - DEBUG - User leigh logged in, redirecting to home
2025-07-07 20:15:02,260 - DEBUG - User loaded: leigh
2025-07-07 20:15:05,593 - DEBUG - User loaded: leigh
2025-07-07 20:15:12,848 - DEBUG - User loaded: leigh
2025-07-07 20:15:22,696 - INFO - Recipe saved for user leigh: Generated Recipe
2025-07-07 20:19:34,798 - DEBUG - User loaded: leigh
2025-07-07 20:19:38,575 - DEBUG - User loaded: leigh
2025-07-07 21:03:09,103 - DEBUG - User loaded: leigh
2025-07-07 21:03:31,591 - DEBUG - User leigh logged in, redirecting to home
2025-07-07 21:03:31,911 - DEBUG - User loaded: leigh
2025-07-07 21:03:45,051 - DEBUG - User loaded: leigh
2025-07-07 21:03:45,060 - ERROR - Exception on /pricing [GET]
Traceback (most recent call last):
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\app.py", line 275, in pricing
    return render_template_string(PRICING_HTML)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 162, in render_template_string
    return _render(app, template, context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 65, in top-level template code
  File "C:\Users\leebu\Desktop\recipeverse\backend\venv\Lib\site-packages\jinja2\environment.py", line 490, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'os' is undefined
2025-07-07 21:03:49,393 - DEBUG - User loaded: leigh
2025-07-07 21:04:18,561 - DEBUG - User loaded: leigh
2025-07-07 21:04:38,222 - DEBUG - User loaded: leigh
2025-07-07 21:04:49,319 - INFO - Recipe saved for user leigh: Generated Recipe
2025-07-07 21:05:01,874 - DEBUG - User loaded: leigh
2025-07-07 21:05:23,378 - DEBUG - User loaded: leigh
2025-07-07 21:05:52,588 - DEBUG - User loaded: leigh
2025-07-07 21:06:22,394 - DEBUG - User loaded: leigh
2025-07-07 21:06:41,090 - DEBUG - User loaded: leigh
2025-07-07 21:08:25,075 - DEBUG - User leigh logged in, redirecting to home
2025-07-07 21:08:25,406 - DEBUG - User loaded: leigh
2025-07-07 21:08:40,637 - DEBUG - User loaded: leigh
2025-07-07 21:08:48,309 - DEBUG - User loaded: leigh
2025-07-07 21:08:50,894 - DEBUG - User loaded: leigh
2025-07-07 21:09:25,591 - DEBUG - User loaded: leigh
2025-07-07 21:09:30,647 - DEBUG - User loaded: leigh
2025-07-07 21:43:13,619 - DEBUG - User patt22 logged in, redirecting to home
2025-07-07 21:43:13,949 - DEBUG - User loaded: patt22
2025-07-07 21:43:21,850 - DEBUG - User loaded: patt22
2025-07-07 21:44:03,526 - DEBUG - User loaded: patt22
2025-07-07 21:44:09,546 - DEBUG - User loaded: patt22
2025-07-07 21:44:28,515 - DEBUG - User loaded: patt22
2025-07-09 15:23:30,214 - DEBUG - User patt22 logged in, redirecting to home
2025-07-09 15:23:30,550 - DEBUG - User loaded: patt22
2025-07-09 15:24:03,662 - DEBUG - User loaded: patt22
2025-07-09 15:24:08,086 - DEBUG - User loaded: patt22
2025-07-09 15:24:15,846 - DEBUG - User loaded: patt22
2025-07-09 15:24:27,337 - DEBUG - User loaded: patt22
2025-07-09 15:24:27,596 - DEBUG - User loaded: patt22
2025-07-09 15:24:27,671 - DEBUG - User loaded: patt22
2025-07-09 15:24:37,056 - DEBUG - User loaded: patt22
2025-07-09 15:25:06,472 - DEBUG - User k3ndo logged in, redirecting to home
2025-07-09 15:25:06,785 - DEBUG - User loaded: k3ndo
2025-07-09 15:25:14,147 - DEBUG - User loaded: k3ndo
2025-07-09 15:25:16,893 - DEBUG - User loaded: k3ndo
2025-07-09 16:18:59,826 - DEBUG - User loaded: k3ndo
2025-07-09 16:21:06,341 - DEBUG - User leigh logged in, redirecting to home
2025-07-09 16:21:06,661 - DEBUG - User loaded: leigh
2025-07-09 16:24:31,478 - DEBUG - User loaded: leigh
2025-07-09 16:24:55,225 - DEBUG - User loaded: leigh
2025-07-09 16:25:02,646 - DEBUG - User loaded: leigh
2025-07-09 16:25:15,706 - DEBUG - User loaded: leigh
2025-07-09 16:25:50,851 - ERROR - Google OAuth error: OpenIDMixin.parse_id_token() missing 1 required positional argument: 'nonce'
2025-07-09 16:26:17,224 - ERROR - Google OAuth error: OpenIDMixin.parse_id_token() missing 1 required positional argument: 'nonce'
2025-07-09 16:35:13,890 - ERROR - Google OAuth error: mismatching_state: CSRF Warning! State not equal in request and response.
2025-07-09 16:36:38,817 - DEBUG - User k3nd0 logged in, redirecting to home
2025-07-09 16:36:38,882 - DEBUG - User loaded: k3nd0
2025-07-09 18:14:46,956 - DEBUG - User loaded: k3nd0
2025-07-09 18:14:59,667 - DEBUG - User loaded: k3nd0
2025-07-09 18:15:28,934 - DEBUG - User loaded: k3nd0
2025-07-09 18:20:31,617 - DEBUG - User loaded: k3nd0
2025-07-09 18:20:41,737 - DEBUG - User loaded: k3nd0
2025-07-09 18:20:41,752 - INFO - Credits reset to 3 for user k3nd0 on 2025-07-09
2025-07-09 18:20:41,759 - INFO - Credit deducted for user k3nd0. Remaining: 2, API calls: 1
2025-07-09 18:20:57,036 - INFO - Recipe saved for user k3nd0: Generated Recipe
2025-07-09 18:21:14,191 - DEBUG - User loaded: k3nd0
2025-07-09 18:21:19,178 - DEBUG - User loaded: k3nd0
2025-07-09 18:22:53,531 - DEBUG - User loaded: k3nd0
2025-07-09 18:31:59,340 - DEBUG - User loaded: k3nd0
2025-07-09 18:32:26,187 - DEBUG - User loaded: k3nd0
2025-07-09 18:33:47,830 - DEBUG - User loaded: k3nd0
2025-07-09 18:33:55,917 - DEBUG - User loaded: k3nd0
2025-07-09 18:46:46,014 - DEBUG - User loaded: k3nd0
2025-07-09 18:46:50,499 - DEBUG - User loaded: k3nd0
2025-07-09 18:47:04,728 - DEBUG - User loaded: k3nd0
2025-07-09 19:11:02,845 - DEBUG - User loaded: k3nd0
2025-07-09 19:12:50,468 - DEBUG - User loaded: k3nd0
2025-07-09 19:12:54,346 - DEBUG - User loaded: k3nd0
2025-07-09 19:16:01,929 - DEBUG - User loaded: k3nd0
2025-07-09 19:16:34,174 - DEBUG - User loaded: k3nd0
2025-07-09 19:16:34,201 - INFO - Credit deducted for user k3nd0. Remaining: 1, API calls: 2
2025-07-09 19:16:49,692 - INFO - Recipe saved for user k3nd0: Generated Recipe
2025-07-09 19:17:24,515 - DEBUG - User loaded: k3nd0
2025-07-09 19:23:58,102 - DEBUG - User loaded: k3nd0
2025-07-09 19:38:02,426 - DEBUG - User loaded: k3nd0
2025-07-09 19:41:19,301 - DEBUG - User loaded: k3nd0
2025-07-09 19:47:03,684 - DEBUG - User loaded: k3nd0
2025-07-09 19:47:08,601 - DEBUG - User loaded: k3nd0
2025-07-09 20:01:02,329 - DEBUG - User loaded: k3nd0
2025-07-09 20:01:10,126 - DEBUG - User loaded: k3nd0
2025-07-09 20:05:56,526 - DEBUG - User loaded: k3nd0
2025-07-09 20:08:40,673 - DEBUG - User loaded: k3nd0
2025-07-09 20:08:44,157 - DEBUG - User loaded: k3nd0
2025-07-09 20:08:46,411 - ERROR - Stripe checkout error: Request req_Haj8DLZupIGTMW: No such price: 'prod_ScqBcrN4pb3Bac'
2025-07-09 20:13:55,532 - DEBUG - User loaded: k3nd0
2025-07-09 20:14:04,321 - DEBUG - User loaded: k3nd0
2025-07-09 20:14:06,042 - ERROR - Stripe checkout error: Request req_dMJQct0flqcb1j: No such price: 'prod_ScqBcrN4pb3Bac'
2025-07-09 20:17:38,754 - DEBUG - User loaded: k3nd0
2025-07-09 20:17:45,198 - DEBUG - User loaded: k3nd0
2025-07-09 20:17:46,441 - ERROR - Stripe checkout error: Request req_iMXBaPM69akWAx: No such price: 'prod_ScqBcrN4pb3Bac'
2025-07-09 20:18:22,621 - DEBUG - User loaded: k3nd0
2025-07-09 20:18:29,568 - DEBUG - User loaded: k3nd0
2025-07-09 20:18:31,611 - DEBUG - User loaded: k3nd0
2025-07-09 20:18:33,545 - DEBUG - User loaded: k3nd0
2025-07-09 20:25:10,957 - DEBUG - User loaded: k3nd0
2025-07-09 20:25:31,924 - DEBUG - User loaded: k3nd0
2025-07-09 20:25:35,661 - DEBUG - User loaded: k3nd0
2025-07-09 20:25:50,212 - DEBUG - User loaded: k3nd0
2025-07-09 20:25:56,325 - DEBUG - User loaded: k3nd0
2025-07-09 20:25:58,684 - DEBUG - User loaded: k3nd0
2025-07-09 20:26:32,058 - DEBUG - User loaded: k3nd0
2025-07-09 20:26:32,088 - INFO - Credit deducted for user k3nd0. Remaining: 0, API calls: 3
2025-07-09 20:26:39,575 - INFO - Recipe saved for user k3nd0: Generated Recipe
2025-07-09 20:30:43,302 - DEBUG - User loaded: k3nd0
2025-07-09 20:31:01,530 - DEBUG - User loaded: k3nd0
2025-07-09 20:31:11,608 - DEBUG - User loaded: k3nd0
2025-07-09 20:31:17,217 - DEBUG - User loaded: k3nd0
2025-07-09 20:31:34,143 - DEBUG - User loaded: k3nd0
2025-07-09 20:32:23,463 - DEBUG - User loaded: k3nd0
2025-07-09 20:32:44,112 - DEBUG - User loaded: k3nd0
2025-07-09 20:35:08,605 - DEBUG - User loaded: k3nd0
2025-07-09 20:35:18,074 - DEBUG - User loaded: k3nd0
2025-07-09 20:35:27,651 - DEBUG - User loaded: k3nd0
2025-07-09 20:36:31,682 - DEBUG - User loaded: k3nd0
2025-07-09 20:36:38,201 - DEBUG - User loaded: k3nd0
2025-07-09 20:39:14,861 - DEBUG - User loaded: k3nd0
2025-07-09 20:39:17,291 - DEBUG - User loaded: k3nd0
2025-07-09 20:39:27,109 - DEBUG - User loaded: k3nd0
2025-07-09 20:39:35,162 - DEBUG - User loaded: k3nd0
2025-07-09 20:39:46,561 - DEBUG - User loaded: k3nd0
2025-07-09 20:42:41,804 - DEBUG - User loaded: k3nd0
2025-07-09 20:43:12,875 - DEBUG - User patt22 logged in, redirecting to home
2025-07-09 20:43:12,939 - DEBUG - User loaded: patt22
2025-07-09 20:44:52,377 - DEBUG - User loaded: patt22
2025-07-09 20:51:37,439 - ERROR - Google OAuth error: OpenIDMixin.parse_id_token() missing 1 required positional argument: 'nonce'
2025-07-09 20:56:54,626 - DEBUG - User Michael logged in via Google, redirecting to home
2025-07-09 20:56:54,958 - DEBUG - User loaded: Michael
2025-07-09 20:57:01,962 - DEBUG - User loaded: Michael
2025-07-09 20:57:04,027 - DEBUG - User loaded: Michael
2025-07-09 21:09:45,710 - DEBUG - User loaded: Michael
2025-07-09 21:10:21,131 - DEBUG - User loaded: Michael
2025-07-09 21:10:21,156 - INFO - Credits reset to 3 for user Michael on 2025-07-09
2025-07-09 21:10:21,167 - INFO - Credit deducted for user Michael. Remaining: 2, API calls: 1
2025-07-09 21:10:38,032 - INFO - Recipe saved for user Michael: Generated Recipe
2025-07-09 21:11:08,641 - DEBUG - User loaded: Michael
2025-07-09 21:11:28,772 - DEBUG - User loaded: Michael
2025-07-09 21:11:51,107 - DEBUG - User loaded: Michael
2025-07-09 21:11:51,117 - INFO - Credit deducted for user Michael. Remaining: 1, API calls: 2
2025-07-09 21:12:01,281 - INFO - Recipe saved for user Michael: Generated Recipe
2025-07-09 21:12:43,561 - DEBUG - User loaded: Michael
2025-07-09 21:12:55,281 - DEBUG - User loaded: Michael
2025-07-09 22:00:39,255 - DEBUG - User Detroit Project logged in via Google, redirecting to home
2025-07-09 22:00:39,272 - DEBUG - User loaded: Detroit Project
2025-07-09 22:00:50,814 - DEBUG - User loaded: Detroit Project
2025-07-09 22:01:21,579 - DEBUG - User loaded: Detroit Project
2025-07-09 22:01:21,594 - INFO - Credits reset to 3 for user Detroit Project on 2025-07-09
2025-07-09 22:01:21,602 - INFO - Credit deducted for user Detroit Project. Remaining: 2, API calls: 1
2025-07-09 22:01:32,830 - INFO - Recipe saved for user Detroit Project: Generated Recipe
2025-07-09 22:02:31,411 - DEBUG - User loaded: Detroit Project
2025-07-09 22:02:45,146 - DEBUG - User loaded: Detroit Project
2025-07-09 22:02:51,214 - DEBUG - User loaded: Detroit Project
